2026-02-18 11:48:14.599 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [277132]
2026-02-18 11:48:14.600 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [277132]
2026-02-18 11:48:14.600 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 11:48:14.600 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 11:48:14.601 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 11:48:14.626 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 11:48:14.633 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.633 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.634 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 11:48:14.634 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 11:48:14.634 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.634 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.637 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 11:48:14.637 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 11:48:14.637 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.638 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.640 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 11:48:14.640 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 11:48:14.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.641 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.642 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 11:48:14.642 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 11:48:14.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.645 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 11:48:14.645 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 11:48:14.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.647 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 11:48:14.648 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 11:48:14.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.650 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 11:48:14.650 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 11:48:14.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.652 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 11:48:14.653 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 11:48:14.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.655 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 11:48:14.655 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 11:48:14.655 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.658 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 11:48:14.658 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 11:48:14.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.660 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 11:48:14.660 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 11:48:14.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.663 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 11:48:14.663 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 11:48:14.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.665 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 11:48:14.666 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 11:48:14.666 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.666 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.668 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 11:48:14.668 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 11:48:14.668 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.671 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 11:48:14.671 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 11:48:14.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.673 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 11:48:14.674 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 11:48:14.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.676 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 11:48:14.676 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 11:48:14.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.677 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.679 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 11:48:14.679 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 11:48:14.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 11:48:14.683 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 11:48:14.684 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 11:48:14.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.705 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 11:48:14.705 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 11:48:14.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00058s] ()
2026-02-18 11:48:14.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00058s] ()
2026-02-18 11:48:14.718 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 11:48:14.718 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 11:48:14.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00050s] ()
2026-02-18 11:48:14.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00050s] ()
2026-02-18 11:48:14.731 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 11:48:14.731 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 11:48:14.731 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00058s] ()
2026-02-18 11:48:14.731 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00058s] ()
2026-02-18 11:48:14.744 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 11:48:14.744 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 11:48:14.744 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00071s] ()
2026-02-18 11:48:14.745 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00071s] ()
2026-02-18 11:48:14.757 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 11:48:14.758 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 11:48:14.758 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00055s] ()
2026-02-18 11:48:14.758 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00055s] ()
2026-02-18 11:48:14.770 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 11:48:14.770 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 11:48:14.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 11:48:14.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 11:48:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 11:48:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 11:48:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00050s] ()
2026-02-18 11:48:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00050s] ()
2026-02-18 11:48:14.796 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 11:48:14.796 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 11:48:14.796 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00045s] ()
2026-02-18 11:48:14.796 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00045s] ()
2026-02-18 11:48:14.808 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 11:48:14.808 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 11:48:14.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.822 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 11:48:14.822 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 11:48:14.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00074s] ()
2026-02-18 11:48:14.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00074s] ()
2026-02-18 11:48:14.835 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 11:48:14.836 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 11:48:14.836 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00068s] ()
2026-02-18 11:48:14.836 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00068s] ()
2026-02-18 11:48:14.850 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 11:48:14.850 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 11:48:14.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 11:48:14.862 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.862 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.864 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 11:48:14.864 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 11:48:14.865 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.866 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.913 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.913 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.913 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('doctor',)
2026-02-18 11:48:14.914 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('doctor',)
2026-02-18 11:48:14.919 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.919 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.919 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('doctor',)
2026-02-18 11:48:14.919 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('doctor',)
2026-02-18 11:48:14.922 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.922 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.935 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.935 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.938 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.939 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.939 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('doctor',)
2026-02-18 11:48:14.939 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('doctor',)
2026-02-18 11:48:14.942 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: doctor
2026-02-18 11:48:14.943 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.943 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.943 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03061s ago] ('auto',)
2026-02-18 11:48:14.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03061s ago] ('auto',)
2026-02-18 11:48:14.947 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.947 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02879s ago] ('auto',)
2026-02-18 11:48:14.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02879s ago] ('auto',)
2026-02-18 11:48:14.949 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.949 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.962 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.962 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.963 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02462s ago] ('auto',)
2026-02-18 11:48:14.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02462s ago] ('auto',)
2026-02-18 11:48:14.965 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: auto
2026-02-18 11:48:14.966 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.966 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05313s ago] ('admin',)
2026-02-18 11:48:14.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05313s ago] ('admin',)
2026-02-18 11:48:14.968 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.968 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04988s ago] ('admin',)
2026-02-18 11:48:14.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04988s ago] ('admin',)
2026-02-18 11:48:14.970 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.970 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:14.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04499s ago] ('admin',)
2026-02-18 11:48:14.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04499s ago] ('admin',)
2026-02-18 11:48:14.986 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: admin
2026-02-18 11:48:14.987 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.987 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:14.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07421s ago] ('expert',)
2026-02-18 11:48:14.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07421s ago] ('expert',)
2026-02-18 11:48:14.990 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.990 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:14.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07223s ago] ('expert',)
2026-02-18 11:48:14.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07223s ago] ('expert',)
2026-02-18 11:48:14.993 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:14.993 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.014 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.014 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07744s ago] ('expert',)
2026-02-18 11:48:15.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07744s ago] ('expert',)
2026-02-18 11:48:15.018 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: expert
2026-02-18 11:48:15.019 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.019 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.020 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1068s ago] ('ordinator',)
2026-02-18 11:48:15.020 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1068s ago] ('ordinator',)
2026-02-18 11:48:15.023 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:15.023 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 11:48:15.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1047s ago] ('ordinator',)
2026-02-18 11:48:15.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1047s ago] ('ordinator',)
2026-02-18 11:48:15.025 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.025 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.037 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.037 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.038 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09965s ago] ('ordinator',)
2026-02-18 11:48:15.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09965s ago] ('ordinator',)
2026-02-18 11:48:15.040 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: ordinator
2026-02-18 11:48:15.041 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.041 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.042 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 11:48:15.042 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 11:48:15.051 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.051 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.054 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.054 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('expert_check',)
2026-02-18 11:48:15.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('expert_check',)
2026-02-18 11:48:15.059 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.059 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 11:48:15.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 11:48:15.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.074 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.075 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.077 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.077 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.077 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('expert_check',)
2026-02-18 11:48:15.077 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('expert_check',)
2026-02-18 11:48:15.080 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: expert_check
2026-02-18 11:48:15.080 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.080 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.084 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.085 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03172s ago] ('ai_analysis',)
2026-02-18 11:48:15.086 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03172s ago] ('ai_analysis',)
2026-02-18 11:48:15.089 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.089 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0306s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 11:48:15.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0306s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 11:48:15.092 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.092 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.103 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.104 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02831s ago] ('ai_analysis',)
2026-02-18 11:48:15.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02831s ago] ('ai_analysis',)
2026-02-18 11:48:15.108 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: ai_analysis
2026-02-18 11:48:15.108 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.108 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.112 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.112 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.113 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.113 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.113 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0595s ago] ('doctor_review',)
2026-02-18 11:48:15.113 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0595s ago] ('doctor_review',)
2026-02-18 11:48:15.117 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.117 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05824s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 11:48:15.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05824s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 11:48:15.119 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.119 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.131 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.131 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.132 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.132 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:48:15.132 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05583s ago] ('doctor_review',)
2026-02-18 11:48:15.132 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05583s ago] ('doctor_review',)
2026-02-18 11:48:15.134 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: doctor_review
2026-02-18 11:48:15.135 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.135 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.137 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.137 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.140 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 11:48:15.140 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 11:48:15.141 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00106s] ()
2026-02-18 11:48:15.141 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00106s] ()
2026-02-18 11:48:15.143 |                   WARNING  |                   src.utils.admin:ensure_admin_exists:69 -                   No admin users found in system!
2026-02-18 11:48:15.144 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.144 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 11:48:15.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 11:48:15.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('admin@clarinet.ru',)
2026-02-18 11:48:15.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('admin@clarinet.ru',)
2026-02-18 11:48:15.557 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.557 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 11:48:15.558 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('admin@clarinet.ru', '$2b$12$bqlrvx72Sd2uOoxagKCB..sPO.tEW0kQpyemNgByKDJ8rrsaTIBtq', 1, 1, 1, '478dcefced45432ea83a5a101aa6735e')
2026-02-18 11:48:15.558 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('admin@clarinet.ru', '$2b$12$bqlrvx72Sd2uOoxagKCB..sPO.tEW0kQpyemNgByKDJ8rrsaTIBtq', 1, 1, 1, '478dcefced45432ea83a5a101aa6735e')
2026-02-18 11:48:15.561 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.561 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:48:15.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:48:15.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:48:15.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:48:15.591 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 11:48:15.591 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 11:48:15.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:48:15.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:48:15.594 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.595 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 11:48:15.595 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6823s ago] ('admin',)
2026-02-18 11:48:15.595 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6823s ago] ('admin',)
2026-02-18 11:48:15.599 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 11:48:15.599 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 11:48:15.600 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('478dcefced45432ea83a5a101aa6735e', 'admin')
2026-02-18 11:48:15.600 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('478dcefced45432ea83a5a101aa6735e', 'admin')
2026-02-18 11:48:15.602 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.602 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.614 |                   INFO     |                   src.utils.bootstrap:create_admin_user:209 -                   Assigned 'admin' role to user with email 'admin@clarinet.ru'
2026-02-18 11:48:15.614 |                   INFO     |                   src.utils.bootstrap:create_admin_user:211 -                   Created admin user with email 'admin@clarinet.ru'
2026-02-18 11:48:15.614 |                   WARNING  |                   src.utils.bootstrap:create_admin_user:214 -                     DEFAULT ADMIN CREDENTIALS IN USE!
   Username: admin
   Password: admin123
   CHANGE THESE IMMEDIATELY!
2026-02-18 11:48:15.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:48:15.675 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 11:48:15.675 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 11:48:15.675 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 11:48:15.675 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 11:48:15.676 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.677 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:48:15.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 11:48:15.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 11:48:15.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('2026-02-18 08:48:15.676318',)
2026-02-18 11:48:15.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('2026-02-18 08:48:15.676318',)
2026-02-18 11:48:15.681 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 11:48:15.681 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 11:48:15.682 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 11:48:15.683 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 11:48:15.686 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:48:15.686 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:27.146 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.146 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.149 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 11:49:27.150 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 11:49:27.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('admin@clarinet.ru',)
2026-02-18 11:49:27.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('admin@clarinet.ru',)
2026-02-18 11:49:27.666 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 11:49:27.667 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 11:49:27.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('$argon2id$v=19$m=65536,t=3,p=4$dtoIjcsTNn6NZol54pRQmQ$S1eEZ2q0b/ZikCKv0DNZ98KAmEUZYYuZMvHhgiMpKAI', '478dcefced45432ea83a5a101aa6735e')
2026-02-18 11:49:27.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('$argon2id$v=19$m=65536,t=3,p=4$dtoIjcsTNn6NZol54pRQmQ$S1eEZ2q0b/ZikCKv0DNZ98KAmEUZYYuZMvHhgiMpKAI', '478dcefced45432ea83a5a101aa6735e')
2026-02-18 11:49:27.670 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.670 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.690 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.690 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:49:27.695398')
2026-02-18 11:49:27.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:49:27.695398')
2026-02-18 11:49:27.702 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:49:27.702 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:49:27.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:49:27.700534', '2026-02-19 08:49:27.700303', '2026-02-18 08:49:27.700559', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 11:49:27.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:49:27.700534', '2026-02-19 08:49:27.700303', '2026-02-18 08:49:27.700559', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 11:49:27.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.706 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.717 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user 478dcefc-ed45-432e-a83a-5a101aa6735e
2026-02-18 11:49:27.717 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User 478dcefc-ed45-432e-a83a-5a101aa6735e logged in.
2026-02-18 11:49:27.729 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.730 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.736 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.736 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.736 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00081s] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '2026-02-18 08:49:27.728806')
2026-02-18 11:49:27.736 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00081s] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '2026-02-18 08:49:27.728806')
2026-02-18 11:49:27.740 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:49:27.741 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:49:27.741 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('2026-02-18 08:49:27.739486', '7c499562-de6b-4cde-8f36-3918e7b649d5')
2026-02-18 11:49:27.741 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('2026-02-18 08:49:27.739486', '7c499562-de6b-4cde-8f36-3918e7b649d5')
2026-02-18 11:49:27.743 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.743 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.756 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.756 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.757 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.758 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.758 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.758 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.778 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.778 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.793 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.793 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.794 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.794 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:49:27.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05855s ago] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '2026-02-18 08:49:27.792617')
2026-02-18 11:49:27.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05855s ago] ('7c499562-de6b-4cde-8f36-3918e7b649d5', '2026-02-18 08:49:27.792617')
2026-02-18 11:49:27.798 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:49:27.798 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:49:27.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0578s ago] ('2026-02-18 08:49:27.797134', '7c499562-de6b-4cde-8f36-3918e7b649d5')
2026-02-18 11:49:27.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0578s ago] ('2026-02-18 08:49:27.797134', '7c499562-de6b-4cde-8f36-3918e7b649d5')
2026-02-18 11:49:27.801 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.801 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.813 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.813 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.814 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.814 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:49:27.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05691s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05691s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:49:27.817 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.818 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.827 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.827 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.828 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.828 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.829 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('PAT001',)
2026-02-18 11:49:27.829 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('PAT001',)
2026-02-18 11:49:27.833 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.833 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.833 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ('  ', None, 'PAT001', None)
2026-02-18 11:49:27.833 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ('  ', None, 'PAT001', None)
2026-02-18 11:49:27.836 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.836 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.851 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.851 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.895 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.895 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.895 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] ('PAT001',)
2026-02-18 11:49:27.895 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] ('PAT001',)
2026-02-18 11:49:27.898 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.898 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.954 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.954 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.955 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.955 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1269s ago] ('PAT002',)
2026-02-18 11:49:27.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1269s ago] ('PAT002',)
2026-02-18 11:49:27.959 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.959 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.959 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1265s ago] ('  ', None, 'PAT002', None)
2026-02-18 11:49:27.959 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1265s ago] ('  ', None, 'PAT002', None)
2026-02-18 11:49:27.961 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.961 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08846s ago] ('PAT002',)
2026-02-18 11:49:27.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08846s ago] ('PAT002',)
2026-02-18 11:49:27.986 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.986 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:27.993 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.993 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:27.994 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.994 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:27.994 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1659s ago] ('PAT003',)
2026-02-18 11:49:27.994 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1659s ago] ('PAT003',)
2026-02-18 11:49:27.998 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.998 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:27.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1658s ago] ('  ', None, 'PAT003', None)
2026-02-18 11:49:27.999 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1658s ago] ('  ', None, 'PAT003', None)
2026-02-18 11:49:28.000 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.001 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.012 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1198s ago] ('PAT003',)
2026-02-18 11:49:28.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1198s ago] ('PAT003',)
2026-02-18 11:49:28.017 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.018 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.027 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.028 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.028 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.028 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.029 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2006s ago] ('PAT004',)
2026-02-18 11:49:28.029 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2006s ago] ('PAT004',)
2026-02-18 11:49:28.032 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.032 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2s ago] ('  ', None, 'PAT004', None)
2026-02-18 11:49:28.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2s ago] ('  ', None, 'PAT004', None)
2026-02-18 11:49:28.035 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.036 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.047 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.048 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1542s ago] ('PAT004',)
2026-02-18 11:49:28.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1542s ago] ('PAT004',)
2026-02-18 11:49:28.051 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.051 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.061 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.061 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.061 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2329s ago] ('PAT005',)
2026-02-18 11:49:28.061 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2329s ago] ('PAT005',)
2026-02-18 11:49:28.065 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.065 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.065 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2326s ago] ('  ', None, 'PAT005', None)
2026-02-18 11:49:28.065 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2326s ago] ('  ', None, 'PAT005', None)
2026-02-18 11:49:28.068 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.068 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.083 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.083 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.083 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1893s ago] ('PAT005',)
2026-02-18 11:49:28.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1893s ago] ('PAT005',)
2026-02-18 11:49:28.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.087 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.095 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.096 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('PAT001',)
2026-02-18 11:49:28.099 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('PAT001',)
2026-02-18 11:49:28.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.109 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.109 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 11:49:28.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 11:49:28.112 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.112 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.124 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.124 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.126 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.128 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.128 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.142 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.142 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.144 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.144 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.144 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.144 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.149 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.149 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.154 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.154 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] ('1.2.840.11111.1.1.1', None, 'DWI', 1, '1.2.840.11111.1.1')
2026-02-18 11:49:28.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] ('1.2.840.11111.1.1.1', None, 'DWI', 1, '1.2.840.11111.1.1')
2026-02-18 11:49:28.158 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.158 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.170 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.170 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.173 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.173 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00109s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00109s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.177 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.177 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.185 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04234s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04234s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04149s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 11:49:28.191 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04149s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 11:49:28.194 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.194 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04018s ago] ('1.2.840.11111.1.1.2', None, 'FLAIR', 2, '1.2.840.11111.1.1')
2026-02-18 11:49:28.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04018s ago] ('1.2.840.11111.1.1.2', None, 'FLAIR', 2, '1.2.840.11111.1.1')
2026-02-18 11:49:28.196 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.196 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.208 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.209 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03756s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 11:49:28.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03756s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 11:49:28.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.213 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.222 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.222 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.223 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.223 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1256s ago] ('PAT002',)
2026-02-18 11:49:28.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1256s ago] ('PAT002',)
2026-02-18 11:49:28.226 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.227 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.227 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1236s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.227 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1236s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.230 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.230 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1216s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 11:49:28.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1216s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 11:49:28.233 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.233 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.245 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.245 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.246 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.246 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.246 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.121s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.246 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.121s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.249 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.249 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.257 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.257 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.257 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.258 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.258 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1142s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.258 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1142s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.261 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.261 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.261 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.112s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:28.261 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.112s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:28.265 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.265 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.265 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1113s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 11:49:28.265 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1113s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 11:49:28.267 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.267 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.280 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.280 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.281 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.109s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:28.282 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.109s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:28.284 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.284 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.293 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.293 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.294 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.294 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.294 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1506s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.294 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1506s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1492s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 11:49:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1492s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 11:49:28.302 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.302 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.302 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1483s ago] ('1.2.840.11111.2.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.2.1')
2026-02-18 11:49:28.302 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1483s ago] ('1.2.840.11111.2.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.2.1')
2026-02-18 11:49:28.305 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.305 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.317 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.317 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.318 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.318 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.319 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1461s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 11:49:28.319 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1461s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 11:49:28.321 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.322 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.329 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.329 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.330 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.330 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.330 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1864s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.330 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1864s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:28.333 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.334 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.334 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1849s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:28.334 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1849s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:28.337 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.337 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.337 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1836s ago] ('1.2.840.11111.2.1.3', None, 'T1 axial', 3, '1.2.840.11111.2.1')
2026-02-18 11:49:28.338 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1836s ago] ('1.2.840.11111.2.1.3', None, 'T1 axial', 3, '1.2.840.11111.2.1')
2026-02-18 11:49:28.340 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.340 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.353 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.354 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1834s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:28.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1834s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:28.359 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.360 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.369 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.369 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.370 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.370 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.371 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2729s ago] ('PAT003',)
2026-02-18 11:49:28.371 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2729s ago] ('PAT003',)
2026-02-18 11:49:28.375 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.376 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2726s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2726s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.380 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.381 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2721s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 11:49:28.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2721s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 11:49:28.384 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.384 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.396 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.396 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.397 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.397 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2726s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2726s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.400 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.400 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.408 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.408 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.409 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.409 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.409 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2656s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.410 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2656s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.412 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.413 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.413 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2638s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 11:49:28.413 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2638s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 11:49:28.417 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.417 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2635s ago] ('1.2.840.11111.3.1.1', None, 'DWI', 1, '1.2.840.11111.3.1')
2026-02-18 11:49:28.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2635s ago] ('1.2.840.11111.3.1.1', None, 'DWI', 1, '1.2.840.11111.3.1')
2026-02-18 11:49:28.420 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.420 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.432 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.432 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2608s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 11:49:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2608s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 11:49:28.436 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.436 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.443 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.443 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.444 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3006s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.444 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3006s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:28.447 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.448 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.448 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2989s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:28.448 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2989s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:28.452 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.452 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2987s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 11:49:28.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2987s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 11:49:28.456 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.456 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.467 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.467 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.468 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.468 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2959s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:28.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2959s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:28.470 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.470 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.477 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.477 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.478 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.478 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.478 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3805s ago] ('PAT003',)
2026-02-18 11:49:28.478 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3805s ago] ('PAT003',)
2026-02-18 11:49:28.481 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.482 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3787s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3787s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.486 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.486 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3775s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 11:49:28.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3775s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 11:49:28.489 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.489 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.501 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.501 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.502 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.502 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.502 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3775s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.503 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3775s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.505 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.505 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.512 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.512 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.513 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.513 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.513 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3695s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.513 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3695s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.367s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 11:49:28.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.367s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 11:49:28.519 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.519 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3653s ago] ('1.2.840.11111.3.2.1', None, 'DWI', 1, '1.2.840.11111.3.2')
2026-02-18 11:49:28.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3653s ago] ('1.2.840.11111.3.2.1', None, 'DWI', 1, '1.2.840.11111.3.2')
2026-02-18 11:49:28.521 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.522 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.536 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.536 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.537 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.537 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.365s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 11:49:28.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.365s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 11:49:28.540 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.540 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.547 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.547 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.548 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.548 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.548 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4043s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.548 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4043s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.551 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.551 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.552 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4026s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:28.552 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4026s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:28.556 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.557 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4033s ago] ('1.2.840.11111.3.2.2', None, 'T2 coronal', 2, '1.2.840.11111.3.2')
2026-02-18 11:49:28.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4033s ago] ('1.2.840.11111.3.2.2', None, 'T2 coronal', 2, '1.2.840.11111.3.2')
2026-02-18 11:49:28.560 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.560 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.573 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.573 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.574 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.574 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.574 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4019s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:28.574 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4019s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:28.577 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.577 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.583 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.583 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4407s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4407s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:28.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4407s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 11:49:28.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4407s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 11:49:28.593 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.594 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.594 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.44s ago] ('1.2.840.11111.3.2.3', None, 'T1 axial', 3, '1.2.840.11111.3.2')
2026-02-18 11:49:28.594 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.44s ago] ('1.2.840.11111.3.2.3', None, 'T1 axial', 3, '1.2.840.11111.3.2')
2026-02-18 11:49:28.596 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.596 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.607 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.607 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4361s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 11:49:28.609 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4361s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 11:49:28.610 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.610 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.616 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.617 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.617 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.617 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5199s ago] ('PAT004',)
2026-02-18 11:49:28.618 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5199s ago] ('PAT004',)
2026-02-18 11:49:28.620 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.620 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5172s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.621 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5172s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.625 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.625 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5163s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 11:49:28.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5163s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 11:49:28.627 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.627 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.640 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.640 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.641 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.641 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.641 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5162s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.641 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5162s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.650 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.651 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.655 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.656 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.507s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:28.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.507s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:28.660 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.660 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5066s ago] ('1.2.840.11111.4.1.1', None, 'T2 coronal', 1, '1.2.840.11111.4.1')
2026-02-18 11:49:28.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5066s ago] ('1.2.840.11111.4.1.1', None, 'T2 coronal', 1, '1.2.840.11111.4.1')
2026-02-18 11:49:28.662 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.662 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.504s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:28.677 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.504s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:28.678 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.679 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.686 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.686 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.687 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.687 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.687 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5438s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.688 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5438s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:28.691 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.691 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.691 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5424s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 11:49:28.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5424s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 11:49:28.695 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.696 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5422s ago] ('1.2.840.11111.4.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.4.1')
2026-02-18 11:49:28.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5422s ago] ('1.2.840.11111.4.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.4.1')
2026-02-18 11:49:28.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5386s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 11:49:28.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5386s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 11:49:28.714 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.714 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.720 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.720 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6238s ago] ('PAT005',)
2026-02-18 11:49:28.722 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6238s ago] ('PAT005',)
2026-02-18 11:49:28.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6219s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6219s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.728 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.728 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.729 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6197s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 11:49:28.729 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6197s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 11:49:28.731 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.731 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.747 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.747 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.748 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6226s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.748 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6226s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.750 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.750 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.760 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6163s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6163s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.763 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.763 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6144s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:28.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6144s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:28.766 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.767 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6131s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 11:49:28.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6131s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 11:49:28.769 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.769 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.781 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.781 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.782 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.782 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6097s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:28.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6097s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:28.785 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.785 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6501s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6501s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:28.797 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.797 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6487s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 11:49:28.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6487s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 11:49:28.801 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.801 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6477s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 11:49:28.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6477s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 11:49:28.804 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.804 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.818 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.818 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6472s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 11:49:28.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6472s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 11:49:28.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.829 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.829 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.830 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.830 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.830 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7328s ago] ('PAT005',)
2026-02-18 11:49:28.831 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7328s ago] ('PAT005',)
2026-02-18 11:49:28.833 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.833 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.834 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7304s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.834 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7304s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.837 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.837 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 11:49:28.837 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7284s ago] ('2024-05-20', '1.2.840.11111.5.2', 'PAT005', None)
2026-02-18 11:49:28.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7284s ago] ('2024-05-20', '1.2.840.11111.5.2', 'PAT005', None)
2026-02-18 11:49:28.839 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.840 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.851 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.852 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.852 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.852 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7276s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7276s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.855 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.856 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.866 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.867 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.867 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.867 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7239s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7239s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.870 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.870 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.871 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7217s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:28.871 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7217s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:28.874 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.874 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7207s ago] ('1.2.840.11111.5.2.1', None, 'DWI', 1, '1.2.840.11111.5.2')
2026-02-18 11:49:28.875 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7207s ago] ('1.2.840.11111.5.2.1', None, 'DWI', 1, '1.2.840.11111.5.2')
2026-02-18 11:49:28.877 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.877 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.888 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.888 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.889 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.717s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:28.890 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.717s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:28.892 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.892 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.899 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.899 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.900 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.900 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.900 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7564s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.900 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7564s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:28.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7544s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 11:49:28.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7544s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 11:49:28.907 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.907 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 11:49:28.907 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7537s ago] ('1.2.840.11111.5.2.2', None, 'DWI', 2, '1.2.840.11111.5.2')
2026-02-18 11:49:28.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7537s ago] ('1.2.840.11111.5.2.2', None, 'DWI', 2, '1.2.840.11111.5.2')
2026-02-18 11:49:28.910 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.910 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7508s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 11:49:28.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7508s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 11:49:28.926 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.926 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.940 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.940 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.943 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:28.943 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:28.943 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 11:49:28.943 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 11:49:28.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:28.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:28.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('doctor_review',)
2026-02-18 11:49:28.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('doctor_review',)
2026-02-18 11:49:28.954 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:28.955 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:28.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:28.951742', None, None)
2026-02-18 11:49:28.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:28.951742', None, None)
2026-02-18 11:49:28.958 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.958 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:28.970 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.970 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:28.973 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:28.973 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:28.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] (1,)
2026-02-18 11:49:28.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] (1,)
2026-02-18 11:49:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] (1,)
2026-02-18 11:49:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] (1,)
2026-02-18 11:49:28.982 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:28.982 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:28.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('doctor_review',)
2026-02-18 11:49:28.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('doctor_review',)
2026-02-18 11:49:28.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:28.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('PAT001',)
2026-02-18 11:49:28.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('PAT001',)
2026-02-18 11:49:28.988 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.989 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:28.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('1.2.840.11111.1.1.1',)
2026-02-18 11:49:28.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:28.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008945s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:28.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008945s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02724s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02724s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03337s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03337s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.002 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b7da7ee0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6c73631d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6c7363320>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c7362e50>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6c7363320>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6c73631d0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.028 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03914s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.028 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03914s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.035 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04668s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.035 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04668s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.023 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6c69d8720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b7da7ee0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c73633d0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6c73631d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6c7363320>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6c7362e50>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c7d0be70>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6c7363320>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6c73631d0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.037 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.037 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1023s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 11:49:29.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1023s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 11:49:29.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1013s ago] ('doctor_review',)
2026-02-18 11:49:29.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1013s ago] ('doctor_review',)
2026-02-18 11:49:29.052 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.053 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09889s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.051905', None, None)
2026-02-18 11:49:29.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09889s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.051905', None, None)
2026-02-18 11:49:29.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.068 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.068 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.070 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09663s ago] (2,)
2026-02-18 11:49:29.070 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09663s ago] (2,)
2026-02-18 11:49:29.074 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.074 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.074 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09691s ago] (2,)
2026-02-18 11:49:29.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09691s ago] (2,)
2026-02-18 11:49:29.078 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.078 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.078 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0963s ago] ('doctor_review',)
2026-02-18 11:49:29.079 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0963s ago] ('doctor_review',)
2026-02-18 11:49:29.082 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.082 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.083 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09648s ago] ('PAT002',)
2026-02-18 11:49:29.083 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09648s ago] ('PAT002',)
2026-02-18 11:49:29.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09576s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09576s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09463s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09463s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 11:49:29.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09896s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09896s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.11s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.11s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1155s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1155s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.091 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b795e780>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b795eba0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b795ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795efb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b795ecf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b795eba0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1223s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1223s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.116 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.117 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1285s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1285s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.105 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b7b9efb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b795e780>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795eae0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b795eba0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b795ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b795efb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6c72e8590>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b795ecf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b795eba0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.119 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.119 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.125 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.126 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.126 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.126 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.126 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1838s ago] ('doctor_review', '1.2.840.11111.2.1.3', '1.2.840.11111.2.1')
2026-02-18 11:49:29.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1838s ago] ('doctor_review', '1.2.840.11111.2.1.3', '1.2.840.11111.2.1')
2026-02-18 11:49:29.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.130 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1823s ago] ('doctor_review',)
2026-02-18 11:49:29.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1823s ago] ('doctor_review',)
2026-02-18 11:49:29.134 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.134 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1804s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.133154', None, None)
2026-02-18 11:49:29.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1804s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.133154', None, None)
2026-02-18 11:49:29.137 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.137 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.153 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.154 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1816s ago] (3,)
2026-02-18 11:49:29.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1816s ago] (3,)
2026-02-18 11:49:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1809s ago] (3,)
2026-02-18 11:49:29.159 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1809s ago] (3,)
2026-02-18 11:49:29.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.161 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1794s ago] ('doctor_review',)
2026-02-18 11:49:29.162 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1794s ago] ('doctor_review',)
2026-02-18 11:49:29.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.179s ago] ('PAT002',)
2026-02-18 11:49:29.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.179s ago] ('PAT002',)
2026-02-18 11:49:29.166 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.166 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1783s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1783s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.168 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.168 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1772s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:29.168 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1772s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 11:49:29.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1814s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1814s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.180 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.181 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.181 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1927s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.181 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1927s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.187 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1985s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.187 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1985s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.173 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b78e5230>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b78e54f0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b78e5640>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5900>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b78e5640>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b78e54f0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.193 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.194 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2056s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2056s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.200 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2116s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.200 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2116s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.188 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e50c0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b78e5230>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5430>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b78e54f0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b78e5640>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e5900>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b78a0130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b78e5640>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b78e54f0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.202 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.202 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.208 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.209 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.267s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 11:49:29.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.267s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 11:49:29.213 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.213 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.266s ago] ('doctor_review',)
2026-02-18 11:49:29.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.266s ago] ('doctor_review',)
2026-02-18 11:49:29.220 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.220 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.220 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2664s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.218133', None, None)
2026-02-18 11:49:29.220 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2664s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.218133', None, None)
2026-02-18 11:49:29.224 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.224 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.236 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.237 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.237 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.237 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2646s ago] (4,)
2026-02-18 11:49:29.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2646s ago] (4,)
2026-02-18 11:49:29.241 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.241 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2636s ago] (4,)
2026-02-18 11:49:29.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2636s ago] (4,)
2026-02-18 11:49:29.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2625s ago] ('doctor_review',)
2026-02-18 11:49:29.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2625s ago] ('doctor_review',)
2026-02-18 11:49:29.248 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.248 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.248 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2621s ago] ('PAT003',)
2026-02-18 11:49:29.248 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2621s ago] ('PAT003',)
2026-02-18 11:49:29.249 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.249 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.249 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2612s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.250 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2612s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.250 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.251 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.251 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2602s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:29.251 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2602s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 11:49:29.253 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.253 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.253 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.265s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.265s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.263 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.264 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.264 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2755s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.264 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2755s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.270 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.270 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2825s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2825s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.258 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b78e7ac0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b78e7d80>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b78e7ed0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ec250>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b78e7ed0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b78e7d80>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.278 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.278 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.278 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.29s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.278 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.29s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.285 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.285 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.285 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2971s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.286 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2971s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.273 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b78e7950>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b78e7ac0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b78e7cc0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b78e7d80>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b78e7ed0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ec250>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b770f4d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b78e7ed0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b78e7d80>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.288 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.289 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.295 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.295 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.296 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3541s ago] ('doctor_review', '1.2.840.11111.3.2.2', '1.2.840.11111.3.2')
2026-02-18 11:49:29.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3541s ago] ('doctor_review', '1.2.840.11111.3.2.2', '1.2.840.11111.3.2')
2026-02-18 11:49:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3528s ago] ('doctor_review',)
2026-02-18 11:49:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3528s ago] ('doctor_review',)
2026-02-18 11:49:29.304 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.304 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3505s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.303355', None, None)
2026-02-18 11:49:29.305 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3505s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.303355', None, None)
2026-02-18 11:49:29.308 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.308 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.321 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.322 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.322 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.322 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.323 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3495s ago] (5,)
2026-02-18 11:49:29.323 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3495s ago] (5,)
2026-02-18 11:49:29.326 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.326 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.327 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3491s ago] (5,)
2026-02-18 11:49:29.327 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3491s ago] (5,)
2026-02-18 11:49:29.330 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.330 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.330 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3481s ago] ('doctor_review',)
2026-02-18 11:49:29.330 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3481s ago] ('doctor_review',)
2026-02-18 11:49:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.348s ago] ('PAT003',)
2026-02-18 11:49:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.348s ago] ('PAT003',)
2026-02-18 11:49:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3472s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.336 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3472s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.336 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.336 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.337 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.346s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:29.337 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.346s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 11:49:29.339 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.339 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.339 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3507s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.339 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3507s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.347 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.347 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3594s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3594s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3658s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3658s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.342 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b77ee410>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b77ee6d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b77ee820>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77eeae0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b77ee820>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b77ee6d0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.362 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3735s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3735s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.369 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.370 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.370 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3816s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.370 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3816s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.355 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ee2a0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b77ee410>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77ee610>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b77ee6d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b77ee820>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b77eeae0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b77c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b77ee820>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b77ee6d0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.372 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.372 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.378 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.378 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.379 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.379 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4363s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 11:49:29.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4363s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 11:49:29.382 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.383 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4356s ago] ('doctor_review',)
2026-02-18 11:49:29.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4356s ago] ('doctor_review',)
2026-02-18 11:49:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4333s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.386272', None, None)
2026-02-18 11:49:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4333s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.386272', None, None)
2026-02-18 11:49:29.390 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.390 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.402 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.402 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.403 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.403 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.403 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4299s ago] (6,)
2026-02-18 11:49:29.403 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4299s ago] (6,)
2026-02-18 11:49:29.406 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.406 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.407 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.429s ago] (6,)
2026-02-18 11:49:29.407 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.429s ago] (6,)
2026-02-18 11:49:29.409 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.410 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.410 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4277s ago] ('doctor_review',)
2026-02-18 11:49:29.410 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4277s ago] ('doctor_review',)
2026-02-18 11:49:29.414 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.414 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.414 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4279s ago] ('PAT004',)
2026-02-18 11:49:29.414 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4279s ago] ('PAT004',)
2026-02-18 11:49:29.415 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.415 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.415 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4272s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.416 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4272s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.416 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.417 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4263s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:29.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4263s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 11:49:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.420 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4314s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.420 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4314s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.429 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.429 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4412s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4412s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.435 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.435 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.436 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4474s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.436 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4474s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.424 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b76ecd60>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b76ed180>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b76ed2d0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed590>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b76ed2d0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b76ed180>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.443 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4542s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.443 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4542s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.449 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.449 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.449 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4611s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.450 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4611s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.437 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b77ed220>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b76ecd60>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed0c0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b76ed180>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b76ed2d0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ed590>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b766a0b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b76ed2d0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b76ed180>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.458 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.459 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5172s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 11:49:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5172s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 11:49:29.463 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.463 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.463 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5158s ago] ('doctor_review',)
2026-02-18 11:49:29.464 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5158s ago] ('doctor_review',)
2026-02-18 11:49:29.467 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.467 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.467 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5134s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.466369', None, None)
2026-02-18 11:49:29.467 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5134s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.466369', None, None)
2026-02-18 11:49:29.470 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.470 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.483 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.483 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.484 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.484 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5109s ago] (7,)
2026-02-18 11:49:29.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5109s ago] (7,)
2026-02-18 11:49:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.509s ago] (7,)
2026-02-18 11:49:29.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.509s ago] (7,)
2026-02-18 11:49:29.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5088s ago] ('doctor_review',)
2026-02-18 11:49:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5088s ago] ('doctor_review',)
2026-02-18 11:49:29.495 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.495 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.495 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.509s ago] ('PAT005',)
2026-02-18 11:49:29.495 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.509s ago] ('PAT005',)
2026-02-18 11:49:29.497 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.497 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.497 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5089s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.497 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5089s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.498 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.499 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:29.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 11:49:29.501 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.501 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.501 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5131s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.502 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5131s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.511 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.512 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.512 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5236s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.512 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5236s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.518 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.518 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.518 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5299s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.518 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5299s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.505 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b76ef750>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b76efa10>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b76efb60>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76efe20>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b76efb60>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b76efa10>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.525 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.525 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.526 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5372s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.526 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5372s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.531 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.531 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.531 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.543s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.531 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.543s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.519 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76ef5e0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b76ef750>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76ef950>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b76efa10>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b76efb60>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b76efe20>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b751d630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b76efb60>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b76efa10>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.534 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.534 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.540 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.541 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.541 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.542 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 11:49:29.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5993s ago] ('doctor_review', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2')
2026-02-18 11:49:29.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5993s ago] ('doctor_review', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2')
2026-02-18 11:49:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5976s ago] ('doctor_review',)
2026-02-18 11:49:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5976s ago] ('doctor_review',)
2026-02-18 11:49:29.549 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.549 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 11:49:29.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5959s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.548488', None, None)
2026-02-18 11:49:29.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5959s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 08:49:29.548488', None, None)
2026-02-18 11:49:29.553 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.553 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:49:29.565 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.566 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.566 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.567 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.567 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5939s ago] (8,)
2026-02-18 11:49:29.567 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5939s ago] (8,)
2026-02-18 11:49:29.570 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.571 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 11:49:29.571 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5933s ago] (8,)
2026-02-18 11:49:29.571 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5933s ago] (8,)
2026-02-18 11:49:29.575 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.575 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 11:49:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5936s ago] ('doctor_review',)
2026-02-18 11:49:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5936s ago] ('doctor_review',)
2026-02-18 11:49:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:49:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5939s ago] ('PAT005',)
2026-02-18 11:49:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5939s ago] ('PAT005',)
2026-02-18 11:49:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.582 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.582 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5936s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.582 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5936s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 11:49:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5926s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5926s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 11:49:29.585 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.586 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.586 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5975s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.586 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5975s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.595 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.595 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6075s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6075s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6147s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6147s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.590 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b75de0a0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b75de360>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b75de4b0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de770>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b75de4b0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b75de360>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6218s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6218s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 11:49:29.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6285s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6285s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.604 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b75ddf30>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b75de0a0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f4e6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de2a0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b75de360>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b75de4b0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b75de770>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b75c8bb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b75de4b0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b75de360>
                      <function get_request_handler.<locals>.app at 0x70c6c7f4e610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 11:49:29.619 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.619 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.624 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.624 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:49:29.625 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 11:49:29.625 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 11:49:29.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] (100, 0)
2026-02-18 11:49:29.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] (100, 0)
2026-02-18 11:49:29.632 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 11:49:29.632 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 11:49:29.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00160s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 11:49:29.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00160s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 11:49:29.642 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.642 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('1.2.840.11111.1.1',)
2026-02-18 11:49:29.644 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.644 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002282s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002282s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:49:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004121s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004121s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:49:29.647 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005934s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005934s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:49:29.649 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.649 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007763s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007763s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:49:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009314s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009314s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:49:29.652 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.653 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:49:29.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01086s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01086s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:49:29.658 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b74e09f0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f84f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b74e0cb0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b74e0e00>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e10c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b74e0e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b74e0cb0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f84e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.2', patient_id='PAT005', date=datetime.date(2024, 5, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 11:49:29.668 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b74e0880>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b74e09f0>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f84f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e0bf0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b74e0cb0>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b74e0e00>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b74e10c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b7470130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b74e0e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b74e0cb0>
                      <function get_request_handler.<locals>.app at 0x70c6c7f84e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.2', patient_id='PAT005', date=datetime.date(2024, 5, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 11:49:29.678 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:49:29.679 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.767 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.767 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.768 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 11:51:16.768 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 11:51:16.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.6s ago] ('admin@clarinet.ru',)
2026-02-18 11:51:16.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.6s ago] ('admin@clarinet.ru',)
2026-02-18 11:51:16.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:51:16.867339')
2026-02-18 11:51:16.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:51:16.867339')
2026-02-18 11:51:16.872 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:51:16.872 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 11:51:16.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:51:16.871414', '2026-02-19 08:51:16.871171', '2026-02-18 08:51:16.871446', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 11:51:16.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '478dcefced45432ea83a5a101aa6735e', '2026-02-18 08:51:16.871414', '2026-02-19 08:51:16.871171', '2026-02-18 08:51:16.871446', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 11:51:16.874 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.875 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.894 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user 478dcefc-ed45-432e-a83a-5a101aa6735e
2026-02-18 11:51:16.894 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User 478dcefc-ed45-432e-a83a-5a101aa6735e logged in.
2026-02-18 11:51:16.901 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.902 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.902 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.902 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '2026-02-18 08:51:16.901358')
2026-02-18 11:51:16.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '2026-02-18 08:51:16.901358')
2026-02-18 11:51:16.905 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:51:16.905 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:51:16.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('2026-02-18 08:51:16.905266', 'fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c')
2026-02-18 11:51:16.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('2026-02-18 08:51:16.905266', 'fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c')
2026-02-18 11:51:16.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.920 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.920 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.921 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:51:16.921 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:51:16.921 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:51:16.922 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:51:16.924 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.925 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.941 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.941 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.942 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 11:51:16.942 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '2026-02-18 08:51:16.940502')
2026-02-18 11:51:16.942 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c', '2026-02-18 08:51:16.940502')
2026-02-18 11:51:16.945 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:51:16.945 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 11:51:16.945 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('2026-02-18 08:51:16.944868', 'fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c')
2026-02-18 11:51:16.945 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('2026-02-18 08:51:16.944868', 'fc2f3eb4-c014-4e94-b831-3ccfc9e2a01c')
2026-02-18 11:51:16.947 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.948 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.962 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.963 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.963 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:51:16.964 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 11:51:16.964 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:51:16.964 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('478dcefced45432ea83a5a101aa6735e',)
2026-02-18 11:51:16.967 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.967 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 11:51:16.974 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.974 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.975 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.975 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.1s ago] ('PAT001',)
2026-02-18 11:51:16.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.1s ago] ('PAT001',)
2026-02-18 11:51:16.979 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.979 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.985 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT002',)
2026-02-18 11:51:16.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT002',)
2026-02-18 11:51:16.990 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.990 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.995 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.995 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:16.995 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.996 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:16.996 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT003',)
2026-02-18 11:51:16.996 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT003',)
2026-02-18 11:51:16.999 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:16.999 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.003 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.004 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.004 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:17.005 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:17.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT004',)
2026-02-18 11:51:17.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT004',)
2026-02-18 11:51:17.008 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.008 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:17.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 11:51:17.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT005',)
2026-02-18 11:51:17.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 109.2s ago] ('PAT005',)
2026-02-18 11:51:17.017 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.017 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 11:51:17.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 11:51:17.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 11:51:17.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] (100, 0)
2026-02-18 11:51:17.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] (100, 0)
2026-02-18 11:51:17.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 11:51:17.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 11:51:17.027 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 11:51:17.027 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 11:51:17.031 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.031 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.031 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:51:17.031 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.1.1',)
2026-02-18 11:51:17.032 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.033 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:51:17.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.2.1',)
2026-02-18 11:51:17.034 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.034 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:51:17.035 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.3.1',)
2026-02-18 11:51:17.036 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.036 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:51:17.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.3.2',)
2026-02-18 11:51:17.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:51:17.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.4.1',)
2026-02-18 11:51:17.039 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.039 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.039 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:51:17.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.5.1',)
2026-02-18 11:51:17.040 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.041 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 11:51:17.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:51:17.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 107.4s ago] ('1.2.840.11111.5.2',)
2026-02-18 11:51:17.047 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b73a7540>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f84f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b73a6360>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b73a4510>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a52d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b73a4510>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b73a6360>
                      <function get_request_handler.<locals>.app at 0x70c6c7f84e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.2', patient_id='PAT005', date=datetime.date(2024, 5, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 11:51:17.059 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x70c6cc251f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x70c6cc117cb0>
              <function Command.invoke at 0x70c6cc2519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x70c6cc117cb0>
                         <function main at 0x70c6cc02d0c0>
                     <Command main>
               <function Context.invoke at 0x70c6cc24fab0>
            <click.core.Context object at 0x70c6cc117cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x70c6cc02d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x70c6cc01e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x70c6cc13ea30>
     <uvicorn.server.Server object at 0x70c6cc034590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x70c6cc13eb90>
                      <uvicorn.server.Server object at 0x70c6cc034590>
                   <function run at 0x70c6cc5ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x70c6cc15fc40>
                  <function Runner.run at 0x70c6cc5ed430>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x70c6cc5dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x70c6cc034830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x70c6cc5dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x70c6cc5df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x70c6cc55bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x70c6c7f8e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
           <fastapi.applications.FastAPI object at 0x70c6c80d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x70c6c7f8ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x70c6c7f8ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x70c6b76eceb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x70c6b73a7540>
                                           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x70c6c7f8ecf0>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x70c6c81f5a50>>
           <fastapi.routing.APIRouter object at 0x70c6c81f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x70c6cb020880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x70c6c7f84f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a43b0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x70c6b73a6360>
                                       <function request_response.<locals>.app.<locals>.app at 0x70c6b73a4510>
           <function wrap_app_handling_exceptions at 0x70c6caff5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x70c6b73a52d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x70c6b734b770>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x70c6b73a4510>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x70c6b73a6360>
                      <function get_request_handler.<locals>.app at 0x70c6c7f84e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x70c6cb024bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.2', patient_id='PAT005', date=datetime.date(2024, 5, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 11:51:17.069 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 11:51:17.069 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:00:48.890 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:00:48.891 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:00:48.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:00:48.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:00:48.993 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-18 12:00:48.993 |                   INFO     |                   src.api.app:lifespan:106 -                   Session cleanup service stopped
2026-02-18 12:00:48.993 |                   INFO     |                   src.api.app:lifespan:112 -                   RecordFlow client closed
2026-02-18 12:00:48.996 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-18 12:00:48.996 |                   INFO     |                   src.api.app:lifespan:118 -                   Application shutdown
2026-02-18 12:00:48.996 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:00:48.996 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:00:48.997 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [277132]
2026-02-18 12:00:48.997 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [277132]
2026-02-18 12:01:53.471 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [285180]
2026-02-18 12:01:53.471 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [285180]
2026-02-18 12:01:53.471 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 12:01:53.471 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 12:01:53.472 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 12:01:53.492 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 12:01:53.498 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.498 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 12:01:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 12:01:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.502 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 12:01:53.502 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 12:01:53.502 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.502 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.504 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 12:01:53.504 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 12:01:53.505 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.505 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.507 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 12:01:53.507 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 12:01:53.507 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.508 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.510 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 12:01:53.510 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 12:01:53.510 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.510 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.512 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 12:01:53.512 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 12:01:53.513 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.513 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.515 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 12:01:53.515 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 12:01:53.515 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.515 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.517 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 12:01:53.517 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 12:01:53.517 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.518 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.519 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 12:01:53.519 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 12:01:53.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.522 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 12:01:53.522 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 12:01:53.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.524 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 12:01:53.524 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 12:01:53.524 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.526 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 12:01:53.526 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 12:01:53.526 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.526 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.528 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 12:01:53.528 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 12:01:53.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.530 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 12:01:53.530 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 12:01:53.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.531 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.532 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 12:01:53.533 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 12:01:53.533 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.533 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.535 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 12:01:53.535 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 12:01:53.535 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.536 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.538 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 12:01:53.538 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 12:01:53.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.540 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 12:01:53.540 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 12:01:53.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:01:53.544 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 12:01:53.544 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 12:01:53.544 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00049s] ()
2026-02-18 12:01:53.545 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00049s] ()
2026-02-18 12:01:53.565 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 12:01:53.566 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 12:01:53.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 12:01:53.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 12:01:53.578 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 12:01:53.578 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 12:01:53.579 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00061s] ()
2026-02-18 12:01:53.579 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00061s] ()
2026-02-18 12:01:53.591 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 12:01:53.591 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 12:01:53.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00042s] ()
2026-02-18 12:01:53.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00042s] ()
2026-02-18 12:01:53.604 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 12:01:53.604 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 12:01:53.605 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00067s] ()
2026-02-18 12:01:53.605 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00067s] ()
2026-02-18 12:01:53.617 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 12:01:53.617 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 12:01:53.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00047s] ()
2026-02-18 12:01:53.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00047s] ()
2026-02-18 12:01:53.629 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 12:01:53.629 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 12:01:53.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00071s] ()
2026-02-18 12:01:53.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00071s] ()
2026-02-18 12:01:53.642 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 12:01:53.643 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 12:01:53.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00061s] ()
2026-02-18 12:01:53.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00061s] ()
2026-02-18 12:01:53.656 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 12:01:53.656 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 12:01:53.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00073s] ()
2026-02-18 12:01:53.657 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00073s] ()
2026-02-18 12:01:53.672 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:01:53.672 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:01:53.672 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00054s] ()
2026-02-18 12:01:53.672 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00054s] ()
2026-02-18 12:01:53.684 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:01:53.684 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:01:53.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 12:01:53.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00048s] ()
2026-02-18 12:01:53.698 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 12:01:53.698 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 12:01:53.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:01:53.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:01:53.712 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 12:01:53.712 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 12:01:53.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00065s] ()
2026-02-18 12:01:53.713 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00065s] ()
2026-02-18 12:01:53.725 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.725 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.726 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 12:01:53.726 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 12:01:53.728 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.728 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('doctor',)
2026-02-18 12:01:53.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('doctor',)
2026-02-18 12:01:53.778 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.778 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('doctor',)
2026-02-18 12:01:53.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('doctor',)
2026-02-18 12:01:53.781 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.781 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.795 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.795 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('doctor',)
2026-02-18 12:01:53.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('doctor',)
2026-02-18 12:01:53.800 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: doctor
2026-02-18 12:01:53.801 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.801 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.801 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02856s ago] ('auto',)
2026-02-18 12:01:53.801 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02856s ago] ('auto',)
2026-02-18 12:01:53.803 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.804 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02621s ago] ('auto',)
2026-02-18 12:01:53.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02621s ago] ('auto',)
2026-02-18 12:01:53.805 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.806 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.817 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.817 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.818 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.818 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.818 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02082s ago] ('auto',)
2026-02-18 12:01:53.819 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02082s ago] ('auto',)
2026-02-18 12:01:53.820 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: auto
2026-02-18 12:01:53.821 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.821 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04861s ago] ('admin',)
2026-02-18 12:01:53.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04861s ago] ('admin',)
2026-02-18 12:01:53.823 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.824 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.824 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04633s ago] ('admin',)
2026-02-18 12:01:53.824 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04633s ago] ('admin',)
2026-02-18 12:01:53.826 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.826 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.837 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.838 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.839 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04096s ago] ('admin',)
2026-02-18 12:01:53.839 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04096s ago] ('admin',)
2026-02-18 12:01:53.841 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: admin
2026-02-18 12:01:53.841 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.841 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.842 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06912s ago] ('expert',)
2026-02-18 12:01:53.842 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06912s ago] ('expert',)
2026-02-18 12:01:53.844 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.845 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.845 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06731s ago] ('expert',)
2026-02-18 12:01:53.845 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06731s ago] ('expert',)
2026-02-18 12:01:53.847 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.847 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.866 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.866 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.866 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.866 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06897s ago] ('expert',)
2026-02-18 12:01:53.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06897s ago] ('expert',)
2026-02-18 12:01:53.869 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: expert
2026-02-18 12:01:53.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.870 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.870 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0972s ago] ('ordinator',)
2026-02-18 12:01:53.870 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0972s ago] ('ordinator',)
2026-02-18 12:01:53.872 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.872 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:01:53.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09489s ago] ('ordinator',)
2026-02-18 12:01:53.873 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09489s ago] ('ordinator',)
2026-02-18 12:01:53.874 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.874 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.889 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.889 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:53.890 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09211s ago] ('ordinator',)
2026-02-18 12:01:53.890 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09211s ago] ('ordinator',)
2026-02-18 12:01:53.891 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: ordinator
2026-02-18 12:01:53.892 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.892 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.893 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 12:01:53.893 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 12:01:53.901 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.901 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('expert_check',)
2026-02-18 12:01:53.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('expert_check',)
2026-02-18 12:01:53.909 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.909 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.909 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00115s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 12:01:53.910 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00115s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 12:01:53.912 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.912 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.924 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.924 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.925 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.925 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('expert_check',)
2026-02-18 12:01:53.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('expert_check',)
2026-02-18 12:01:53.928 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: expert_check
2026-02-18 12:01:53.928 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.928 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.932 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.932 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.932 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.933 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.933 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02967s ago] ('ai_analysis',)
2026-02-18 12:01:53.933 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02967s ago] ('ai_analysis',)
2026-02-18 12:01:53.936 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.936 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.936 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02782s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 12:01:53.936 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02782s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 12:01:53.938 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.938 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.953 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.953 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.953 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.953 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02843s ago] ('ai_analysis',)
2026-02-18 12:01:53.954 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02843s ago] ('ai_analysis',)
2026-02-18 12:01:53.956 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: ai_analysis
2026-02-18 12:01:53.956 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.956 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.960 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.960 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0575s ago] ('doctor_review',)
2026-02-18 12:01:53.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0575s ago] ('doctor_review',)
2026-02-18 12:01:53.963 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.964 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:01:53.964 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05581s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 12:01:53.964 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05581s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 12:01:53.966 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.966 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:01:53.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05366s ago] ('doctor_review',)
2026-02-18 12:01:53.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05366s ago] ('doctor_review',)
2026-02-18 12:01:53.981 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: doctor_review
2026-02-18 12:01:53.982 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.982 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:53.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 12:01:53.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 12:01:53.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ()
2026-02-18 12:01:53.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ()
2026-02-18 12:01:53.988 |                   WARNING  |                   src.utils.admin:ensure_admin_exists:69 -                   No admin users found in system!
2026-02-18 12:01:53.989 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.989 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:53.990 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 12:01:53.990 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 12:01:53.990 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('admin@clarinet.ru',)
2026-02-18 12:01:53.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('admin@clarinet.ru',)
2026-02-18 12:01:54.406 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 12:01:54.406 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 12:01:54.407 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('admin@clarinet.ru', '$2b$12$JQ0MI2mno7Q7cjiipu6aDeaJDmpsP9xrw03UsVlGj6P/trXPGK7by', 1, 1, 1, 'd52b50e3aa7e4a129e45d4c39d040f29')
2026-02-18 12:01:54.407 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('admin@clarinet.ru', '$2b$12$JQ0MI2mno7Q7cjiipu6aDeaJDmpsP9xrw03UsVlGj6P/trXPGK7by', 1, 1, 1, 'd52b50e3aa7e4a129e45d4c39d040f29')
2026-02-18 12:01:54.409 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.409 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.429 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:54.429 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:54.433 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:01:54.433 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:01:54.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:01:54.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:01:54.441 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 12:01:54.441 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 12:01:54.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:01:54.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:01:54.445 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:54.445 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:01:54.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6724s ago] ('admin',)
2026-02-18 12:01:54.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6724s ago] ('admin',)
2026-02-18 12:01:54.449 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 12:01:54.449 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 12:01:54.449 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('d52b50e3aa7e4a129e45d4c39d040f29', 'admin')
2026-02-18 12:01:54.449 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('d52b50e3aa7e4a129e45d4c39d040f29', 'admin')
2026-02-18 12:01:54.451 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.451 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.462 |                   INFO     |                   src.utils.bootstrap:create_admin_user:209 -                   Assigned 'admin' role to user with email 'admin@clarinet.ru'
2026-02-18 12:01:54.462 |                   INFO     |                   src.utils.bootstrap:create_admin_user:211 -                   Created admin user with email 'admin@clarinet.ru'
2026-02-18 12:01:54.462 |                   WARNING  |                   src.utils.bootstrap:create_admin_user:214 -                     DEFAULT ADMIN CREDENTIALS IN USE!
   Username: admin
   Password: admin123
   CHANGE THESE IMMEDIATELY!
2026-02-18 12:01:54.463 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.463 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:01:54.503 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 12:01:54.504 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 12:01:54.504 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 12:01:54.504 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 12:01:54.505 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:54.505 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:01:54.508 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 12:01:54.508 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 12:01:54.509 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-18 09:01:54.505119',)
2026-02-18 12:01:54.509 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-18 09:01:54.505119',)
2026-02-18 12:01:54.509 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 12:01:54.510 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 12:01:54.511 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 12:01:54.511 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 12:01:54.514 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:01:54.514 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:49.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:49.982 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:49.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:04:49.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:04:49.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('admin@clarinet.ru',)
2026-02-18 12:04:49.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('admin@clarinet.ru',)
2026-02-18 12:04:50.491 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 12:04:50.491 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 12:04:50.492 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('$argon2id$v=19$m=65536,t=3,p=4$WMA5JffW/9IyhiFLPq5bnQ$+t35hLqSRzZZKiQZiWmMqZWu3EGsN5xSCylfFyhrl2U', 'd52b50e3aa7e4a129e45d4c39d040f29')
2026-02-18 12:04:50.492 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('$argon2id$v=19$m=65536,t=3,p=4$WMA5JffW/9IyhiFLPq5bnQ$+t35hLqSRzZZKiQZiWmMqZWu3EGsN5xSCylfFyhrl2U', 'd52b50e3aa7e4a129e45d4c39d040f29')
2026-02-18 12:04:50.494 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.494 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.513 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.513 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.515 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.515 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.520 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.520 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:04:50.518856')
2026-02-18 12:04:50.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:04:50.518856')
2026-02-18 12:04:50.525 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:04:50.525 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:04:50.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('39605748-526b-420b-958a-930287dfebc8', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:04:50.523146', '2026-02-19 09:04:50.522906', '2026-02-18 09:04:50.523172', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:04:50.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('39605748-526b-420b-958a-930287dfebc8', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:04:50.523146', '2026-02-19 09:04:50.522906', '2026-02-18 09:04:50.523172', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:04:50.527 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.528 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.539 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user d52b50e3-aa7e-4a12-9e45-d4c39d040f29
2026-02-18 12:04:50.539 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User d52b50e3-aa7e-4a12-9e45-d4c39d040f29 logged in.
2026-02-18 12:04:50.550 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.550 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.555 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.555 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00104s] ('39605748-526b-420b-958a-930287dfebc8', '2026-02-18 09:04:50.550251')
2026-02-18 12:04:50.556 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00104s] ('39605748-526b-420b-958a-930287dfebc8', '2026-02-18 09:04:50.550251')
2026-02-18 12:04:50.559 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:04:50.560 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:04:50.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('2026-02-18 09:04:50.558563', '39605748-526b-420b-958a-930287dfebc8')
2026-02-18 12:04:50.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('2026-02-18 09:04:50.558563', '39605748-526b-420b-958a-930287dfebc8')
2026-02-18 12:04:50.562 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.562 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.574 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.574 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.575 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.576 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.592 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.592 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.606 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.606 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.606 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.606 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:04:50.607 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05249s ago] ('39605748-526b-420b-958a-930287dfebc8', '2026-02-18 09:04:50.605490')
2026-02-18 12:04:50.607 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05249s ago] ('39605748-526b-420b-958a-930287dfebc8', '2026-02-18 09:04:50.605490')
2026-02-18 12:04:50.610 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:04:50.610 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:04:50.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05072s ago] ('2026-02-18 09:04:50.609490', '39605748-526b-420b-958a-930287dfebc8')
2026-02-18 12:04:50.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05072s ago] ('2026-02-18 09:04:50.609490', '39605748-526b-420b-958a-930287dfebc8')
2026-02-18 12:04:50.612 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.612 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.624 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.624 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.625 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.625 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:04:50.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04967s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04967s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:04:50.628 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.628 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.638 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.638 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('PAT001',)
2026-02-18 12:04:50.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('PAT001',)
2026-02-18 12:04:50.645 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.645 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('  ', None, 'PAT001', None)
2026-02-18 12:04:50.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('  ', None, 'PAT001', None)
2026-02-18 12:04:50.648 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.648 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.660 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.660 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('PAT001',)
2026-02-18 12:04:50.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('PAT001',)
2026-02-18 12:04:50.701 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.701 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.756 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.756 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.757 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.757 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.757 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1178s ago] ('PAT002',)
2026-02-18 12:04:50.757 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1178s ago] ('PAT002',)
2026-02-18 12:04:50.760 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.760 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.761 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1163s ago] ('  ', None, 'PAT002', None)
2026-02-18 12:04:50.761 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1163s ago] ('  ', None, 'PAT002', None)
2026-02-18 12:04:50.763 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.763 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.775 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.776 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.776 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.776 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07905s ago] ('PAT002',)
2026-02-18 12:04:50.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07905s ago] ('PAT002',)
2026-02-18 12:04:50.779 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.779 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.786 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.786 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.787 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.787 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1481s ago] ('PAT003',)
2026-02-18 12:04:50.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1481s ago] ('PAT003',)
2026-02-18 12:04:50.791 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.791 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1467s ago] ('  ', None, 'PAT003', None)
2026-02-18 12:04:50.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1467s ago] ('  ', None, 'PAT003', None)
2026-02-18 12:04:50.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.805 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.805 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.805 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.806 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1082s ago] ('PAT003',)
2026-02-18 12:04:50.806 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1082s ago] ('PAT003',)
2026-02-18 12:04:50.808 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.808 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.815 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.815 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.816 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.816 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1768s ago] ('PAT004',)
2026-02-18 12:04:50.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1768s ago] ('PAT004',)
2026-02-18 12:04:50.819 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.820 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1757s ago] ('  ', None, 'PAT004', None)
2026-02-18 12:04:50.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1757s ago] ('  ', None, 'PAT004', None)
2026-02-18 12:04:50.822 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.837 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.837 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1404s ago] ('PAT004',)
2026-02-18 12:04:50.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1404s ago] ('PAT004',)
2026-02-18 12:04:50.840 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.841 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.848 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.848 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2099s ago] ('PAT005',)
2026-02-18 12:04:50.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2099s ago] ('PAT005',)
2026-02-18 12:04:50.852 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.852 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.852 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2082s ago] ('  ', None, 'PAT005', None)
2026-02-18 12:04:50.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2082s ago] ('  ', None, 'PAT005', None)
2026-02-18 12:04:50.855 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.855 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.869 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.869 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.870 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.870 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.870 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1728s ago] ('PAT005',)
2026-02-18 12:04:50.871 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1728s ago] ('PAT005',)
2026-02-18 12:04:50.873 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.873 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.882 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.882 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:50.884 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('PAT001',)
2026-02-18 12:04:50.884 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('PAT001',)
2026-02-18 12:04:50.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.893 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.893 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:50.894 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 12:04:50.894 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 12:04:50.896 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.897 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.909 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.909 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.911 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.911 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.911 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00052s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.912 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00052s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.914 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.914 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.924 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.925 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.932 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:50.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:50.937 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:50.937 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:50.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1.1', None, 'FLAIR', 1, '1.2.840.11111.1.1')
2026-02-18 12:04:50.938 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1.1', None, 'FLAIR', 1, '1.2.840.11111.1.1')
2026-02-18 12:04:50.940 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.940 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.953 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.954 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.954 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:50.954 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:50.957 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.957 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.965 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.965 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.966 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.966 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:50.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04005s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04005s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:50.969 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.970 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.970 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03874s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:04:50.970 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03874s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03733s ago] ('1.2.840.11111.1.1.2', None, 'DWI', 2, '1.2.840.11111.1.1')
2026-02-18 12:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03733s ago] ('1.2.840.11111.1.1.2', None, 'DWI', 2, '1.2.840.11111.1.1')
2026-02-18 12:04:50.976 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.977 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.988 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.988 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03557s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03557s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:04:50.991 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.991 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:50.999 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:50.999 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.000 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.000 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07389s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07389s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0726s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0726s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.007 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.007 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07091s ago] ('1.2.840.11111.1.1.3', None, 'T1 post-contrast', 3, '1.2.840.11111.1.1')
2026-02-18 12:04:51.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07091s ago] ('1.2.840.11111.1.1.3', None, 'T1 post-contrast', 3, '1.2.840.11111.1.1')
2026-02-18 12:04:51.010 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.010 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06956s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06956s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.026 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.026 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.032 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.032 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.033 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.033 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1501s ago] ('PAT001',)
2026-02-18 12:04:51.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1501s ago] ('PAT001',)
2026-02-18 12:04:51.038 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.038 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1506s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.039 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1506s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.042 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.042 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1494s ago] ('2024-01-20', '1.2.840.11111.1.2', 'PAT001', None)
2026-02-18 12:04:51.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1494s ago] ('2024-01-20', '1.2.840.11111.1.2', 'PAT001', None)
2026-02-18 12:04:51.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.057 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.057 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.057 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.058 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1468s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1468s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.060 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.060 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.066 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.066 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.067 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.067 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.068 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1415s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.068 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1415s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.070 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.071 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.071 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1397s ago] ('1.2.840.11111.1.2.1',)
2026-02-18 12:04:51.071 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1397s ago] ('1.2.840.11111.1.2.1',)
2026-02-18 12:04:51.075 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.076 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.076 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1391s ago] ('1.2.840.11111.1.2.1', None, 'T1 axial', 1, '1.2.840.11111.1.2')
2026-02-18 12:04:51.076 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1391s ago] ('1.2.840.11111.1.2.1', None, 'T1 axial', 1, '1.2.840.11111.1.2')
2026-02-18 12:04:51.078 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.078 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.090 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.090 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.091 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.091 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.092 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1382s ago] ('1.2.840.11111.1.2.1',)
2026-02-18 12:04:51.092 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1382s ago] ('1.2.840.11111.1.2.1',)
2026-02-18 12:04:51.093 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.094 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.099 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.100 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1744s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1744s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:51.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1728s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:51.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1728s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:51.107 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.108 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.108 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1712s ago] ('1.2.840.11111.1.2.2', None, 'T1 axial', 2, '1.2.840.11111.1.2')
2026-02-18 12:04:51.108 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1712s ago] ('1.2.840.11111.1.2.2', None, 'T1 axial', 2, '1.2.840.11111.1.2')
2026-02-18 12:04:51.110 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.111 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.123 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.123 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1703s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:51.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1703s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:51.126 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.126 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.132 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.133 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.133 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.133 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2504s ago] ('PAT002',)
2026-02-18 12:04:51.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2504s ago] ('PAT002',)
2026-02-18 12:04:51.136 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.136 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.136 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2487s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.137 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2487s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.139 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.139 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2464s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 12:04:51.140 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2464s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 12:04:51.141 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.142 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.156 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.156 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.157 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.157 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.157 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2463s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.157 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2463s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.160 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.160 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.166 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.166 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2409s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2409s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.170 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.170 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2391s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:04:51.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2391s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:04:51.173 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.174 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.237s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 12:04:51.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.237s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 12:04:51.176 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.176 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.191 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.191 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.192 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.192 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2393s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:04:51.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2393s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:04:51.196 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.196 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.204 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.204 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.205 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.205 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.205 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2789s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.205 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2789s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2778s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:51.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2778s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:51.213 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.213 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.213 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2762s ago] ('1.2.840.11111.2.1.2', None, 'FLAIR', 2, '1.2.840.11111.2.1')
2026-02-18 12:04:51.213 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2762s ago] ('1.2.840.11111.2.1.2', None, 'FLAIR', 2, '1.2.840.11111.2.1')
2026-02-18 12:04:51.215 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.216 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.228 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.228 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.229 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.229 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.229 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2758s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:51.229 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2758s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:51.232 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.232 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.240 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.240 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.241 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.241 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3151s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3151s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:51.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.245 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3137s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:04:51.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3137s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:04:51.248 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.248 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.249 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3119s ago] ('1.2.840.11111.2.1.3', None, 'T1 post-contrast', 3, '1.2.840.11111.2.1')
2026-02-18 12:04:51.249 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3119s ago] ('1.2.840.11111.2.1.3', None, 'T1 post-contrast', 3, '1.2.840.11111.2.1')
2026-02-18 12:04:51.251 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.251 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.263 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.263 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.263 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.264 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.264 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3105s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:04:51.264 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3105s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:04:51.266 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.267 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.274 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.274 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.275 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.275 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.275 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3917s ago] ('PAT003',)
2026-02-18 12:04:51.275 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3917s ago] ('PAT003',)
2026-02-18 12:04:51.278 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.279 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3913s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3913s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.283 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.283 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.284 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3906s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 12:04:51.284 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3906s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 12:04:51.286 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.286 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.299 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.299 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3896s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3896s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.303 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.304 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.311 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.311 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.312 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.312 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.312 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3863s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.313 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3863s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.319 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.320 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.320 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.389s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:51.320 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.389s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:51.325 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.325 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.325 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3885s ago] ('1.2.840.11111.3.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.1')
2026-02-18 12:04:51.326 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3885s ago] ('1.2.840.11111.3.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.1')
2026-02-18 12:04:51.328 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.328 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.344 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.344 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.345 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.392s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:51.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.392s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:51.348 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.349 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.357 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.358 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.358 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.359 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.359 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4329s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.359 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4329s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:51.363 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.363 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.363 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.432s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:04:51.363 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.432s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:04:51.367 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.368 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4311s ago] ('1.2.840.11111.3.1.2', None, 'T2 coronal', 2, '1.2.840.11111.3.1')
2026-02-18 12:04:51.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4311s ago] ('1.2.840.11111.3.1.2', None, 'T2 coronal', 2, '1.2.840.11111.3.1')
2026-02-18 12:04:51.370 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.370 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.383 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.383 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.384 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.384 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.384 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4307s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:04:51.384 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4307s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:04:51.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.395 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.395 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.396 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.396 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5129s ago] ('PAT003',)
2026-02-18 12:04:51.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5129s ago] ('PAT003',)
2026-02-18 12:04:51.399 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.399 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5121s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5121s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.405 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.405 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.405 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5123s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 12:04:51.405 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5123s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 12:04:51.408 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.408 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.424 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.424 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.425 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.425 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.425 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5145s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.426 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5145s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.429 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.429 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.436 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.437 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.437 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.437 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.437 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5113s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.438 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5113s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.441 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.441 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5099s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:51.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5099s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:51.444 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.445 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.3.2.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.2')
2026-02-18 12:04:51.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5081s ago] ('1.2.840.11111.3.2.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.2')
2026-02-18 12:04:51.447 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.447 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.460 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.460 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5069s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:51.461 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5069s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:51.464 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.464 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.474 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.475 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.475 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.475 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5496s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5496s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.479 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.480 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.480 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5488s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:04:51.480 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5488s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:04:51.483 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.484 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5472s ago] ('1.2.840.11111.3.2.2', None, 'FLAIR', 2, '1.2.840.11111.3.2')
2026-02-18 12:04:51.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5472s ago] ('1.2.840.11111.3.2.2', None, 'FLAIR', 2, '1.2.840.11111.3.2')
2026-02-18 12:04:51.486 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.486 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.498 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.498 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.499 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.499 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5457s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:04:51.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5457s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:04:51.502 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.502 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.512 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.513 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.514 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.514 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.514 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5882s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.515 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5882s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:51.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.520 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5891s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:51.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5891s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:51.524 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.524 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.524 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5876s ago] ('1.2.840.11111.3.2.3', None, 'T2 coronal', 3, '1.2.840.11111.3.2')
2026-02-18 12:04:51.524 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5876s ago] ('1.2.840.11111.3.2.3', None, 'T2 coronal', 3, '1.2.840.11111.3.2')
2026-02-18 12:04:51.527 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.527 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.538 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.539 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.539 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.539 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.540 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5864s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:51.540 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5864s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:51.543 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.543 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.674s ago] ('PAT004',)
2026-02-18 12:04:51.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.674s ago] ('PAT004',)
2026-02-18 12:04:51.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.674s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.674s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.567 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.567 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.567 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6745s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 12:04:51.568 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6745s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 12:04:51.570 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.571 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.585 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.586 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.586 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.586 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.586 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6756s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6756s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.598 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.598 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.599 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.599 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.599 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6731s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.599 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6731s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6724s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:04:51.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6724s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:04:51.607 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.607 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.671s ago] ('1.2.840.11111.4.1.1', None, 'DWI', 1, '1.2.840.11111.4.1')
2026-02-18 12:04:51.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.671s ago] ('1.2.840.11111.4.1.1', None, 'DWI', 1, '1.2.840.11111.4.1')
2026-02-18 12:04:51.611 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.612 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.628 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.628 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.629 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.629 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6762s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:04:51.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6762s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:04:51.632 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.632 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.641 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.641 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.642 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.642 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7165s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7165s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:51.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7154s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:51.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7154s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:51.650 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.650 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7137s ago] ('1.2.840.11111.4.1.2', None, 'T2 coronal', 2, '1.2.840.11111.4.1')
2026-02-18 12:04:51.651 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7137s ago] ('1.2.840.11111.4.1.2', None, 'T2 coronal', 2, '1.2.840.11111.4.1')
2026-02-18 12:04:51.653 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.653 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.669 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.669 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7173s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:51.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7173s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:51.674 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.674 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.683 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.684 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8014s ago] ('PAT005',)
2026-02-18 12:04:51.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8014s ago] ('PAT005',)
2026-02-18 12:04:51.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8014s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8014s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.694 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.694 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:04:51.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8016s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 12:04:51.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8016s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 12:04:51.697 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.697 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8004s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8004s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.715 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.715 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.724 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.724 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7989s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7989s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.729 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7979s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:04:51.729 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7979s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:04:51.733 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.734 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7971s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 12:04:51.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7971s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 12:04:51.737 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.737 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.748 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.748 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.749 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.749 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.749 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7961s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:04:51.750 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7961s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:04:51.752 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.752 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.764 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.765 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8399s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8399s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:51.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8389s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:51.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8389s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:51.774 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.774 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:04:51.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8375s ago] ('1.2.840.11111.5.1.2', None, 'T1 axial', 2, '1.2.840.11111.5.1')
2026-02-18 12:04:51.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8375s ago] ('1.2.840.11111.5.1.2', None, 'T1 axial', 2, '1.2.840.11111.5.1')
2026-02-18 12:04:51.776 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.777 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.787 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.788 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.788 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.788 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.788 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8351s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:51.789 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8351s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:51.790 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.790 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.804 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.804 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:51.808 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:51.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 12:04:51.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 12:04:51.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('doctor_review',)
2026-02-18 12:04:51.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('doctor_review',)
2026-02-18 12:04:51.822 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:51.823 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:51.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00122s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:51.818587', None, None)
2026-02-18 12:04:51.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00122s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:51.818587', None, None)
2026-02-18 12:04:51.826 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.827 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.839 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.840 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.842 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.842 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] (1,)
2026-02-18 12:04:51.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] (1,)
2026-02-18 12:04:51.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (1,)
2026-02-18 12:04:51.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (1,)
2026-02-18 12:04:51.856 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.856 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('doctor_review',)
2026-02-18 12:04:51.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('doctor_review',)
2026-02-18 12:04:51.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.863 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00108s] ('PAT001',)
2026-02-18 12:04:51.863 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00108s] ('PAT001',)
2026-02-18 12:04:51.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.865 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:51.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:04:51.873 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.874 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009481s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009481s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.889 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.890 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02514s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.890 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02514s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.897 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.897 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0332s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0332s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.879 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57f424f800>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57f48531d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57f4853270>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852cf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57f4853270>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57f48531d0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:51.907 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.908 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04346s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04346s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.914 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.914 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.914 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04987s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.914 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04987s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.900 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57f435bd70>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57f424f800>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852fb0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57f48531d0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57f4853270>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57f4852cf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f45325f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57f4853270>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57f48531d0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:51.916 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:51.916 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:51.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:51.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:51.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.116s ago] ('doctor_review', '1.2.840.11111.1.1.3', '1.2.840.11111.1.1')
2026-02-18 12:04:51.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.116s ago] ('doctor_review', '1.2.840.11111.1.1.3', '1.2.840.11111.1.1')
2026-02-18 12:04:51.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1143s ago] ('doctor_review',)
2026-02-18 12:04:51.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1143s ago] ('doctor_review',)
2026-02-18 12:04:51.931 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:51.931 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:51.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1093s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:51.930065', None, None)
2026-02-18 12:04:51.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1093s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:51.930065', None, None)
2026-02-18 12:04:51.934 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.934 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:51.947 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.948 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:51.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.949 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.949 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1068s ago] (2,)
2026-02-18 12:04:51.949 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1068s ago] (2,)
2026-02-18 12:04:51.952 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.953 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:51.953 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1041s ago] (2,)
2026-02-18 12:04:51.953 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1041s ago] (2,)
2026-02-18 12:04:51.956 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.956 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:51.956 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1007s ago] ('doctor_review',)
2026-02-18 12:04:51.956 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1007s ago] ('doctor_review',)
2026-02-18 12:04:51.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:51.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09911s ago] ('PAT001',)
2026-02-18 12:04:51.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09911s ago] ('PAT001',)
2026-02-18 12:04:51.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09757s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09757s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.963 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.963 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:51.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0953s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0953s ago] ('1.2.840.11111.1.1.3',)
2026-02-18 12:04:51.965 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.965 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.965 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.101s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.101s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.976 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1125s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1125s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.983 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.984 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1193s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.984 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1193s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.969 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ece37490>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ece378b0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ece37a00>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece37cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ece37a00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ece378b0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:51.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1269s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1269s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.999 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:51.999 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1352s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:52.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1352s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:04:51.985 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecf94bf0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ece37490>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece377f0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ece378b0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ece37a00>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ece37cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57f4657690>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ece37a00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ece378b0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.002 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.002 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.008 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.009 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.009 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.009 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2025s ago] ('doctor_review', '1.2.840.11111.1.2.2', '1.2.840.11111.1.2')
2026-02-18 12:04:52.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2025s ago] ('doctor_review', '1.2.840.11111.1.2.2', '1.2.840.11111.1.2')
2026-02-18 12:04:52.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2002s ago] ('doctor_review',)
2026-02-18 12:04:52.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2002s ago] ('doctor_review',)
2026-02-18 12:04:52.016 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.016 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.017 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.195s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.2', '1.2.840.11111.1.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.015772', None, None)
2026-02-18 12:04:52.017 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.195s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.2', '1.2.840.11111.1.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.015772', None, None)
2026-02-18 12:04:52.020 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.020 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.034 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.034 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1936s ago] (3,)
2026-02-18 12:04:52.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1936s ago] (3,)
2026-02-18 12:04:52.039 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.039 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.039 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1905s ago] (3,)
2026-02-18 12:04:52.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1905s ago] (3,)
2026-02-18 12:04:52.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1873s ago] ('doctor_review',)
2026-02-18 12:04:52.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1873s ago] ('doctor_review',)
2026-02-18 12:04:52.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1852s ago] ('PAT001',)
2026-02-18 12:04:52.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1852s ago] ('PAT001',)
2026-02-18 12:04:52.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1838s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1838s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.050 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1818s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:52.050 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1818s ago] ('1.2.840.11111.1.2.2',)
2026-02-18 12:04:52.052 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.052 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1877s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1877s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1959s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1959s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.066 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.066 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.067 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2022s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.067 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2022s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.055 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecdf1f40>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecdf2200>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecdf2350>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecdf2350>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecdf2200>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.074 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.075 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2103s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2103s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2171s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.082 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2171s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:04:52.068 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecdf1dd0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecdf1f40>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2140>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecdf2200>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecdf2350>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecdf2610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecddd010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecdf2350>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecdf2200>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.083 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.083 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.089 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.089 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.090 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.090 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.283s ago] ('doctor_review', '1.2.840.11111.2.1.2', '1.2.840.11111.2.1')
2026-02-18 12:04:52.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.283s ago] ('doctor_review', '1.2.840.11111.2.1.2', '1.2.840.11111.2.1')
2026-02-18 12:04:52.093 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.094 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.094 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2813s ago] ('doctor_review',)
2026-02-18 12:04:52.094 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2813s ago] ('doctor_review',)
2026-02-18 12:04:52.098 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.098 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2762s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.097060', None, None)
2026-02-18 12:04:52.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2762s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.097060', None, None)
2026-02-18 12:04:52.100 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.101 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.113 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.113 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.114 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.114 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.114 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2725s ago] (4,)
2026-02-18 12:04:52.115 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2725s ago] (4,)
2026-02-18 12:04:52.118 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.118 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.118 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2695s ago] (4,)
2026-02-18 12:04:52.119 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2695s ago] (4,)
2026-02-18 12:04:52.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.122 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.266s ago] ('doctor_review',)
2026-02-18 12:04:52.122 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.266s ago] ('doctor_review',)
2026-02-18 12:04:52.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2635s ago] ('PAT002',)
2026-02-18 12:04:52.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2635s ago] ('PAT002',)
2026-02-18 12:04:52.126 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.126 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.126 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2621s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2621s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.128 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.128 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.26s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:52.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.26s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:04:52.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.130 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2655s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2655s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.138 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.138 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2743s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2743s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2822s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2822s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.133 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecafc890>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecafcb50>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecafcca0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafcf60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecafcca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecafcb50>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2891s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2891s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.160 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.160 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.160 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2958s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.160 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2958s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:04:52.148 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafc720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecafc890>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafca90>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecafcb50>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecafcca0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecafcf60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecc8c4b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecafcca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecafcb50>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.162 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.162 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.168 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.169 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3624s ago] ('doctor_review', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1')
2026-02-18 12:04:52.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3624s ago] ('doctor_review', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1')
2026-02-18 12:04:52.172 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.172 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.173 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3599s ago] ('doctor_review',)
2026-02-18 12:04:52.173 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3599s ago] ('doctor_review',)
2026-02-18 12:04:52.177 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.177 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.177 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3556s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.175663', None, None)
2026-02-18 12:04:52.178 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3556s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.175663', None, None)
2026-02-18 12:04:52.180 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.180 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.196 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.196 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.197 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.197 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3553s ago] (5,)
2026-02-18 12:04:52.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3553s ago] (5,)
2026-02-18 12:04:52.201 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.201 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.201 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3521s ago] (5,)
2026-02-18 12:04:52.201 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3521s ago] (5,)
2026-02-18 12:04:52.204 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.204 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.205 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.349s ago] ('doctor_review',)
2026-02-18 12:04:52.205 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.349s ago] ('doctor_review',)
2026-02-18 12:04:52.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.347s ago] ('PAT003',)
2026-02-18 12:04:52.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.347s ago] ('PAT003',)
2026-02-18 12:04:52.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3459s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3459s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.211 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.212 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.212 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3439s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:52.212 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3439s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:04:52.214 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.214 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3498s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3498s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.223 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.223 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3588s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3588s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.231 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.231 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3666s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3666s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.217 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecaff120>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecaff3e0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecaff530>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff7f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecaff530>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecaff3e0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.238 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.238 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3737s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3737s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3801s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.245 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3801s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:04:52.232 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecafefb0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecaff120>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff320>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecaff3e0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecaff530>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecaff7f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eccf3930>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecaff530>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecaff3e0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.246 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.246 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.253 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.253 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.253 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.254 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4467s ago] ('doctor_review', '1.2.840.11111.3.2.1', '1.2.840.11111.3.2')
2026-02-18 12:04:52.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4467s ago] ('doctor_review', '1.2.840.11111.3.2.1', '1.2.840.11111.3.2')
2026-02-18 12:04:52.256 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.257 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4442s ago] ('doctor_review',)
2026-02-18 12:04:52.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4442s ago] ('doctor_review',)
2026-02-18 12:04:52.261 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.261 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.261 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4397s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.260351', None, None)
2026-02-18 12:04:52.262 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4397s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.260351', None, None)
2026-02-18 12:04:52.264 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.264 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.276 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.276 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.276 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.277 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.277 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4349s ago] (6,)
2026-02-18 12:04:52.277 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4349s ago] (6,)
2026-02-18 12:04:52.280 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.280 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.280 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4312s ago] (6,)
2026-02-18 12:04:52.280 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4312s ago] (6,)
2026-02-18 12:04:52.283 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.283 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.283 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4277s ago] ('doctor_review',)
2026-02-18 12:04:52.284 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4277s ago] ('doctor_review',)
2026-02-18 12:04:52.286 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.287 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.287 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4255s ago] ('PAT003',)
2026-02-18 12:04:52.287 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4255s ago] ('PAT003',)
2026-02-18 12:04:52.288 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.288 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.288 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.424s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.289 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.424s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.289 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.289 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.290 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4217s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:52.290 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4217s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:04:52.291 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.291 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.292 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4273s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.292 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4273s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4361s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4361s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.306 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.307 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.307 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4425s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.307 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4425s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.295 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecbf55a0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecbf5e90>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecbf5fe0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf62a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecbf5fe0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecbf5e90>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.314 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.314 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.314 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4497s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.314 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4497s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.320 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.320 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.320 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4556s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.320 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4556s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.308 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ecbf5a60>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ecbf55a0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf5dd0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ecbf5e90>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ecbf5fe0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ecbf62a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ecbaaf90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ecbf5fe0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ecbf5e90>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.322 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.322 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.328 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.328 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.329 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.329 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.329 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5219s ago] ('doctor_review', '1.2.840.11111.3.2.3', '1.2.840.11111.3.2')
2026-02-18 12:04:52.329 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5219s ago] ('doctor_review', '1.2.840.11111.3.2.3', '1.2.840.11111.3.2')
2026-02-18 12:04:52.332 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.333 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5203s ago] ('doctor_review',)
2026-02-18 12:04:52.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5203s ago] ('doctor_review',)
2026-02-18 12:04:52.337 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.337 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.338 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5159s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.336507', None, None)
2026-02-18 12:04:52.338 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5159s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.336507', None, None)
2026-02-18 12:04:52.341 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.341 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.353 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5125s ago] (7,)
2026-02-18 12:04:52.355 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5125s ago] (7,)
2026-02-18 12:04:52.357 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.358 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.358 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5091s ago] (7,)
2026-02-18 12:04:52.358 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5091s ago] (7,)
2026-02-18 12:04:52.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5061s ago] ('doctor_review',)
2026-02-18 12:04:52.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5061s ago] ('doctor_review',)
2026-02-18 12:04:52.365 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.365 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.365 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5037s ago] ('PAT003',)
2026-02-18 12:04:52.365 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5037s ago] ('PAT003',)
2026-02-18 12:04:52.366 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.367 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5024s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5024s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.368 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.368 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5005s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:52.369 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5005s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:04:52.371 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.371 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.372 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5072s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.372 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5072s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.380 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.380 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5162s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5162s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.386 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5224s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5224s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.375 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec90c520>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec90c7e0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec90c930>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90cbf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec90c930>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec90c7e0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.393 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.393 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.394 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5292s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.394 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5292s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.399 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.399 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5353s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5353s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:04:52.388 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90c3b0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec90c520>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90c720>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec90c7e0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec90c930>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90cbf0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57eca5e510>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec90c930>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec90c7e0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.402 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.402 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.409 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.409 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.410 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.410 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.411 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6035s ago] ('doctor_review', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1')
2026-02-18 12:04:52.411 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6035s ago] ('doctor_review', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1')
2026-02-18 12:04:52.414 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.414 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.414 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6012s ago] ('doctor_review',)
2026-02-18 12:04:52.414 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6012s ago] ('doctor_review',)
2026-02-18 12:04:52.418 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.418 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5968s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.417540', None, None)
2026-02-18 12:04:52.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5968s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.417540', None, None)
2026-02-18 12:04:52.421 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.422 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.434 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.435 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.435 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.435 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.436 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5935s ago] (8,)
2026-02-18 12:04:52.436 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5935s ago] (8,)
2026-02-18 12:04:52.440 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.440 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.440 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5913s ago] (8,)
2026-02-18 12:04:52.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5913s ago] (8,)
2026-02-18 12:04:52.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5889s ago] ('doctor_review',)
2026-02-18 12:04:52.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5889s ago] ('doctor_review',)
2026-02-18 12:04:52.448 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.449 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.449 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5877s ago] ('PAT004',)
2026-02-18 12:04:52.449 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5877s ago] ('PAT004',)
2026-02-18 12:04:52.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5866s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5866s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.452 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.452 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5848s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:52.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5848s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:04:52.454 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.454 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.455 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5903s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.455 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5903s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.463 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.463 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.463 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5989s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.464 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5989s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.469 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.469 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.470 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6052s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.470 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6052s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.458 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec90edb0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec90f070>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec90f1c0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90f480>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec90f1c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec90f070>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.476 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.476 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.612s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.477 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.612s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.482 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.482 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6178s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6178s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:04:52.471 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec90ec40>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec90edb0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90efb0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec90f070>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec90f1c0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec90f480>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec905a90>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec90f1c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec90f070>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.484 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.484 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:04:52.490 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.683s ago] ('doctor_review', '1.2.840.11111.5.1.2', '1.2.840.11111.5.1')
2026-02-18 12:04:52.490 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.683s ago] ('doctor_review', '1.2.840.11111.5.1.2', '1.2.840.11111.5.1')
2026-02-18 12:04:52.493 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.493 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.493 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6808s ago] ('doctor_review',)
2026-02-18 12:04:52.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6808s ago] ('doctor_review',)
2026-02-18 12:04:52.498 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.499 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:04:52.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6772s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.496958', None, None)
2026-02-18 12:04:52.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6772s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:04:52.496958', None, None)
2026-02-18 12:04:52.502 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.502 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:04:52.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:04:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6739s ago] (9,)
2026-02-18 12:04:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6739s ago] (9,)
2026-02-18 12:04:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:04:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6707s ago] (9,)
2026-02-18 12:04:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6707s ago] (9,)
2026-02-18 12:04:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:04:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6671s ago] ('doctor_review',)
2026-02-18 12:04:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6671s ago] ('doctor_review',)
2026-02-18 12:04:52.526 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.526 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:04:52.527 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6652s ago] ('PAT005',)
2026-02-18 12:04:52.527 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6652s ago] ('PAT005',)
2026-02-18 12:04:52.528 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.528 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6638s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6638s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.529 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.529 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:04:52.529 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6615s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:52.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6615s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:04:52.531 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.531 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.531 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.667s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.532 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.667s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.542 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.542 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6779s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.543 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6779s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.548 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.548 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.548 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6837s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.548 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6837s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.535 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec9ed0d0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec9ed9c0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec9edb10>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9eddd0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec9edb10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec9ed9c0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.554 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6898s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.554 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6898s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:04:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6958s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6958s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:04:52.549 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec9ed590>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec9ed0d0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f563a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9ed900>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec9ed9c0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec9edb10>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec9eddd0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec9a5010>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec9edb10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec9ed9c0>
                      <function get_request_handler.<locals>.app at 0x7f57f563a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:04:52.562 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:04:52.562 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.518 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.518 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:08:35.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:08:35.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.5s ago] ('admin@clarinet.ru',)
2026-02-18 12:08:35.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.5s ago] ('admin@clarinet.ru',)
2026-02-18 12:08:35.620 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.620 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:08:35.619417')
2026-02-18 12:08:35.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:08:35.619417')
2026-02-18 12:08:35.624 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:08:35.624 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:08:35.624 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:08:35.623173', '2026-02-19 09:08:35.622877', '2026-02-18 09:08:35.623209', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:08:35.624 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:08:35.623173', '2026-02-19 09:08:35.622877', '2026-02-18 09:08:35.623209', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:08:35.627 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.627 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.646 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user d52b50e3-aa7e-4a12-9e45-d4c39d040f29
2026-02-18 12:08:35.646 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User d52b50e3-aa7e-4a12-9e45-d4c39d040f29 logged in.
2026-02-18 12:08:35.655 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.655 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.656 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.656 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', '2026-02-18 09:08:35.654705')
2026-02-18 12:08:35.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', '2026-02-18 09:08:35.654705')
2026-02-18 12:08:35.659 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:08:35.659 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:08:35.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('2026-02-18 09:08:35.658856', '1179036c-d358-4cc5-8293-d0866d221f06')
2026-02-18 12:08:35.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('2026-02-18 09:08:35.658856', '1179036c-d358-4cc5-8293-d0866d221f06')
2026-02-18 12:08:35.662 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.663 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:08:35.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:08:35.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:08:35.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:08:35.679 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.679 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.694 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.694 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:08:35.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', '2026-02-18 09:08:35.694002')
2026-02-18 12:08:35.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('1179036c-d358-4cc5-8293-d0866d221f06', '2026-02-18 09:08:35.694002')
2026-02-18 12:08:35.699 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:08:35.699 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:08:35.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('2026-02-18 09:08:35.698574', '1179036c-d358-4cc5-8293-d0866d221f06')
2026-02-18 12:08:35.700 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('2026-02-18 09:08:35.698574', '1179036c-d358-4cc5-8293-d0866d221f06')
2026-02-18 12:08:35.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.713 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.714 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:08:35.715 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:08:35.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:08:35.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:08:35.718 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.718 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:08:35.726 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.726 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.727 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT001',)
2026-02-18 12:08:35.727 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT001',)
2026-02-18 12:08:35.731 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.732 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.737 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.737 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.738 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.738 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.738 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT002',)
2026-02-18 12:08:35.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT002',)
2026-02-18 12:08:35.742 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.743 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.749 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.749 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.750 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.750 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.750 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT003',)
2026-02-18 12:08:35.750 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT003',)
2026-02-18 12:08:35.754 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.754 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.759 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.759 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.760 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.760 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT004',)
2026-02-18 12:08:35.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT004',)
2026-02-18 12:08:35.764 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.764 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.769 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.769 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:08:35.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT005',)
2026-02-18 12:08:35.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 225.1s ago] ('PAT005',)
2026-02-18 12:08:35.776 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.779 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.783 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.783 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:08:35.785 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:08:35.786 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:08:35.786 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] (100, 0)
2026-02-18 12:08:35.786 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] (100, 0)
2026-02-18 12:08:35.792 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:08:35.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:08:35.793 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00151s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:08:35.793 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00151s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:08:35.801 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1',)
2026-02-18 12:08:35.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1',)
2026-02-18 12:08:35.803 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.803 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002459s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:08:35.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002459s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:08:35.805 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.805 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004005s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:08:35.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004005s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:08:35.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005353s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:08:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005353s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:08:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006567s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:08:35.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006567s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:08:35.809 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.809 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007717s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:08:35.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007717s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:08:35.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:08:35.810 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009044s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:08:35.810 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009044s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:08:35.815 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec71a570>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f5478f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec719860>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec718ca0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec719430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec718ca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec719860>
                      <function get_request_handler.<locals>.app at 0x7f57f5478e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.2', patient_id='PAT001', date=datetime.date(2024, 1, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:08:35.825 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec71b5e0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec71a570>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f5478f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec718930>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec719860>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec718ca0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec719430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec8c7af0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec718ca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec719860>
                      <function get_request_handler.<locals>.app at 0x7f57f5478e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.2', patient_id='PAT001', date=datetime.date(2024, 1, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:08:35.836 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:08:35.836 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.529 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.529 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.529 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:10:05.530 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:10:05.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.5s ago] ('admin@clarinet.ru',)
2026-02-18 12:10:05.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.5s ago] ('admin@clarinet.ru',)
2026-02-18 12:10:05.631 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.631 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:10:05.631065')
2026-02-18 12:10:05.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:10:05.631065')
2026-02-18 12:10:05.635 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:05.636 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:05.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:10:05.634995', '2026-02-19 09:10:05.634740', '2026-02-18 09:10:05.635028', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:10:05.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', 'd52b50e3aa7e4a129e45d4c39d040f29', '2026-02-18 09:10:05.634995', '2026-02-19 09:10:05.634740', '2026-02-18 09:10:05.635028', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:10:05.638 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.638 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.657 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user d52b50e3-aa7e-4a12-9e45-d4c39d040f29
2026-02-18 12:10:05.657 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User d52b50e3-aa7e-4a12-9e45-d4c39d040f29 logged in.
2026-02-18 12:10:05.664 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.664 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.664 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.664 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', '2026-02-18 09:10:05.663699')
2026-02-18 12:10:05.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', '2026-02-18 09:10:05.663699')
2026-02-18 12:10:05.667 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:10:05.667 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:10:05.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('2026-02-18 09:10:05.666846', '229c3548-de9e-4278-acbf-9a116ce7dcd3')
2026-02-18 12:10:05.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('2026-02-18 09:10:05.666846', '229c3548-de9e-4278-acbf-9a116ce7dcd3')
2026-02-18 12:10:05.669 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.669 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.681 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.681 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:05.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:05.682 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:10:05.682 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:10:05.685 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.685 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:10:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', '2026-02-18 09:10:05.696699')
2026-02-18 12:10:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('229c3548-de9e-4278-acbf-9a116ce7dcd3', '2026-02-18 09:10:05.696699')
2026-02-18 12:10:05.700 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:10:05.700 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:10:05.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('2026-02-18 09:10:05.700019', '229c3548-de9e-4278-acbf-9a116ce7dcd3')
2026-02-18 12:10:05.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('2026-02-18 09:10:05.700019', '229c3548-de9e-4278-acbf-9a116ce7dcd3')
2026-02-18 12:10:05.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.713 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.713 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:05.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:05.714 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:10:05.714 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('d52b50e3aa7e4a129e45d4c39d040f29',)
2026-02-18 12:10:05.716 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.716 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:05.723 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.724 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.724 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT001',)
2026-02-18 12:10:05.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT001',)
2026-02-18 12:10:05.727 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.728 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.731 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.731 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.732 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.732 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.732 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT002',)
2026-02-18 12:10:05.733 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT002',)
2026-02-18 12:10:05.735 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.735 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.738 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.739 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.739 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.739 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT003',)
2026-02-18 12:10:05.740 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT003',)
2026-02-18 12:10:05.742 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.742 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.746 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.747 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.747 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT004',)
2026-02-18 12:10:05.747 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT004',)
2026-02-18 12:10:05.749 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.749 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.753 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.753 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.753 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.754 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:10:05.754 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT005',)
2026-02-18 12:10:05.754 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 315.1s ago] ('PAT005',)
2026-02-18 12:10:05.757 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.757 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.762 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.762 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:05.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:10:05.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:10:05.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] (100, 0)
2026-02-18 12:10:05.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] (100, 0)
2026-02-18 12:10:05.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:10:05.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:10:05.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:10:05.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:10:05.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:10:05.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:10:05.772 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.772 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:10:05.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.1.2',)
2026-02-18 12:10:05.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:10:05.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:10:05.775 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.775 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:10:05.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.97s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:10:05.776 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.776 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:10:05.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:10:05.777 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.778 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:10:05.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:10:05.779 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.779 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:10:05.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:10:05.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 89.98s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:10:05.783 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec7bfee0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f5478f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec686830>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec684300>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec685c70>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec684300>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec686830>
                      <function get_request_handler.<locals>.app at 0x7f57f5478e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.2', patient_id='PAT001', date=datetime.date(2024, 1, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:10:05.792 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7f57f9851f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7f57f9717cb0>
              <function Command.invoke at 0x7f57f98519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7f57f9717cb0>
                         <function main at 0x7f57f962d0c0>
                     <Command main>
               <function Context.invoke at 0x7f57f984fab0>
            <click.core.Context object at 0x7f57f9717cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7f57f962d0c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7f57f961e2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7f57f973ea30>
     <uvicorn.server.Server object at 0x7f57f9634590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7f57f973eb90>
                      <uvicorn.server.Server object at 0x7f57f9634590>
                   <function run at 0x7f57f9bed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7f57f975fc40>
                  <function Runner.run at 0x7f57f9bed430>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7f57f9bdd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7f57f9634830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7f57f9bdd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7f57f9bdf8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7f57f9b5bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f57f54823c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
           <fastapi.applications.FastAPI object at 0x7f57f55ccd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f57f5482f90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7f57f5482e40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f57ec7bf7f0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7f57ec7bfee0>
                                           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f57f5482cf0>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f57f56e9a50>>
           <fastapi.routing.APIRouter object at 0x7f57f56e9a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7f57f851c880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7f57f5478f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec6841a0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7f57ec686830>
                                       <function request_response.<locals>.app.<locals>.app at 0x7f57ec684300>
           <function wrap_app_handling_exceptions at 0x7f57f84f1b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f57ec685c70>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7f57ec61faf0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7f57ec684300>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7f57ec686830>
                      <function get_request_handler.<locals>.app at 0x7f57f5478e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7f57f8520bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.2', patient_id='PAT001', date=datetime.date(2024, 1, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:10:05.803 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:05.803 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:29.508 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:10:29.509 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:10:29.609 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:10:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:10:29.610 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-18 12:10:29.610 |                   INFO     |                   src.api.app:lifespan:106 -                   Session cleanup service stopped
2026-02-18 12:10:29.611 |                   INFO     |                   src.api.app:lifespan:112 -                   RecordFlow client closed
2026-02-18 12:10:29.612 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-18 12:10:29.612 |                   INFO     |                   src.api.app:lifespan:118 -                   Application shutdown
2026-02-18 12:10:29.613 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:10:29.613 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:10:29.613 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [285180]
2026-02-18 12:10:29.613 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [285180]
2026-02-18 12:10:41.739 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [290721]
2026-02-18 12:10:41.739 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [290721]
2026-02-18 12:10:41.739 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 12:10:41.740 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 12:10:41.740 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 12:10:41.762 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 12:10:41.767 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:41.767 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:41.768 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 12:10:41.768 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 12:10:41.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.769 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.770 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 12:10:41.771 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 12:10:41.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.773 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 12:10:41.774 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 12:10:41.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 12:10:41.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 12:10:41.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.779 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 12:10:41.779 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 12:10:41.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 12:10:41.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 12:10:41.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.783 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 12:10:41.784 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 12:10:41.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.786 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 12:10:41.786 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 12:10:41.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.789 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 12:10:41.789 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 12:10:41.789 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.789 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.791 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 12:10:41.791 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 12:10:41.792 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.792 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.794 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 12:10:41.794 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 12:10:41.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.796 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 12:10:41.797 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 12:10:41.797 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.797 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.799 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 12:10:41.799 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 12:10:41.799 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.799 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.802 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 12:10:41.802 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 12:10:41.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.804 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 12:10:41.804 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 12:10:41.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.806 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 12:10:41.806 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 12:10:41.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.809 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 12:10:41.809 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 12:10:41.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.810 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.811 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 12:10:41.811 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 12:10:41.812 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.812 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 12:10:41.815 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 12:10:41.815 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 12:10:41.815 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00052s] ()
2026-02-18 12:10:41.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00052s] ()
2026-02-18 12:10:41.836 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 12:10:41.837 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 12:10:41.837 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00076s] ()
2026-02-18 12:10:41.837 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00076s] ()
2026-02-18 12:10:41.850 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 12:10:41.850 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 12:10:41.851 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00063s] ()
2026-02-18 12:10:41.851 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00063s] ()
2026-02-18 12:10:41.864 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 12:10:41.864 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 12:10:41.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00065s] ()
2026-02-18 12:10:41.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00065s] ()
2026-02-18 12:10:41.877 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 12:10:41.878 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 12:10:41.878 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00057s] ()
2026-02-18 12:10:41.878 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00057s] ()
2026-02-18 12:10:41.890 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 12:10:41.891 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 12:10:41.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00055s] ()
2026-02-18 12:10:41.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00055s] ()
2026-02-18 12:10:41.904 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 12:10:41.904 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 12:10:41.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:10:41.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:10:41.917 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 12:10:41.917 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 12:10:41.917 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 12:10:41.918 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00059s] ()
2026-02-18 12:10:41.930 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 12:10:41.930 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 12:10:41.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:10:41.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00064s] ()
2026-02-18 12:10:41.943 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:10:41.944 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:10:41.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00056s] ()
2026-02-18 12:10:41.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00056s] ()
2026-02-18 12:10:41.957 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:10:41.957 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 12:10:41.957 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00052s] ()
2026-02-18 12:10:41.957 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00052s] ()
2026-02-18 12:10:41.971 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 12:10:41.971 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 12:10:41.971 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00060s] ()
2026-02-18 12:10:41.971 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00060s] ()
2026-02-18 12:10:41.985 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 12:10:41.985 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 12:10:41.985 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00073s] ()
2026-02-18 12:10:41.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00073s] ()
2026-02-18 12:10:41.998 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:41.998 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:41.999 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 12:10:41.999 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 12:10:42.001 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.001 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('doctor',)
2026-02-18 12:10:42.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('doctor',)
2026-02-18 12:10:42.052 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.052 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00063s] ('doctor',)
2026-02-18 12:10:42.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00063s] ('doctor',)
2026-02-18 12:10:42.055 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.069 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.069 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.072 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.073 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('doctor',)
2026-02-18 12:10:42.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('doctor',)
2026-02-18 12:10:42.075 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: doctor
2026-02-18 12:10:42.076 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.076 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.077 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03024s ago] ('auto',)
2026-02-18 12:10:42.077 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03024s ago] ('auto',)
2026-02-18 12:10:42.079 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.080 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02803s ago] ('auto',)
2026-02-18 12:10:42.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02803s ago] ('auto',)
2026-02-18 12:10:42.082 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.082 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.097 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.097 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02594s ago] ('auto',)
2026-02-18 12:10:42.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02594s ago] ('auto',)
2026-02-18 12:10:42.100 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: auto
2026-02-18 12:10:42.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05526s ago] ('admin',)
2026-02-18 12:10:42.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05526s ago] ('admin',)
2026-02-18 12:10:42.105 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.105 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05339s ago] ('admin',)
2026-02-18 12:10:42.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05339s ago] ('admin',)
2026-02-18 12:10:42.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.119 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.120 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04873s ago] ('admin',)
2026-02-18 12:10:42.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04873s ago] ('admin',)
2026-02-18 12:10:42.123 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: admin
2026-02-18 12:10:42.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07791s ago] ('expert',)
2026-02-18 12:10:42.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07791s ago] ('expert',)
2026-02-18 12:10:42.127 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.128 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07601s ago] ('expert',)
2026-02-18 12:10:42.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07601s ago] ('expert',)
2026-02-18 12:10:42.130 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.130 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.149 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.149 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.149 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.150 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07763s ago] ('expert',)
2026-02-18 12:10:42.150 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07763s ago] ('expert',)
2026-02-18 12:10:42.152 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: expert
2026-02-18 12:10:42.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1073s ago] ('ordinator',)
2026-02-18 12:10:42.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1073s ago] ('ordinator',)
2026-02-18 12:10:42.156 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.157 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 12:10:42.157 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1049s ago] ('ordinator',)
2026-02-18 12:10:42.157 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1049s ago] ('ordinator',)
2026-02-18 12:10:42.159 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.159 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.173 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.173 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.173 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.173 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1014s ago] ('ordinator',)
2026-02-18 12:10:42.174 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1014s ago] ('ordinator',)
2026-02-18 12:10:42.175 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: ordinator
2026-02-18 12:10:42.175 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.175 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.176 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 12:10:42.177 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 12:10:42.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.187 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.188 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('expert_check',)
2026-02-18 12:10:42.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('expert_check',)
2026-02-18 12:10:42.192 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.192 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 12:10:42.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 12:10:42.194 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.195 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.207 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.207 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('expert_check',)
2026-02-18 12:10:42.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ('expert_check',)
2026-02-18 12:10:42.212 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: expert_check
2026-02-18 12:10:42.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.216 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.216 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.217 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.217 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.217 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0299s ago] ('ai_analysis',)
2026-02-18 12:10:42.217 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0299s ago] ('ai_analysis',)
2026-02-18 12:10:42.220 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.221 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02915s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 12:10:42.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02915s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 12:10:42.223 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.223 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.235 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.235 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.236 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0282s ago] ('ai_analysis',)
2026-02-18 12:10:42.237 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0282s ago] ('ai_analysis',)
2026-02-18 12:10:42.239 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: ai_analysis
2026-02-18 12:10:42.239 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.239 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.243 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.243 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.244 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.244 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05704s ago] ('doctor_review',)
2026-02-18 12:10:42.244 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05704s ago] ('doctor_review',)
2026-02-18 12:10:42.248 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.248 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.248 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05641s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 12:10:42.248 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05641s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 12:10:42.250 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.250 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.262 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.262 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.263 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.263 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:10:42.263 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05474s ago] ('doctor_review',)
2026-02-18 12:10:42.263 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05474s ago] ('doctor_review',)
2026-02-18 12:10:42.265 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: doctor_review
2026-02-18 12:10:42.266 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.266 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.268 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.268 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.270 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 12:10:42.270 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 12:10:42.270 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ()
2026-02-18 12:10:42.270 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ()
2026-02-18 12:10:42.273 |                   WARNING  |                   src.utils.admin:ensure_admin_exists:69 -                   No admin users found in system!
2026-02-18 12:10:42.274 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.274 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.276 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 12:10:42.276 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 12:10:42.276 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('admin@clarinet.ru',)
2026-02-18 12:10:42.276 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('admin@clarinet.ru',)
2026-02-18 12:10:42.691 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.691 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 12:10:42.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('admin@clarinet.ru', '$2b$12$zIXJVOi8GahKWkeLUBndOOLLI/XDwNiLP08pPayfLA9ufErabghli', 1, 1, 1, 'fddd9e5df3bf4e4bbd518281cc7f525b')
2026-02-18 12:10:42.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('admin@clarinet.ru', '$2b$12$zIXJVOi8GahKWkeLUBndOOLLI/XDwNiLP08pPayfLA9ufErabghli', 1, 1, 1, 'fddd9e5df3bf4e4bbd518281cc7f525b')
2026-02-18 12:10:42.694 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.694 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.706 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.706 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.709 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:42.709 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:10:42.709 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:10:42.709 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:10:42.716 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 12:10:42.716 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 12:10:42.716 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:10:42.716 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:10:42.719 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.719 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 12:10:42.720 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6733s ago] ('admin',)
2026-02-18 12:10:42.720 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6733s ago] ('admin',)
2026-02-18 12:10:42.724 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 12:10:42.724 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 12:10:42.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('fddd9e5df3bf4e4bbd518281cc7f525b', 'admin')
2026-02-18 12:10:42.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] ('fddd9e5df3bf4e4bbd518281cc7f525b', 'admin')
2026-02-18 12:10:42.727 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.727 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.738 |                   INFO     |                   src.utils.bootstrap:create_admin_user:209 -                   Assigned 'admin' role to user with email 'admin@clarinet.ru'
2026-02-18 12:10:42.739 |                   INFO     |                   src.utils.bootstrap:create_admin_user:211 -                   Created admin user with email 'admin@clarinet.ru'
2026-02-18 12:10:42.739 |                   WARNING  |                   src.utils.bootstrap:create_admin_user:214 -                     DEFAULT ADMIN CREDENTIALS IN USE!
   Username: admin
   Password: admin123
   CHANGE THESE IMMEDIATELY!
2026-02-18 12:10:42.739 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.740 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:10:42.779 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 12:10:42.779 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 12:10:42.779 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 12:10:42.779 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 12:10:42.780 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.781 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:10:42.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 12:10:42.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 12:10:42.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('2026-02-18 09:10:42.780262',)
2026-02-18 12:10:42.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('2026-02-18 09:10:42.780262',)
2026-02-18 12:10:42.784 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 12:10:42.784 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 12:10:42.785 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 12:10:42.786 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 12:10:42.788 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:10:42.788 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:27.780 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:27.781 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:27.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:11:27.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:11:27.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('admin@clarinet.ru',)
2026-02-18 12:11:27.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('admin@clarinet.ru',)
2026-02-18 12:11:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 12:11:28.298 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 12:11:28.299 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('$argon2id$v=19$m=65536,t=3,p=4$nrpgy++dGPnR+0P1uD058A$QkmJQ6j/kfxtoEKQCceBPRqcMYc35YskN+7ilkPElnk', 'fddd9e5df3bf4e4bbd518281cc7f525b')
2026-02-18 12:11:28.299 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('$argon2id$v=19$m=65536,t=3,p=4$nrpgy++dGPnR+0P1uD058A$QkmJQ6j/kfxtoEKQCceBPRqcMYc35YskN+7ilkPElnk', 'fddd9e5df3bf4e4bbd518281cc7f525b')
2026-02-18 12:11:28.301 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.301 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.320 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.320 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.321 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.322 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.322 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.322 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00049s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.326 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.326 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.326 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:11:28.324873')
2026-02-18 12:11:28.326 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:11:28.324873')
2026-02-18 12:11:28.331 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:11:28.331 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:11:28.331 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:11:28.328773', '2026-02-19 09:11:28.328535', '2026-02-18 09:11:28.328811', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:11:28.331 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:11:28.328773', '2026-02-19 09:11:28.328535', '2026-02-18 09:11:28.328811', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 12:11:28.333 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.333 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.344 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b
2026-02-18 12:11:28.345 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b logged in.
2026-02-18 12:11:28.351 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.352 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', '2026-02-18 09:11:28.351536')
2026-02-18 12:11:28.355 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', '2026-02-18 09:11:28.351536')
2026-02-18 12:11:28.359 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:11:28.359 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:11:28.360 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('2026-02-18 09:11:28.358116', '684536e4-09c9-4c88-ac0a-a5aed569bb0f')
2026-02-18 12:11:28.360 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('2026-02-18 09:11:28.358116', '684536e4-09c9-4c88-ac0a-a5aed569bb0f')
2026-02-18 12:11:28.361 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.362 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.373 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.373 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.374 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.374 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.375 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00055s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.375 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00055s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 12:11:28.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04569s ago] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', '2026-02-18 09:11:28.399229')
2026-02-18 12:11:28.401 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04569s ago] ('684536e4-09c9-4c88-ac0a-a5aed569bb0f', '2026-02-18 09:11:28.399229')
2026-02-18 12:11:28.403 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:11:28.404 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 12:11:28.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04524s ago] ('2026-02-18 09:11:28.403369', '684536e4-09c9-4c88-ac0a-a5aed569bb0f')
2026-02-18 12:11:28.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04524s ago] ('2026-02-18 09:11:28.403369', '684536e4-09c9-4c88-ac0a-a5aed569bb0f')
2026-02-18 12:11:28.406 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.406 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.418 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.418 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.418 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.419 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 12:11:28.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04477s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04477s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 12:11:28.422 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.422 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.430 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.431 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.432 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.432 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('PAT001',)
2026-02-18 12:11:28.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('PAT001',)
2026-02-18 12:11:28.437 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.437 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.437 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('  ', None, 'PAT001', None)
2026-02-18 12:11:28.438 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('  ', None, 'PAT001', None)
2026-02-18 12:11:28.440 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.440 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.453 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.453 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.494 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.494 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('PAT001',)
2026-02-18 12:11:28.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('PAT001',)
2026-02-18 12:11:28.497 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.497 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.557 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.558 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.126s ago] ('PAT002',)
2026-02-18 12:11:28.558 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.126s ago] ('PAT002',)
2026-02-18 12:11:28.561 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.561 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1249s ago] ('  ', None, 'PAT002', None)
2026-02-18 12:11:28.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1249s ago] ('  ', None, 'PAT002', None)
2026-02-18 12:11:28.566 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.566 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.588 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.588 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09629s ago] ('PAT002',)
2026-02-18 12:11:28.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09629s ago] ('PAT002',)
2026-02-18 12:11:28.592 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.593 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.604 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.604 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.604 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.605 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.605 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1729s ago] ('PAT003',)
2026-02-18 12:11:28.605 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1729s ago] ('PAT003',)
2026-02-18 12:11:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1714s ago] ('  ', None, 'PAT003', None)
2026-02-18 12:11:28.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1714s ago] ('  ', None, 'PAT003', None)
2026-02-18 12:11:28.611 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.611 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.624 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.625 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.626 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.626 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1328s ago] ('PAT003',)
2026-02-18 12:11:28.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1328s ago] ('PAT003',)
2026-02-18 12:11:28.630 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.630 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.639 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.639 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.640 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.640 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2085s ago] ('PAT004',)
2026-02-18 12:11:28.641 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2085s ago] ('PAT004',)
2026-02-18 12:11:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2072s ago] ('  ', None, 'PAT004', None)
2026-02-18 12:11:28.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2072s ago] ('  ', None, 'PAT004', None)
2026-02-18 12:11:28.646 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.647 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.661 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1674s ago] ('PAT004',)
2026-02-18 12:11:28.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1674s ago] ('PAT004',)
2026-02-18 12:11:28.663 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.664 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.673 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.674 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2432s ago] ('PAT005',)
2026-02-18 12:11:28.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2432s ago] ('PAT005',)
2026-02-18 12:11:28.679 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.679 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2426s ago] ('  ', None, 'PAT005', None)
2026-02-18 12:11:28.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2426s ago] ('  ', None, 'PAT005', None)
2026-02-18 12:11:28.682 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.682 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.696 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.696 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2039s ago] ('PAT005',)
2026-02-18 12:11:28.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2039s ago] ('PAT005',)
2026-02-18 12:11:28.699 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.699 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.709 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.709 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.710 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('PAT001',)
2026-02-18 12:11:28.710 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] ('PAT001',)
2026-02-18 12:11:28.715 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.715 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.716 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.720 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 12:11:28.721 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 12:11:28.723 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.723 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.735 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.735 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.737 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.737 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.738 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.738 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.740 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.741 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.750 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.751 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.753 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.754 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.754 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00087s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.754 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00087s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.759 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:28.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:28.764 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.764 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.764 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00060s] ('1.2.840.11111.1.1.1', None, 'T1 axial', 1, '1.2.840.11111.1.1')
2026-02-18 12:11:28.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00060s] ('1.2.840.11111.1.1.1', None, 'T1 axial', 1, '1.2.840.11111.1.1')
2026-02-18 12:11:28.767 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.767 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.778 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.779 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.780 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.780 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.781 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:28.781 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:28.784 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.784 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.791 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.792 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04044s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04044s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:28.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.799 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04011s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:11:28.799 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04011s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:11:28.803 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.804 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04006s ago] ('1.2.840.11111.1.1.2', None, 'T1 axial', 2, '1.2.840.11111.1.1')
2026-02-18 12:11:28.804 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04006s ago] ('1.2.840.11111.1.1.2', None, 'T1 axial', 2, '1.2.840.11111.1.1')
2026-02-18 12:11:28.807 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.807 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.823 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.824 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.825 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.825 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.825 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04539s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:11:28.826 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04539s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 12:11:28.828 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.828 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.837 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.837 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.838 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:28.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1295s ago] ('PAT002',)
2026-02-18 12:11:28.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1295s ago] ('PAT002',)
2026-02-18 12:11:28.842 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.842 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1282s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1282s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.847 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.848 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:28.848 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.128s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 12:11:28.848 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.128s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 12:11:28.851 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.851 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.868 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.868 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1322s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1322s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.872 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.872 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.878 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.879 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.879 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.879 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.880 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1266s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.880 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1266s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.882 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1243s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:28.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1243s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:28.888 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.888 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1246s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 12:11:28.889 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1246s ago] ('1.2.840.11111.2.1.1', None, 'T2 coronal', 1, '1.2.840.11111.2.1')
2026-02-18 12:11:28.891 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.891 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.903 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.904 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.904 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.905 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.905 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1249s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:28.905 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1249s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:28.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.919 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.919 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.920 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.920 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.921 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1678s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.921 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1678s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.925 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1676s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:11:28.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1676s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:11:28.931 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.931 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1678s ago] ('1.2.840.11111.2.1.2', None, 'FLAIR', 2, '1.2.840.11111.2.1')
2026-02-18 12:11:28.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1678s ago] ('1.2.840.11111.2.1.2', None, 'FLAIR', 2, '1.2.840.11111.2.1')
2026-02-18 12:11:28.934 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.934 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.949 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.950 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.950 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.951 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.951 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1711s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:11:28.951 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1711s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 12:11:28.954 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.954 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.962 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.963 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.964 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.964 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:28.964 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2114s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.965 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2114s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:28.970 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.970 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.970 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2119s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:28.971 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2119s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:28.975 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.975 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:28.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2114s ago] ('1.2.840.11111.2.1.3', None, 'FLAIR', 3, '1.2.840.11111.2.1')
2026-02-18 12:11:28.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2114s ago] ('1.2.840.11111.2.1.3', None, 'FLAIR', 3, '1.2.840.11111.2.1')
2026-02-18 12:11:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.978 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.993 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.994 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:28.994 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.995 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:28.995 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2149s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:28.995 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2149s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:28.997 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:28.998 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.005 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.005 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.006 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.006 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2979s ago] ('PAT002',)
2026-02-18 12:11:29.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2979s ago] ('PAT002',)
2026-02-18 12:11:29.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.012 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2977s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.012 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2977s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.017 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.017 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.018 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2977s ago] ('2024-02-20', '1.2.840.11111.2.2', 'PAT002', None)
2026-02-18 12:11:29.018 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2977s ago] ('2024-02-20', '1.2.840.11111.2.2', 'PAT002', None)
2026-02-18 12:11:29.021 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.021 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.032 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.032 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.033 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.033 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2968s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2968s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.036 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.037 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.043 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.043 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2912s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2912s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2888s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 12:11:29.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2888s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 12:11:29.052 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.052 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2889s ago] ('1.2.840.11111.2.2.1', None, 'T2 coronal', 1, '1.2.840.11111.2.2')
2026-02-18 12:11:29.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2889s ago] ('1.2.840.11111.2.2.1', None, 'T2 coronal', 1, '1.2.840.11111.2.2')
2026-02-18 12:11:29.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.057 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.068 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.069 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.070 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2898s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 12:11:29.070 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2898s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 12:11:29.072 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.072 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.080 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.080 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.080 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3279s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3279s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.086 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3271s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.086 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3271s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.090 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.090 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.091 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3266s ago] ('1.2.840.11111.2.2.2', None, 'T2 coronal', 2, '1.2.840.11111.2.2')
2026-02-18 12:11:29.091 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3266s ago] ('1.2.840.11111.2.2.2', None, 'T2 coronal', 2, '1.2.840.11111.2.2')
2026-02-18 12:11:29.093 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.093 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.105 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.105 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.106 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.106 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.107 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3268s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.107 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3268s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.110 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.110 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.119 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.119 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4119s ago] ('PAT003',)
2026-02-18 12:11:29.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4119s ago] ('PAT003',)
2026-02-18 12:11:29.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4102s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4102s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.128 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.129 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.409s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 12:11:29.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.409s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 12:11:29.132 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.132 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.145 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.145 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4093s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4093s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.149 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.150 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.157 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.157 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4053s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.158 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4053s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.162 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.162 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.163 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.404s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:11:29.163 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.404s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:11:29.166 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.166 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.166 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4026s ago] ('1.2.840.11111.3.1.1', None, 'T1 axial', 1, '1.2.840.11111.3.1')
2026-02-18 12:11:29.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4026s ago] ('1.2.840.11111.3.1.1', None, 'T1 axial', 1, '1.2.840.11111.3.1')
2026-02-18 12:11:29.170 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.170 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.182 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.182 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.183 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.183 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.184 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4037s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:11:29.184 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4037s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 12:11:29.187 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.187 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.195 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.195 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.196 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.196 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4433s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4433s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.201 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.201 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.202 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4431s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.202 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4431s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.206 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.206 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.206 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4424s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 12:11:29.206 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4424s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 12:11:29.209 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.210 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.221 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.222 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.222 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.222 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4428s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4428s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.226 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.226 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.232 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.232 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.232 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.232 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.233 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5241s ago] ('PAT003',)
2026-02-18 12:11:29.233 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5241s ago] ('PAT003',)
2026-02-18 12:11:29.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.237 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.522s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.237 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.522s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.240 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.240 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.240 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5203s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 12:11:29.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5203s ago] ('2024-03-20', '1.2.840.11111.3.2', 'PAT003', None)
2026-02-18 12:11:29.243 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.243 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.259 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.259 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.260 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.260 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.261 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5236s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.261 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5236s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.263 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.263 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.270 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.270 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5182s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.271 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5182s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.275 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.275 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.275 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5167s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:11:29.275 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5167s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:11:29.279 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.279 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5154s ago] ('1.2.840.11111.3.2.1', None, 'FLAIR', 1, '1.2.840.11111.3.2')
2026-02-18 12:11:29.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5154s ago] ('1.2.840.11111.3.2.1', None, 'FLAIR', 1, '1.2.840.11111.3.2')
2026-02-18 12:11:29.281 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.282 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.295 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.295 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.296 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.296 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.296 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5165s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:11:29.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5165s ago] ('1.2.840.11111.3.2.1',)
2026-02-18 12:11:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.300 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.309 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.309 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.310 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.310 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.311 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5577s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.311 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5577s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.314 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.314 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.315 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5562s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:29.315 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5562s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:29.318 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.319 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.319 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.555s ago] ('1.2.840.11111.3.2.2', None, 'T1 post-contrast', 2, '1.2.840.11111.3.2')
2026-02-18 12:11:29.319 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.555s ago] ('1.2.840.11111.3.2.2', None, 'T1 post-contrast', 2, '1.2.840.11111.3.2')
2026-02-18 12:11:29.321 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.321 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.334 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.335 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5554s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:29.336 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5554s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:29.338 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.338 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.345 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.346 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.347 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5937s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.347 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5937s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:29.350 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.351 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.351 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5923s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:11:29.351 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5923s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:11:29.355 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.356 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.592s ago] ('1.2.840.11111.3.2.3', None, 'T2 coronal', 3, '1.2.840.11111.3.2')
2026-02-18 12:11:29.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.592s ago] ('1.2.840.11111.3.2.3', None, 'T2 coronal', 3, '1.2.840.11111.3.2')
2026-02-18 12:11:29.358 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.358 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.370 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.370 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.371 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.371 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.371 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5913s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:11:29.371 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5913s ago] ('1.2.840.11111.3.2.3',)
2026-02-18 12:11:29.375 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.375 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.382 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.382 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.383 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.384 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.384 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6752s ago] ('PAT004',)
2026-02-18 12:11:29.384 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6752s ago] ('PAT004',)
2026-02-18 12:11:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6728s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.388 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6728s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.391 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.391 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.392 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6717s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 12:11:29.392 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6717s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 12:11:29.394 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.395 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.407 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.407 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.408 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.408 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.408 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6716s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.409 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6716s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.411 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.411 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.418 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.418 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6663s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.419 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6663s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.422 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.422 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.423 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6641s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:29.423 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6641s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:29.426 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.426 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.426 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6625s ago] ('1.2.840.11111.4.1.1', None, 'T1 axial', 1, '1.2.840.11111.4.1')
2026-02-18 12:11:29.426 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6625s ago] ('1.2.840.11111.4.1.1', None, 'T1 axial', 1, '1.2.840.11111.4.1')
2026-02-18 12:11:29.429 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.429 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.441 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.441 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6623s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:29.442 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6623s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:29.444 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.445 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6988s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6988s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:29.455 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.455 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.456 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6971s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:11:29.456 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6971s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:11:29.459 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.696s ago] ('1.2.840.11111.4.1.2', None, 'T2 coronal', 2, '1.2.840.11111.4.1')
2026-02-18 12:11:29.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.696s ago] ('1.2.840.11111.4.1.2', None, 'T2 coronal', 2, '1.2.840.11111.4.1')
2026-02-18 12:11:29.462 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.462 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.473 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.474 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.474 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.474 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.475 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6947s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:11:29.475 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.6947s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 12:11:29.478 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.478 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.485 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.485 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7776s ago] ('PAT005',)
2026-02-18 12:11:29.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7776s ago] ('PAT005',)
2026-02-18 12:11:29.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7766s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7766s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.495 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.496 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 12:11:29.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7759s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 12:11:29.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7759s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 12:11:29.498 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.499 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.510 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.510 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.511 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.511 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.511 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7745s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.511 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7745s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.514 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.514 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.521 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.521 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7696s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7696s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.526 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.526 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.526 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7679s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:29.527 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7679s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:29.530 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.530 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7662s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 12:11:29.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7662s ago] ('1.2.840.11111.5.1.1', None, 'T2 coronal', 1, '1.2.840.11111.5.1')
2026-02-18 12:11:29.532 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.533 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.545 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.546 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7659s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:29.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.7659s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:29.549 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.549 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8041s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8041s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:29.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.561 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8028s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:11:29.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8028s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:11:29.565 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.565 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 12:11:29.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8018s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 12:11:29.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.8018s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 12:11:29.568 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.569 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.801s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:11:29.581 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.801s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 12:11:29.584 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.584 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.594 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.594 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.597 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.597 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.597 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 12:11:29.597 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 12:11:29.602 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('doctor_review',)
2026-02-18 12:11:29.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('doctor_review',)
2026-02-18 12:11:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.610 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00120s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.606584', None, None)
2026-02-18 12:11:29.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00120s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.606584', None, None)
2026-02-18 12:11:29.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.627 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.628 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] (1,)
2026-02-18 12:11:29.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] (1,)
2026-02-18 12:11:29.635 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.635 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.635 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] (1,)
2026-02-18 12:11:29.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00078s] (1,)
2026-02-18 12:11:29.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.639 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ('doctor_review',)
2026-02-18 12:11:29.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ('doctor_review',)
2026-02-18 12:11:29.645 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('PAT001',)
2026-02-18 12:11:29.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('PAT001',)
2026-02-18 12:11:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.650 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:29.651 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('1.2.840.11111.1.1.1',)
2026-02-18 12:11:29.655 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.655 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00814s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.656 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00814s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02164s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02164s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02742s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02742s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.660 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a97562f10>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a97563120>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a97563270>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87fb7cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a97563270>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a97563120>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03315s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03315s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04102s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04102s ago] ('1.2.840.11111.1.1',)
2026-02-18 12:11:29.676 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a941c0300>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a97562f10>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a975631c0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a97563120>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a97563270>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87fb7cc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87dd10f0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a97563270>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a97563120>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.690 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.690 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1018s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 12:11:29.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1018s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 12:11:29.701 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.701 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0996s ago] ('doctor_review',)
2026-02-18 12:11:29.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0996s ago] ('doctor_review',)
2026-02-18 12:11:29.705 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.706 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.706 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0964s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.704959', None, None)
2026-02-18 12:11:29.706 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0964s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.704959', None, None)
2026-02-18 12:11:29.709 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.709 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.722 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.722 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.724 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09395s ago] (2,)
2026-02-18 12:11:29.724 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09395s ago] (2,)
2026-02-18 12:11:29.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.730 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09503s ago] (2,)
2026-02-18 12:11:29.730 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09503s ago] (2,)
2026-02-18 12:11:29.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09545s ago] ('doctor_review',)
2026-02-18 12:11:29.735 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09545s ago] ('doctor_review',)
2026-02-18 12:11:29.738 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.739 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09359s ago] ('PAT002',)
2026-02-18 12:11:29.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09359s ago] ('PAT002',)
2026-02-18 12:11:29.740 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.740 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.740 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09277s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.740 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09277s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.742 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.742 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.742 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0918s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:29.742 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0918s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 12:11:29.744 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.744 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.744 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09664s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.744 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09664s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.752 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.753 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.753 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1053s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.753 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1053s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.112s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.112s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.747 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87b6a780>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87b6aa40>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87b6ab90>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6ae50>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87b6ab90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87b6aa40>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1178s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1178s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1247s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1247s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.761 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87b6a610>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87b6a780>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6a980>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87b6aa40>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87b6ab90>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87b6ae50>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87d8ec10>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87b6ab90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87b6aa40>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.774 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.774 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.782 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.782 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.783 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1868s ago] ('doctor_review', '1.2.840.11111.2.1.3', '1.2.840.11111.2.1')
2026-02-18 12:11:29.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1868s ago] ('doctor_review', '1.2.840.11111.2.1.3', '1.2.840.11111.2.1')
2026-02-18 12:11:29.786 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.786 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1845s ago] ('doctor_review',)
2026-02-18 12:11:29.787 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1845s ago] ('doctor_review',)
2026-02-18 12:11:29.790 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.791 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1814s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.789745', None, None)
2026-02-18 12:11:29.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1814s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.789745', None, None)
2026-02-18 12:11:29.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.794 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.805 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.805 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.806 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1766s ago] (3,)
2026-02-18 12:11:29.806 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1766s ago] (3,)
2026-02-18 12:11:29.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.811 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.176s ago] (3,)
2026-02-18 12:11:29.811 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.176s ago] (3,)
2026-02-18 12:11:29.814 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.814 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1751s ago] ('doctor_review',)
2026-02-18 12:11:29.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1751s ago] ('doctor_review',)
2026-02-18 12:11:29.817 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.818 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.818 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1725s ago] ('PAT002',)
2026-02-18 12:11:29.818 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1725s ago] ('PAT002',)
2026-02-18 12:11:29.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.819 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1717s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.819 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1717s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1703s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:29.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1703s ago] ('1.2.840.11111.2.1.3',)
2026-02-18 12:11:29.822 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.822 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.175s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.175s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.831 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.831 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.831 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1833s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.831 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1833s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.837 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.837 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.837 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1897s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.837 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1897s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.826 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87aed0d0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87aed390>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87aed4e0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed7a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87aed4e0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87aed390>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1955s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.843 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1955s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2018s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2018s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:29.838 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aecf60>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87aed0d0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed2d0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87aed390>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87aed4e0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aed7a0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87aa4130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87aed4e0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87aed390>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.852 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.852 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.857 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.857 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.858 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.858 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.859 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2623s ago] ('doctor_review', '1.2.840.11111.2.2.2', '1.2.840.11111.2.2')
2026-02-18 12:11:29.859 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2623s ago] ('doctor_review', '1.2.840.11111.2.2.2', '1.2.840.11111.2.2')
2026-02-18 12:11:29.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.862 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2598s ago] ('doctor_review',)
2026-02-18 12:11:29.862 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2598s ago] ('doctor_review',)
2026-02-18 12:11:29.866 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.866 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2567s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.865182', None, None)
2026-02-18 12:11:29.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2567s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.865182', None, None)
2026-02-18 12:11:29.869 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.869 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.881 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.882 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.882 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.882 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2529s ago] (4,)
2026-02-18 12:11:29.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2529s ago] (4,)
2026-02-18 12:11:29.886 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.886 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.886 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2517s ago] (4,)
2026-02-18 12:11:29.887 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2517s ago] (4,)
2026-02-18 12:11:29.890 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.890 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2518s ago] ('doctor_review',)
2026-02-18 12:11:29.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2518s ago] ('doctor_review',)
2026-02-18 12:11:29.894 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.894 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.895 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2494s ago] ('PAT002',)
2026-02-18 12:11:29.895 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2494s ago] ('PAT002',)
2026-02-18 12:11:29.896 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.896 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.896 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2489s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.897 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2489s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2482s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.899 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2482s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 12:11:29.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.901 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2539s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.902 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2539s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.910 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.910 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.910 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2627s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.910 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2627s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.915 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.915 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.916 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2681s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.916 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2681s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.905 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87aef330>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87aefc20>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87aefd70>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f40f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87aefd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87aefc20>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.921 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.922 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.922 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2743s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.922 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2743s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2796s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2796s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:29.917 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a87aef7f0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a87aef330>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a87aefb60>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a87aefc20>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a87aefd70>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f40f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879174d0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a87aefd70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a87aefc20>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.929 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.929 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:29.936 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.936 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.937 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:29.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3405s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 12:11:29.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3405s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 12:11:29.940 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.940 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.338s ago] ('doctor_review',)
2026-02-18 12:11:29.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.338s ago] ('doctor_review',)
2026-02-18 12:11:29.945 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.945 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:29.945 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3359s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.943788', None, None)
2026-02-18 12:11:29.945 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3359s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:29.943788', None, None)
2026-02-18 12:11:29.948 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.948 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:29.961 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.961 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:29.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3323s ago] (5,)
2026-02-18 12:11:29.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3323s ago] (5,)
2026-02-18 12:11:29.965 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.965 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:29.965 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3308s ago] (5,)
2026-02-18 12:11:29.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3308s ago] (5,)
2026-02-18 12:11:29.968 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.968 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:29.969 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3297s ago] ('doctor_review',)
2026-02-18 12:11:29.969 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3297s ago] ('doctor_review',)
2026-02-18 12:11:29.972 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.973 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:29.973 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3277s ago] ('PAT003',)
2026-02-18 12:11:29.973 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3277s ago] ('PAT003',)
2026-02-18 12:11:29.974 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.974 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3269s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3269s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.975 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.976 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:29.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3257s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3257s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 12:11:29.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.978 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3306s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.978 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3306s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.339s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.339s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.992 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.992 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3444s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3444s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.981 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a879f62b0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a879f6570>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a879f66c0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f6980>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a879f66c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a879f6570>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:29.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:29.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3501s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3501s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:30.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.004 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3562s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:30.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3562s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:29.993 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a879f6140>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a879f62b0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f64b0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a879f6570>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a879f66c0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a879f6980>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a879c6a50>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a879f66c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a879f6570>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.005 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.005 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4176s ago] ('doctor_review', '1.2.840.11111.3.2.2', '1.2.840.11111.3.2')
2026-02-18 12:11:30.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4176s ago] ('doctor_review', '1.2.840.11111.3.2.2', '1.2.840.11111.3.2')
2026-02-18 12:11:30.017 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.017 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.017 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4153s ago] ('doctor_review',)
2026-02-18 12:11:30.018 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4153s ago] ('doctor_review',)
2026-02-18 12:11:30.021 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.021 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4123s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.020817', None, None)
2026-02-18 12:11:30.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4123s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.2', '1.2.840.11111.3.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.020817', None, None)
2026-02-18 12:11:30.024 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.025 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.037 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.037 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.038 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.038 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4082s ago] (6,)
2026-02-18 12:11:30.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4082s ago] (6,)
2026-02-18 12:11:30.041 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.041 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4065s ago] (6,)
2026-02-18 12:11:30.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4065s ago] (6,)
2026-02-18 12:11:30.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4047s ago] ('doctor_review',)
2026-02-18 12:11:30.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4047s ago] ('doctor_review',)
2026-02-18 12:11:30.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4009s ago] ('PAT003',)
2026-02-18 12:11:30.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4009s ago] ('PAT003',)
2026-02-18 12:11:30.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3999s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3999s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.048 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3986s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:30.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3986s ago] ('1.2.840.11111.3.2.2',)
2026-02-18 12:11:30.051 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.052 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4045s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4045s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4129s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.061 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4129s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.066 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.067 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.067 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4194s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.067 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4194s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.055 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a878ecd60>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a878ed020>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a878ed170>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ed430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a878ed170>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a878ed020>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.072 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.073 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4252s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4252s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.079 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4314s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.079 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4314s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.068 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ecbf0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a878ecd60>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ecf60>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a878ed020>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a878ed170>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ed430>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a878720b0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a878ed170>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a878ed020>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.081 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.081 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.085 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.086 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.086 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.086 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4903s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 12:11:30.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4903s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 12:11:30.089 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.090 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4877s ago] ('doctor_review',)
2026-02-18 12:11:30.090 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4877s ago] ('doctor_review',)
2026-02-18 12:11:30.094 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.094 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.094 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4847s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.092898', None, None)
2026-02-18 12:11:30.094 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4847s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.092898', None, None)
2026-02-18 12:11:30.096 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.096 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.109 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.109 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4805s ago] (7,)
2026-02-18 12:11:30.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4805s ago] (7,)
2026-02-18 12:11:30.113 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.113 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.113 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4788s ago] (7,)
2026-02-18 12:11:30.114 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4788s ago] (7,)
2026-02-18 12:11:30.115 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.116 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.116 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.477s ago] ('doctor_review',)
2026-02-18 12:11:30.116 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.477s ago] ('doctor_review',)
2026-02-18 12:11:30.119 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.119 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.119 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4741s ago] ('PAT004',)
2026-02-18 12:11:30.119 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4741s ago] ('PAT004',)
2026-02-18 12:11:30.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4731s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4731s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.122 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.122 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4716s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:30.122 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4716s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 12:11:30.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.476s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.476s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.133 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.133 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.133 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4859s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4859s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.139 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.140 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.140 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4923s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.140 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4923s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.127 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a878eefc0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a878ef8b0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a878efa00>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878efcc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a878efa00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a878ef8b0>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.146 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.147 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4993s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4993s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.153 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5061s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5061s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.142 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a878ef480>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a878eefc0>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878ef7f0>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a878ef8b0>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a878efa00>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a878efcc0>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87725630>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a878efa00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a878ef8b0>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.155 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.155 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.160 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.160 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 12:11:30.161 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.565s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 12:11:30.162 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.565s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 12:11:30.164 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.164 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.164 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5623s ago] ('doctor_review',)
2026-02-18 12:11:30.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5623s ago] ('doctor_review',)
2026-02-18 12:11:30.170 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.170 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 12:11:30.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5608s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.168501', None, None)
2026-02-18 12:11:30.170 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5608s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 09:11:30.168501', None, None)
2026-02-18 12:11:30.173 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.173 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:11:30.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5565s ago] (8,)
2026-02-18 12:11:30.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5565s ago] (8,)
2026-02-18 12:11:30.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.id 
FROM record 
WHERE record.id = ?
2026-02-18 12:11:30.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5551s ago] (8,)
2026-02-18 12:11:30.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5551s ago] (8,)
2026-02-18 12:11:30.192 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.192 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 12:11:30.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5537s ago] ('doctor_review',)
2026-02-18 12:11:30.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5537s ago] ('doctor_review',)
2026-02-18 12:11:30.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.196 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 12:11:30.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5507s ago] ('PAT005',)
2026-02-18 12:11:30.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5507s ago] ('PAT005',)
2026-02-18 12:11:30.197 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.197 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5497s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5497s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 12:11:30.199 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5484s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:30.199 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5484s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 12:11:30.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.200 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5529s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.201 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5529s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5614s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.209 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5614s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.215 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.215 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.215 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5677s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.215 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5677s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.203 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a877ddf40>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a877de200>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a877de350>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a877de350>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a877de200>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.222 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.574s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.222 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.574s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.227 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.227 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 12:11:30.228 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5801s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.228 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5801s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.216 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a877dddd0>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a877ddf40>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a9814a6c0>
           APIRoute(path='/api/records/', name='add_record', methods=['POST'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de140>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a877de200>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a877de350>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a877de610>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a877ccbb0>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a877de350>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a877de200>
                      <function get_request_handler.<locals>.app at 0x7d9a9814a610>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: <exception str() failed>
2026-02-18 12:11:30.229 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.230 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.234 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.234 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:11:30.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:11:30.236 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 12:11:30.236 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] (100, 0)
2026-02-18 12:11:30.236 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00056s] (100, 0)
2026-02-18 12:11:30.240 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:11:30.241 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 12:11:30.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:11:30.241 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 12:11:30.247 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.247 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.247 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:30.247 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00054s] ('1.2.840.11111.1.1',)
2026-02-18 12:11:30.248 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.249 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.249 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002154s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:30.249 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002154s ago] ('1.2.840.11111.2.1',)
2026-02-18 12:11:30.250 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.250 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.250 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003762s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:30.251 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003762s ago] ('1.2.840.11111.2.2',)
2026-02-18 12:11:30.252 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.252 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.252 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005396s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:30.252 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005396s ago] ('1.2.840.11111.3.1',)
2026-02-18 12:11:30.253 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.253 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007073s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007073s ago] ('1.2.840.11111.3.2',)
2026-02-18 12:11:30.255 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.255 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.255 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008531s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.255 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008531s ago] ('1.2.840.11111.4.1',)
2026-02-18 12:11:30.256 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.256 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE ? = series.study_uid
2026-02-18 12:11:30.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009928s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009928s ago] ('1.2.840.11111.5.1',)
2026-02-18 12:11:30.262 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a876e8890>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a98184f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a876e8b50>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a876e8ca0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8f60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a876e8ca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a876e8b50>
                      <function get_request_handler.<locals>.app at 0x7d9a98184e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.2', patient_id='PAT002', date=datetime.date(2024, 2, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:11:30.270 |                   ERROR    |                   src.utils.logger:emit:40 -                   Exception in ASGI application

Traceback (most recent call last):

  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
            <Command main>
     <module 'uvicorn' from '/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/__init__.py'>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
                            {}
                     ()
                <function Command.main at 0x7d9a9c451f30>
            <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
                    <click.core.Context object at 0x7d9a9c317cb0>
              <function Command.invoke at 0x7d9a9c4519b0>
          <Command main>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
                                       {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                                    <click.core.Context object at 0x7d9a9c317cb0>
                         <function main at 0x7d9a9c2290c0>
                     <Command main>
               <function Context.invoke at 0x7d9a9c44fab0>
            <click.core.Context object at 0x7d9a9c317cb0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
                            {'host': '127.0.0.1', 'port': 8000, 'app': 'src.api.app:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'r...
                     ()
            <function main at 0x7d9a9c2290c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 413, in main
    run(
     <function run at 0x7d9a9c21a2a0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/main.py", line 580, in run
    server.run()
           <function Server.run at 0x7d9a9c33ea30>
     <uvicorn.server.Server object at 0x7d9a9c230590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
                                       None
                          <function Server.serve at 0x7d9a9c33eb90>
                      <uvicorn.server.Server object at 0x7d9a9c230590>
                   <function run at 0x7d9a9c7ed010>
            <module 'asyncio' from '/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/__init__.py'>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7d9a9c35fc40>
                  <function Runner.run at 0x7d9a9c7ed430>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task pending name='Task-1' coro=<Server.serve() running at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/u...
                     <function BaseEventLoop.run_until_complete at 0x7d9a9c7dd850>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7d9a9c230830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7d9a9c7dd7a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7d9a9c7df8a0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7d9a9c75bcc0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
> File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                    <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                                       <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                         {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                      <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
                  <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7d9a9818e3c0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                                          <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                  <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                            {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
           <fastapi.applications.FastAPI object at 0x7d9a982d8d70>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
           <starlette.middleware.errors.ServerErrorMiddleware object at 0x7d9a9818ef90>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
                                <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <starlette.middleware.cors.CORSMiddleware object at 0x7d9a9818ee40>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
                                                                  <function ServerErrorMiddleware.__call__.<locals>._send at 0x7d9a876e8720>
                                                          <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                                    {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                               <starlette.requests.Request object at 0x7d9a876e8890>
                                           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
                                       <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7d9a9818ecf0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
                                             <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                                     <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                               {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <bound method Router.app of <fastapi.routing.APIRouter object at 0x7d9a983f5a50>>
           <fastapi.routing.APIRouter object at 0x7d9a983f5a50>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
                                    <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                            <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                      {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                <function Route.handle at 0x7d9a9b220880>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
                                <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                        <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                  {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
               <function request_response.<locals>.app at 0x7d9a98184f60>
           APIRoute(path='/api/patients', name='get_all_patients', methods=['GET'])
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
                                                                 <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8a90>
                                                         <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
                                                   {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                                           <starlette.requests.Request object at 0x7d9a876e8b50>
                                       <function request_response.<locals>.app.<locals>.app at 0x7d9a876e8ca0>
           <function wrap_app_handling_exceptions at 0x7d9a9b1f5b10>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
                            <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7d9a876e8f60>
                    <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x7d9a87678130>>
              {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
           <function request_response.<locals>.app.<locals>.app at 0x7d9a876e8ca0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                       <starlette.requests.Request object at 0x7d9a876e8b50>
                      <function get_request_handler.<locals>.app at 0x7d9a98184e00>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
                     <function serialize_response at 0x7d9a9b224bf0>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
           <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 0, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.1.1', patient_id='PAT001', date=datetime.date(2024, 1, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.1', patient_id='PAT002', date=datetime.date(2024, 2, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 1, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.2.2', patient_id='PAT002', date=datetime.date(2024, 2, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.1', patient_id='PAT003', date=datetime.date(2024, 3, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 2, 'studies', 1, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.3.2', patient_id='PAT003', date=datetime.date(2024, 3, 20), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 3, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.4.1', patient_id='PAT004', date=datetime.date(2024, 4, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 4, 'studies', 0, 'series'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': Study(study_uid='1.2.840.11111.5.1', patient_id='PAT005', date=datetime.date(2024, 5, 10), anon_uid=None), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-02-18 12:11:30.280 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:11:30.281 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 12:14:18.069 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:14:18.069 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 12:14:18.070 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:14:18.070 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 12:14:18.070 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 170.3s ago] ('admin@clarinet.ru',)
2026-02-18 12:14:18.071 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 170.3s ago] ('admin@clarinet.ru',)
2026-02-18 12:14:18.176 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:14:18.176 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 12:14:18.177 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 169.9s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:14:18.175943')
2026-02-18 12:14:18.177 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 169.9s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:14:18.175943')
2026-02-18 12:14:18.180 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:14:18.180 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 12:14:18.180 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 169.8s ago] ('635d4df6-a0e8-4316-8001-6f856e7fd8f0', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:14:18.179560', '2026-02-19 09:14:18.179325', '2026-02-18 09:14:18.179585', 'curl/8.5.0', '127.0.0.1')
2026-02-18 12:14:18.180 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 169.8s ago] ('635d4df6-a0e8-4316-8001-6f856e7fd8f0', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 09:14:18.179560', '2026-02-19 09:14:18.179325', '2026-02-18 09:14:18.179585', 'curl/8.5.0', '127.0.0.1')
2026-02-18 12:14:18.182 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:14:18.182 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 12:14:18.198 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b
2026-02-18 12:14:18.198 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b logged in.
2026-02-18 12:15:38.031 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:15:38.031 |                   INFO     |                   src.utils.logger:emit:40 -                   Shutting down
2026-02-18 12:15:38.132 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:15:38.132 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 12:15:38.132 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-18 12:15:38.133 |                   INFO     |                   src.api.app:lifespan:106 -                   Session cleanup service stopped
2026-02-18 12:15:38.133 |                   INFO     |                   src.api.app:lifespan:112 -                   RecordFlow client closed
2026-02-18 12:15:38.134 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-18 12:15:38.134 |                   INFO     |                   src.api.app:lifespan:118 -                   Application shutdown
2026-02-18 12:15:38.135 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:15:38.135 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 12:15:38.135 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [290721]
2026-02-18 12:15:38.135 |                   INFO     |                   src.utils.logger:emit:40 -                   Finished server process [290721]
2026-02-18 15:55:44.028 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [431343]
2026-02-18 15:55:44.029 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [431343]
2026-02-18 15:55:44.029 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 15:55:44.029 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 15:55:44.030 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 15:55:44.038 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.041 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.042 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 15:55:44.042 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 15:55:44.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.043 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 15:55:44.043 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 15:55:44.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 15:55:44.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.045 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 15:55:44.045 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 15:55:44.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.046 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 15:55:44.046 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 15:55:44.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.047 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 15:55:44.047 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 15:55:44.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.048 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 15:55:44.048 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 15:55:44.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.048 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 15:55:44.049 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.049 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.050 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 15:55:44.050 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 15:55:44.051 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.051 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 15:55:44.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 15:55:44.081 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-18 15:55:44.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.082 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002325s ago] ('auto',)
2026-02-18 15:55:44.082 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002325s ago] ('auto',)
2026-02-18 15:55:44.082 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-18 15:55:44.083 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.083 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.083 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003652s ago] ('admin',)
2026-02-18 15:55:44.083 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003652s ago] ('admin',)
2026-02-18 15:55:44.084 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-18 15:55:44.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004889s ago] ('expert',)
2026-02-18 15:55:44.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004889s ago] ('expert',)
2026-02-18 15:55:44.085 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-18 15:55:44.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.085 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 15:55:44.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006095s ago] ('ordinator',)
2026-02-18 15:55:44.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006095s ago] ('ordinator',)
2026-02-18 15:55:44.086 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-18 15:55:44.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.087 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 15:55:44.087 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 15:55:44.091 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.091 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.093 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.093 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.093 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('expert_check',)
2026-02-18 15:55:44.093 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('expert_check',)
2026-02-18 15:55:44.094 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-18 15:55:44.095 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.095 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.096 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.096 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.097 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.097 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.097 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003925s ago] ('ai_analysis',)
2026-02-18 15:55:44.097 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003925s ago] ('ai_analysis',)
2026-02-18 15:55:44.097 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-18 15:55:44.098 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.098 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.099 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.099 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 15:55:44.100 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006919s ago] ('doctor_review',)
2026-02-18 15:55:44.100 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006919s ago] ('doctor_review',)
2026-02-18 15:55:44.100 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-18 15:55:44.101 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.101 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.101 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.101 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.102 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 15:55:44.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 15:55:44.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ()
2026-02-18 15:55:44.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ()
2026-02-18 15:55:44.104 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.104 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 15:55:44.128 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-18 15:55:44.128 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-18 15:55:44.128 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-18 15:55:44.128 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-18 15:55:44.129 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-18 15:55:44.129 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-18 15:55:44.129 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 15:55:44.129 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 15:55:44.129 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 15:55:44.129 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 15:55:44.129 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.130 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('2026-02-18 12:55:44.129679',)
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('2026-02-18 12:55:44.129679',)
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 15:55:44.132 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 15:55:44.133 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 15:55:44.133 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 15:55:44.134 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 15:55:44.134 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 15:59:18.383 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:59:18.383 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 15:59:18.384 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 15:59:18.384 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 15:59:18.385 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('admin@clarine.ru',)
2026-02-18 15:59:18.385 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('admin@clarine.ru',)
2026-02-18 15:59:18.452 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 15:59:18.453 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.397 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.397 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.398 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:08:56.398 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:08:56.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 578s ago] ('admin@clarinet.ru',)
2026-02-18 16:08:56.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 578s ago] ('admin@clarinet.ru',)
2026-02-18 16:08:56.465 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.465 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.466 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 13:08:56.460805')
2026-02-18 16:08:56.466 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00048s] ('fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 13:08:56.460805')
2026-02-18 16:08:56.477 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.477 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.477 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('62e2443f-913d-452b-8f92-2425b57506cb', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 13:08:56.475409', '2026-02-19 13:08:56.475238', '2026-02-18 13:08:56.475428', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:08:56.477 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('62e2443f-913d-452b-8f92-2425b57506cb', 'fddd9e5df3bf4e4bbd518281cc7f525b', '2026-02-18 13:08:56.475409', '2026-02-19 13:08:56.475238', '2026-02-18 13:08:56.475428', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:08:56.478 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.478 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.490 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b
2026-02-18 16:08:56.490 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User fddd9e5d-f3bf-4e4b-bd51-8281cc7f525b logged in.
2026-02-18 16:08:56.494 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.494 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('62e2443f-913d-452b-8f92-2425b57506cb', '2026-02-18 13:08:56.494563')
2026-02-18 16:08:56.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('62e2443f-913d-452b-8f92-2425b57506cb', '2026-02-18 13:08:56.494563')
2026-02-18 16:08:56.499 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:08:56.499 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:08:56.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('2026-02-18 13:08:56.497768', '62e2443f-913d-452b-8f92-2425b57506cb')
2026-02-18 16:08:56.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('2026-02-18 13:08:56.497768', '62e2443f-913d-452b-8f92-2425b57506cb')
2026-02-18 16:08:56.500 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.500 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.513 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.513 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.514 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:08:56.514 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:08:56.514 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 16:08:56.514 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 16:08:56.519 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.520 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03288s ago] ('62e2443f-913d-452b-8f92-2425b57506cb', '2026-02-18 13:08:56.527981')
2026-02-18 16:08:56.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03288s ago] ('62e2443f-913d-452b-8f92-2425b57506cb', '2026-02-18 13:08:56.527981')
2026-02-18 16:08:56.529 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:08:56.529 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:08:56.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03074s ago] ('2026-02-18 13:08:56.529587', '62e2443f-913d-452b-8f92-2425b57506cb')
2026-02-18 16:08:56.530 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03074s ago] ('2026-02-18 13:08:56.529587', '62e2443f-913d-452b-8f92-2425b57506cb')
2026-02-18 16:08:56.530 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.530 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.543 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.543 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.543 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:08:56.543 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:08:56.543 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02956s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 16:08:56.544 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02956s ago] ('fddd9e5df3bf4e4bbd518281cc7f525b',)
2026-02-18 16:08:56.545 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.545 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.549 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.549 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.550 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.550 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('PAT001',)
2026-02-18 16:08:56.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('PAT001',)
2026-02-18 16:08:56.551 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.552 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.555 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.555 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.556 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.556 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.556 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005995s ago] ('PAT002',)
2026-02-18 16:08:56.556 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005995s ago] ('PAT002',)
2026-02-18 16:08:56.558 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.558 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.561 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.564 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01425s ago] ('PAT003',)
2026-02-18 16:08:56.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01425s ago] ('PAT003',)
2026-02-18 16:08:56.565 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.566 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0182s ago] ('PAT004',)
2026-02-18 16:08:56.568 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0182s ago] ('PAT004',)
2026-02-18 16:08:56.569 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.569 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.571 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.572 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.572 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.572 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:08:56.572 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02225s ago] ('PAT005',)
2026-02-18 16:08:56.572 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02225s ago] ('PAT005',)
2026-02-18 16:08:56.574 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.574 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:08:56.577 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.577 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.579 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] (100, 0)
2026-02-18 16:08:56.579 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] (100, 0)
2026-02-18 16:08:56.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:08:56.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:08:56.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00042s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:08:56.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00042s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:08:56.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.3.2', '1.2.840.11111.4.1', '1.2.840.11111.5.1')
2026-02-18 16:08:56.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.3.2', '1.2.840.11111.4.1', '1.2.840.11111.5.1')
2026-02-18 16:08:56.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.595 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.595 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.596 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.596 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] (100, 0)
2026-02-18 16:08:56.597 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] (100, 0)
2026-02-18 16:08:56.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:08:56.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.3.2', '1.2.840.11111.4.1', '1.2.840.11111.5.1')
2026-02-18 16:08:56.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.3.2', '1.2.840.11111.4.1', '1.2.840.11111.5.1')
2026-02-18 16:08:56.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:08:56.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:08:56.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:08:56.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:08:56.604 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.604 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.608 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.608 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:08:56.609 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.609 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series
 LIMIT ? OFFSET ?
2026-02-18 16:08:56.609 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] (100, 0)
2026-02-18 16:08:56.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] (100, 0)
2026-02-18 16:08:56.617 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:08:56.617 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.757 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [439942]
2026-02-18 16:09:46.758 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [439942]
2026-02-18 16:09:46.758 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:09:46.758 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:09:46.758 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 16:09:46.766 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 16:09:46.768 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.769 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.769 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:09:46.769 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:09:46.769 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.769 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 16:09:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("access_token")
2026-02-18 16:09:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.771 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:09:46.771 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:09:46.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.772 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 16:09:46.772 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("patient")
2026-02-18 16:09:46.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.772 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.773 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:09:46.773 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:09:46.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.774 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 16:09:46.774 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("study")
2026-02-18 16:09:46.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.775 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:09:46.775 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:09:46.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("series")
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:09:46.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.777 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 16:09:46.777 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userroleslink")
2026-02-18 16:09:46.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.777 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 16:09:46.778 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("user")
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.779 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.780 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 16:09:46.780 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("userrole")
2026-02-18 16:09:46.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("recordtype")
2026-02-18 16:09:46.781 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:09:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:09:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.783 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 16:09:46.783 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA temp.table_info("record")
2026-02-18 16:09:46.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:09:46.784 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 16:09:46.784 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE patient (
	name VARCHAR(64) NOT NULL, 
	anon_name VARCHAR(50), 
	id VARCHAR(64) NOT NULL, 
	auto_id INTEGER, 
	PRIMARY KEY (id), 
	UNIQUE (anon_name), 
	UNIQUE (auto_id)
)


2026-02-18 16:09:46.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00020s] ()
2026-02-18 16:09:46.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00020s] ()
2026-02-18 16:09:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 16:09:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE user (
	email VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	id UUID NOT NULL, 
	PRIMARY KEY (id)
)


2026-02-18 16:09:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00030s] ()
2026-02-18 16:09:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00030s] ()
2026-02-18 16:09:46.815 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 16:09:46.816 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE UNIQUE INDEX ix_user_email ON user (email)
2026-02-18 16:09:46.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00057s] ()
2026-02-18 16:09:46.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00057s] ()
2026-02-18 16:09:46.826 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 16:09:46.827 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userrole (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
)


2026-02-18 16:09:46.827 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00035s] ()
2026-02-18 16:09:46.827 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00035s] ()
2026-02-18 16:09:46.839 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 16:09:46.839 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE access_token (
	token VARCHAR NOT NULL, 
	user_id UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	last_accessed DATETIME NOT NULL, 
	user_agent VARCHAR(512), 
	ip_address VARCHAR(45), 
	PRIMARY KEY (token), 
	FOREIGN KEY(user_id) REFERENCES user (id) ON DELETE CASCADE
)


2026-02-18 16:09:46.840 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00028s] ()
2026-02-18 16:09:46.840 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00028s] ()
2026-02-18 16:09:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 16:09:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_expires_at ON access_token (expires_at)
2026-02-18 16:09:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00040s] ()
2026-02-18 16:09:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00040s] ()
2026-02-18 16:09:46.865 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 16:09:46.866 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_token ON access_token (token)
2026-02-18 16:09:46.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00037s] ()
2026-02-18 16:09:46.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00037s] ()
2026-02-18 16:09:46.876 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 16:09:46.876 |                   INFO     |                   src.utils.logger:emit:40 -                   CREATE INDEX ix_access_token_user_id ON access_token (user_id)
2026-02-18 16:09:46.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00047s] ()
2026-02-18 16:09:46.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00047s] ()
2026-02-18 16:09:46.890 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 16:09:46.890 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE study (
	date DATE NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	PRIMARY KEY (study_uid), 
	FOREIGN KEY(patient_id) REFERENCES patient (id)
)


2026-02-18 16:09:46.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00075s] ()
2026-02-18 16:09:46.891 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00075s] ()
2026-02-18 16:09:46.901 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 16:09:46.901 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE userroleslink (
	user_id UUID NOT NULL, 
	role_name VARCHAR NOT NULL, 
	PRIMARY KEY (user_id, role_name), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 16:09:46.901 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00033s] ()
2026-02-18 16:09:46.902 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00033s] ()
2026-02-18 16:09:46.915 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 16:09:46.915 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE recordtype (
	description VARCHAR, 
	label VARCHAR, 
	slicer_script VARCHAR, 
	slicer_result_validator VARCHAR, 
	name VARCHAR(30) NOT NULL, 
	slicer_script_args JSON, 
	slicer_result_validator_args JSON, 
	max_users INTEGER, 
	min_users INTEGER, 
	level VARCHAR(7) NOT NULL, 
	input_files JSON, 
	output_files JSON, 
	role_name VARCHAR, 
	data_schema JSON, 
	PRIMARY KEY (name), 
	FOREIGN KEY(role_name) REFERENCES userrole (name)
)


2026-02-18 16:09:46.915 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00033s] ()
2026-02-18 16:09:46.915 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00033s] ()
2026-02-18 16:09:46.925 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 16:09:46.925 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE series (
	series_uid VARCHAR NOT NULL, 
	anon_uid VARCHAR, 
	series_description VARCHAR, 
	series_number INTEGER NOT NULL, 
	study_uid VARCHAR NOT NULL, 
	PRIMARY KEY (series_uid), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid)
)


2026-02-18 16:09:46.925 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00046s] ()
2026-02-18 16:09:46.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00046s] ()
2026-02-18 16:09:46.940 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 16:09:46.940 |                   INFO     |                   src.utils.logger:emit:40 -                   
CREATE TABLE record (
	context_info VARCHAR(3000), 
	status VARCHAR(8) NOT NULL, 
	id INTEGER NOT NULL, 
	patient_id VARCHAR NOT NULL, 
	study_uid VARCHAR, 
	series_uid VARCHAR, 
	record_type_name VARCHAR NOT NULL, 
	user_id UUID, 
	study_anon_uid VARCHAR, 
	series_anon_uid VARCHAR, 
	clarinet_storage_path VARCHAR, 
	files JSON, 
	data JSON, 
	created_at DATETIME, 
	changed_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	started_at DATETIME, 
	finished_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(patient_id) REFERENCES patient (id), 
	FOREIGN KEY(study_uid) REFERENCES study (study_uid), 
	FOREIGN KEY(series_uid) REFERENCES series (series_uid), 
	FOREIGN KEY(record_type_name) REFERENCES recordtype (name), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2026-02-18 16:09:46.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00041s] ()
2026-02-18 16:09:46.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [no key 0.00041s] ()
2026-02-18 16:09:46.951 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.951 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.951 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 16:09:46.952 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 16:09:46.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.953 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.976 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.976 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('doctor',)
2026-02-18 16:09:46.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('doctor',)
2026-02-18 16:09:46.979 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:46.979 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:46.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('doctor',)
2026-02-18 16:09:46.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('doctor',)
2026-02-18 16:09:46.980 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.980 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.993 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.993 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:46.995 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.995 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.995 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('doctor',)
2026-02-18 16:09:46.995 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('doctor',)
2026-02-18 16:09:46.996 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: doctor
2026-02-18 16:09:46.996 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.996 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:46.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02111s ago] ('auto',)
2026-02-18 16:09:46.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02111s ago] ('auto',)
2026-02-18 16:09:46.998 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:46.998 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:46.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01909s ago] ('auto',)
2026-02-18 16:09:46.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01909s ago] ('auto',)
2026-02-18 16:09:46.999 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:46.999 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.011 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.011 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.012 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01695s ago] ('auto',)
2026-02-18 16:09:47.012 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01695s ago] ('auto',)
2026-02-18 16:09:47.013 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: auto
2026-02-18 16:09:47.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03783s ago] ('admin',)
2026-02-18 16:09:47.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03783s ago] ('admin',)
2026-02-18 16:09:47.014 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.014 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03583s ago] ('admin',)
2026-02-18 16:09:47.015 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03583s ago] ('admin',)
2026-02-18 16:09:47.015 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.015 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.026 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.026 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.027 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.027 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03222s ago] ('admin',)
2026-02-18 16:09:47.027 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03222s ago] ('admin',)
2026-02-18 16:09:47.028 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: admin
2026-02-18 16:09:47.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.029 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05337s ago] ('expert',)
2026-02-18 16:09:47.029 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05337s ago] ('expert',)
2026-02-18 16:09:47.030 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.031 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.031 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05202s ago] ('expert',)
2026-02-18 16:09:47.031 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05202s ago] ('expert',)
2026-02-18 16:09:47.032 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.032 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.041 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.041 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04705s ago] ('expert',)
2026-02-18 16:09:47.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04705s ago] ('expert',)
2026-02-18 16:09:47.043 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: expert
2026-02-18 16:09:47.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.044 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06827s ago] ('ordinator',)
2026-02-18 16:09:47.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06827s ago] ('ordinator',)
2026-02-18 16:09:47.046 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.046 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userrole (name) VALUES (?)
2026-02-18 16:09:47.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06712s ago] ('ordinator',)
2026-02-18 16:09:47.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06712s ago] ('ordinator',)
2026-02-18 16:09:47.047 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.047 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.061 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.061 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.061 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0659s ago] ('ordinator',)
2026-02-18 16:09:47.061 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0659s ago] ('ordinator',)
2026-02-18 16:09:47.062 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:35 -                   Created role: ordinator
2026-02-18 16:09:47.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.063 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 16:09:47.063 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 16:09:47.067 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.067 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.069 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.069 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('expert_check',)
2026-02-18 16:09:47.069 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('expert_check',)
2026-02-18 16:09:47.071 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.071 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 16:09:47.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('Expert verification of conflicting diagnoses', 'Expert Check', None, None, 'expert_check', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'expert', '{"type": "object", "properties": {"final_diagnosis": {"type": "string", "description": "Final expert diagnosis"}, "agrees_with_doctor": {"type": "boo ... (168 characters truncated) ... rt_notes": {"type": "string", "description": "Expert notes and reasoning"}}, "required": ["final_diagnosis", "agrees_with_doctor", "agrees_with_ai"]}')
2026-02-18 16:09:47.073 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.073 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.083 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.083 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.084 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('expert_check',)
2026-02-18 16:09:47.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('expert_check',)
2026-02-18 16:09:47.085 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: expert_check
2026-02-18 16:09:47.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.087 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.087 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.088 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01884s ago] ('ai_analysis',)
2026-02-18 16:09:47.088 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01884s ago] ('ai_analysis',)
2026-02-18 16:09:47.089 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.089 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.089 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01782s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 16:09:47.089 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01782s ago] ('AI-generated analysis of a series', 'AI Analysis', None, None, 'ai_analysis', 'null', 'null', 1, 1, 'SERIES', 'null', 'null', 'auto', '{"type": "object", "properties": {"ai_diagnosis": {"type": "string", "description": "AI-generated diagnosis"}, "ai_confidence": {"type": "number", "m ... (48 characters truncated) ...  confidence score (0.0-1.0)"}, "findings": {"type": "string", "description": "Detailed AI findings"}}, "required": ["ai_diagnosis", "ai_confidence"]}')
2026-02-18 16:09:47.090 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.090 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.100 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.101 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01684s ago] ('ai_analysis',)
2026-02-18 16:09:47.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01684s ago] ('ai_analysis',)
2026-02-18 16:09:47.102 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: ai_analysis
2026-02-18 16:09:47.102 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.102 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0357s ago] ('doctor_review',)
2026-02-18 16:09:47.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0357s ago] ('doctor_review',)
2026-02-18 16:09:47.106 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.106 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO recordtype (description, label, slicer_script, slicer_result_validator, name, slicer_script_args, slicer_result_validator_args, max_users, min_users, level, input_files, output_files, role_name, data_schema) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.106 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03467s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 16:09:47.106 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03467s ago] ('Doctor review of a series with diagnosis and confidence assessment', 'Doctor Review', None, None, 'doctor_review', 'null', 'null', 3, 1, 'SERIES', 'null', 'null', 'doctor', '{"type": "object", "properties": {"diagnosis": {"type": "string", "description": "Primary diagnosis"}, "confidence": {"type": "integer", "minimum": 0 ... (108 characters truncated) ... ption": "Whether expert review is needed"}, "notes": {"type": "string", "description": "Additional notes"}}, "required": ["diagnosis", "confidence"]}')
2026-02-18 16:09:47.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.117 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.118 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.118 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.118 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:09:47.118 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03385s ago] ('doctor_review',)
2026-02-18 16:09:47.118 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03385s ago] ('doctor_review',)
2026-02-18 16:09:47.119 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:307 -                   Created record type: doctor_review
2026-02-18 16:09:47.119 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.119 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.120 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.120 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:09:47.121 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:09:47.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ()
2026-02-18 16:09:47.121 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ()
2026-02-18 16:09:47.122 |                   WARNING  |                   src.utils.admin:ensure_admin_exists:69 -                   No admin users found in system!
2026-02-18 16:09:47.123 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.123 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 16:09:47.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.email = ?
2026-02-18 16:09:47.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('admin@clarinet.ru',)
2026-02-18 16:09:47.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('admin@clarinet.ru',)
2026-02-18 16:09:47.333 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.333 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO user (email, hashed_password, is_active, is_superuser, is_verified, id) VALUES (?, ?, ?, ?, ?, ?)
2026-02-18 16:09:47.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('admin@clarinet.ru', '$2b$12$7tq5B0V.7jg/WL6Lc20xYOuyiLz07oIyWUWb4bYPHeKFEKZ6sSOay', 1, 1, 1, 'ce9779f6a331431b89889d2d52bf5cfb')
2026-02-18 16:09:47.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('admin@clarinet.ru', '$2b$12$7tq5B0V.7jg/WL6Lc20xYOuyiLz07oIyWUWb4bYPHeKFEKZ6sSOay', 1, 1, 1, 'ce9779f6a331431b89889d2d52bf5cfb')
2026-02-18 16:09:47.334 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.334 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.352 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.352 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.353 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:09:47.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:09:47.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:09:47.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:09:47.357 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 16:09:47.357 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user_1.id AS user_1_id, userrole.name AS userrole_name 
FROM user AS user_1 JOIN userroleslink AS userroleslink_1 ON user_1.id = userroleslink_1.user_id JOIN userrole ON userrole.name = userroleslink_1.role_name 
WHERE user_1.id IN (?)
2026-02-18 16:09:47.357 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:09:47.357 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00051s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:09:47.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:09:47.361 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.386s ago] ('admin',)
2026-02-18 16:09:47.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.386s ago] ('admin',)
2026-02-18 16:09:47.364 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 16:09:47.364 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO userroleslink (user_id, role_name) VALUES (?, ?)
2026-02-18 16:09:47.364 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('ce9779f6a331431b89889d2d52bf5cfb', 'admin')
2026-02-18 16:09:47.364 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('ce9779f6a331431b89889d2d52bf5cfb', 'admin')
2026-02-18 16:09:47.365 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.365 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.375 |                   INFO     |                   src.utils.bootstrap:create_admin_user:209 -                   Assigned 'admin' role to user with email 'admin@clarinet.ru'
2026-02-18 16:09:47.375 |                   INFO     |                   src.utils.bootstrap:create_admin_user:211 -                   Created admin user with email 'admin@clarinet.ru'
2026-02-18 16:09:47.375 |                   WARNING  |                   src.utils.bootstrap:create_admin_user:214 -                     DEFAULT ADMIN CREDENTIALS IN USE!
   Username: admin
   Password: admin123
   CHANGE THESE IMMEDIATELY!
2026-02-18 16:09:47.376 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.376 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:09:47.397 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-18 16:09:47.397 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-18 16:09:47.398 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-18 16:09:47.398 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-18 16:09:47.398 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-18 16:09:47.398 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-18 16:09:47.398 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 16:09:47.398 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 16:09:47.398 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 16:09:47.398 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 16:09:47.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('2026-02-18 13:09:47.399090',)
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('2026-02-18 13:09:47.399090',)
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:09:47.401 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:09:47.402 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:09:47.402 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:09:47.402 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:11:30.537 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.537 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.538 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:11:30.538 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:11:30.539 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('admin@clarinet.ru',)
2026-02-18 16:11:30.539 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('admin@clarinet.ru',)
2026-02-18 16:11:30.791 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 16:11:30.791 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE user SET hashed_password=? WHERE user.id = ?
2026-02-18 16:11:30.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('$argon2id$v=19$m=65536,t=3,p=4$GJAd5dVcQKFEvYGYTwW6tw$ZpsVnQvfrG//zcsF28mkZoW6ZfRIAgV/jI3bbTa8cyA', 'ce9779f6a331431b89889d2d52bf5cfb')
2026-02-18 16:11:30.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00047s] ('$argon2id$v=19$m=65536,t=3,p=4$GJAd5dVcQKFEvYGYTwW6tw$ZpsVnQvfrG//zcsF28mkZoW6ZfRIAgV/jI3bbTa8cyA', 'ce9779f6a331431b89889d2d52bf5cfb')
2026-02-18 16:11:30.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.811 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.811 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.811 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.812 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.812 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.812 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:11:30.813046')
2026-02-18 16:11:30.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:11:30.813046')
2026-02-18 16:11:30.816 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:30.816 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:30.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00043s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:11:30.814847', '2026-02-19 13:11:30.814736', '2026-02-18 13:11:30.814860', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:11:30.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00043s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:11:30.814847', '2026-02-19 13:11:30.814736', '2026-02-18 13:11:30.814860', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:11:30.817 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.817 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.830 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:11:30.830 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:11:30.834 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.834 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.836 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.836 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.836 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', '2026-02-18 13:11:30.834097')
2026-02-18 16:11:30.836 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', '2026-02-18 13:11:30.834097')
2026-02-18 16:11:30.838 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:11:30.838 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:11:30.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-18 13:11:30.837604', '0ac025d7-83d7-40fb-9be4-5171aea4c9c3')
2026-02-18 16:11:30.838 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-18 13:11:30.837604', '0ac025d7-83d7-40fb-9be4-5171aea4c9c3')
2026-02-18 16:11:30.839 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.839 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.849 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.849 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.864 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.864 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03693s ago] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', '2026-02-18 13:11:30.871678')
2026-02-18 16:11:30.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03693s ago] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3', '2026-02-18 13:11:30.871678')
2026-02-18 16:11:30.874 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:11:30.874 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:11:30.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0362s ago] ('2026-02-18 13:11:30.873916', '0ac025d7-83d7-40fb-9be4-5171aea4c9c3')
2026-02-18 16:11:30.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0362s ago] ('2026-02-18 13:11:30.873916', '0ac025d7-83d7-40fb-9be4-5171aea4c9c3')
2026-02-18 16:11:30.875 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.875 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.887 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.888 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:11:30.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03881s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03881s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:11:30.889 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.889 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.895 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.896 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.896 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.896 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.897 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('PAT001',)
2026-02-18 16:11:30.897 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('PAT001',)
2026-02-18 16:11:30.899 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.899 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.900 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00041s] ('  ', None, 'PAT001', None)
2026-02-18 16:11:30.900 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00041s] ('  ', None, 'PAT001', None)
2026-02-18 16:11:30.901 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.901 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.911 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.911 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.935 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.935 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.935 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('PAT001',)
2026-02-18 16:11:30.936 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('PAT001',)
2026-02-18 16:11:30.937 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.937 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.961 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.961 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.961 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.961 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06521s ago] ('PAT002',)
2026-02-18 16:11:30.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06521s ago] ('PAT002',)
2026-02-18 16:11:30.963 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.963 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0642s ago] ('  ', None, 'PAT002', None)
2026-02-18 16:11:30.963 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0642s ago] ('  ', None, 'PAT002', None)
2026-02-18 16:11:30.964 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.964 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.978 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04348s ago] ('PAT002',)
2026-02-18 16:11:30.979 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.04348s ago] ('PAT002',)
2026-02-18 16:11:30.979 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.979 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.983 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.984 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.984 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.984 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08798s ago] ('PAT003',)
2026-02-18 16:11:30.984 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08798s ago] ('PAT003',)
2026-02-18 16:11:30.986 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.986 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:30.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08668s ago] ('  ', None, 'PAT003', None)
2026-02-18 16:11:30.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08668s ago] ('  ', None, 'PAT003', None)
2026-02-18 16:11:30.987 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.987 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06226s ago] ('PAT003',)
2026-02-18 16:11:30.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06226s ago] ('PAT003',)
2026-02-18 16:11:30.998 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:30.998 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.003 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.003 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1073s ago] ('PAT004',)
2026-02-18 16:11:31.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1073s ago] ('PAT004',)
2026-02-18 16:11:31.005 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.005 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1059s ago] ('  ', None, 'PAT004', None)
2026-02-18 16:11:31.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1059s ago] ('  ', None, 'PAT004', None)
2026-02-18 16:11:31.006 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.006 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08121s ago] ('PAT004',)
2026-02-18 16:11:31.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08121s ago] ('PAT004',)
2026-02-18 16:11:31.017 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.017 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1266s ago] ('PAT005',)
2026-02-18 16:11:31.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1266s ago] ('PAT005',)
2026-02-18 16:11:31.024 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.024 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO patient (name, anon_name, id, auto_id) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.025 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1253s ago] ('  ', None, 'PAT005', None)
2026-02-18 16:11:31.025 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1253s ago] ('  ', None, 'PAT005', None)
2026-02-18 16:11:31.026 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.026 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.035 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.035 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.036 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.036 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1006s ago] ('PAT005',)
2026-02-18 16:11:31.036 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1006s ago] ('PAT005',)
2026-02-18 16:11:31.037 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.037 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.042 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.043 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.044 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.044 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('PAT001',)
2026-02-18 16:11:31.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('PAT001',)
2026-02-18 16:11:31.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.049 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.049 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 16:11:31.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('2024-01-10', '1.2.840.11111.1.1', 'PAT001', None)
2026-02-18 16:11:31.050 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.050 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.063 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.064 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.064 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.064 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00035s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.065 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.065 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.075 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.075 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.077 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.077 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.077 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.078 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00074s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.084 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.084 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('1.2.840.11111.1.1.1', None, 'DWI', 1, '1.2.840.11111.1.1')
2026-02-18 16:11:31.085 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('1.2.840.11111.1.1.1', None, 'DWI', 1, '1.2.840.11111.1.1')
2026-02-18 16:11:31.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.086 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.095 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.095 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.096 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.096 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.096 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.097 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.097 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.098 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.101 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.101 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02487s ago] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02487s ago] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02284s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02284s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.105 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.105 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02111s ago] ('1.2.840.11111.1.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.1.1')
2026-02-18 16:11:31.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02111s ago] ('1.2.840.11111.1.1.2', None, 'T1 post-contrast', 2, '1.2.840.11111.1.1')
2026-02-18 16:11:31.106 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.106 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.119 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.119 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.120 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.120 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02366s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.120 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02366s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.121 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.121 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08067s ago] ('PAT002',)
2026-02-18 16:11:31.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08067s ago] ('PAT002',)
2026-02-18 16:11:31.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07934s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07934s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.127 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.127 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07856s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 16:11:31.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07856s ago] ('2024-02-10', '1.2.840.11111.2.1', 'PAT002', None)
2026-02-18 16:11:31.128 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.128 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.138 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.138 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.138 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.138 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.138 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07517s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07517s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.139 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.139 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06645s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.143 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06645s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.145 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.145 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06433s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06433s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.146 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.146 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06233s ago] ('1.2.840.11111.2.1.1', None, 'DWI', 1, '1.2.840.11111.2.1')
2026-02-18 16:11:31.147 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06233s ago] ('1.2.840.11111.2.1.1', None, 'DWI', 1, '1.2.840.11111.2.1')
2026-02-18 16:11:31.147 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.147 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.160 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.160 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.161 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.161 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06468s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.161 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06468s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.162 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.162 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.166 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.166 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09049s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09049s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.169 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.169 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08855s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.169 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08855s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.171 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.171 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.171 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08695s ago] ('1.2.840.11111.2.1.2', None, 'T2 coronal', 2, '1.2.840.11111.2.1')
2026-02-18 16:11:31.171 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08695s ago] ('1.2.840.11111.2.1.2', None, 'T2 coronal', 2, '1.2.840.11111.2.1')
2026-02-18 16:11:31.172 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.172 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08969s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08969s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.187 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.187 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.191 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.191 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.191 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.192 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.192 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1481s ago] ('PAT002',)
2026-02-18 16:11:31.192 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1481s ago] ('PAT002',)
2026-02-18 16:11:31.193 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.193 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1469s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1469s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.194 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.194 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1456s ago] ('2024-02-20', '1.2.840.11111.2.2', 'PAT002', None)
2026-02-18 16:11:31.194 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1456s ago] ('2024-02-20', '1.2.840.11111.2.2', 'PAT002', None)
2026-02-18 16:11:31.195 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.195 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.207 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.208 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.208 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1448s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.208 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1448s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.209 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.209 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.213 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.213 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.213 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.213 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1369s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1369s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.215 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.215 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.215 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1344s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.215 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1344s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.216 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.216 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.216 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.132s ago] ('1.2.840.11111.2.2.1', None, 'T1 post-contrast', 1, '1.2.840.11111.2.2')
2026-02-18 16:11:31.216 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.132s ago] ('1.2.840.11111.2.2.1', None, 'T1 post-contrast', 1, '1.2.840.11111.2.2')
2026-02-18 16:11:31.217 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.217 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.230 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.230 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.230 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.231 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1344s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.231 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1344s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.232 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.232 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1587s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.235 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1587s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.237 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.237 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.237 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1564s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.237 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1564s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.238 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.238 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1542s ago] ('1.2.840.11111.2.2.2', None, 'FLAIR', 2, '1.2.840.11111.2.2')
2026-02-18 16:11:31.238 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1542s ago] ('1.2.840.11111.2.2.2', None, 'FLAIR', 2, '1.2.840.11111.2.2')
2026-02-18 16:11:31.239 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.239 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.252 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.252 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.252 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.252 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.252 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1563s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.253 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1563s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.253 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.253 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2138s ago] ('PAT003',)
2026-02-18 16:11:31.257 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2138s ago] ('PAT003',)
2026-02-18 16:11:31.259 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.259 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.260 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2135s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.260 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2135s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.262 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.262 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.262 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2131s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 16:11:31.262 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2131s ago] ('2024-03-10', '1.2.840.11111.3.1', 'PAT003', None)
2026-02-18 16:11:31.263 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.263 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.273 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2098s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2098s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.274 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.274 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.278 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.278 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.279 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.279 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2024s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.279 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2024s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.281 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2004s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.281 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2004s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.283 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.283 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.283 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1987s ago] ('1.2.840.11111.3.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.1')
2026-02-18 16:11:31.283 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1987s ago] ('1.2.840.11111.3.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.3.1')
2026-02-18 16:11:31.284 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.284 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.296 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.296 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.296 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2005s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2005s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.298 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.298 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2246s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2246s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.302 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.302 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.303 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2221s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.303 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2221s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.304 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.304 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2197s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 16:11:31.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2197s ago] ('1.2.840.11111.3.1.2', None, 'T1 axial', 2, '1.2.840.11111.3.1')
2026-02-18 16:11:31.305 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.305 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2212s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.317 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2212s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.318 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.318 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.323 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.323 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.323 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.323 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.324 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2469s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.324 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2469s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.325 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.325 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.325 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2446s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.325 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2446s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.326 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.327 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.327 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2425s ago] ('1.2.840.11111.3.1.3', None, 'T2 coronal', 3, '1.2.840.11111.3.1')
2026-02-18 16:11:31.327 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2425s ago] ('1.2.840.11111.3.1.3', None, 'T2 coronal', 3, '1.2.840.11111.3.1')
2026-02-18 16:11:31.327 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.328 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2441s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.340 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2441s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.341 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.341 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.344 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.344 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.345 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3013s ago] ('PAT004',)
2026-02-18 16:11:31.345 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3013s ago] ('PAT004',)
2026-02-18 16:11:31.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3002s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3002s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.347 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.347 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2989s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 16:11:31.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2989s ago] ('2024-04-10', '1.2.840.11111.4.1', 'PAT004', None)
2026-02-18 16:11:31.348 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.348 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2979s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.361 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2979s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.362 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.362 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.365 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.365 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.366 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.366 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.366 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2891s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.366 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2891s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.367 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.367 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2865s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2865s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.368 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.368 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2841s ago] ('1.2.840.11111.4.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.4.1')
2026-02-18 16:11:31.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2841s ago] ('1.2.840.11111.4.1.1', None, 'T1 post-contrast', 1, '1.2.840.11111.4.1')
2026-02-18 16:11:31.369 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.369 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2831s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2831s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.380 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.380 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.385 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.385 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.385 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.385 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.385 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3088s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.386 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3088s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3067s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3067s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.389 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.389 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.389 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3048s ago] ('1.2.840.11111.4.1.2', None, 'T1 axial', 2, '1.2.840.11111.4.1')
2026-02-18 16:11:31.389 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3048s ago] ('1.2.840.11111.4.1.2', None, 'T1 axial', 2, '1.2.840.11111.4.1')
2026-02-18 16:11:31.390 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.390 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3036s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3036s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.401 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.401 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3278s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3278s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.406 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.406 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.406 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3257s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.406 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3257s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.407 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.407 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.408 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3233s ago] ('1.2.840.11111.4.1.3', None, 'DWI', 3, '1.2.840.11111.4.1')
2026-02-18 16:11:31.408 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3233s ago] ('1.2.840.11111.4.1.3', None, 'DWI', 3, '1.2.840.11111.4.1')
2026-02-18 16:11:31.408 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.408 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.421 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.421 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.421 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.421 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.421 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3252s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.422 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3252s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.423 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.423 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.427 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.428 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.428 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.428 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.428 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3848s ago] ('PAT004',)
2026-02-18 16:11:31.428 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3848s ago] ('PAT004',)
2026-02-18 16:11:31.430 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.430 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3842s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3842s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.432 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.432 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.432 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3837s ago] ('2024-04-20', '1.2.840.11111.4.2', 'PAT004', None)
2026-02-18 16:11:31.432 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3837s ago] ('2024-04-20', '1.2.840.11111.4.2', 'PAT004', None)
2026-02-18 16:11:31.433 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.433 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.445 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.446 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.446 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.446 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.446 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3828s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.446 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3828s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.447 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.447 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.450 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.450 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3741s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3741s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.452 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.452 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3717s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:31.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3717s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:31.453 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.453 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.454 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3694s ago] ('1.2.840.11111.4.2.1', None, 'FLAIR', 1, '1.2.840.11111.4.2')
2026-02-18 16:11:31.454 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3694s ago] ('1.2.840.11111.4.2.1', None, 'FLAIR', 1, '1.2.840.11111.4.2')
2026-02-18 16:11:31.454 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.454 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.467 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.467 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.468 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.468 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3715s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:31.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3715s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:31.469 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.469 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.472 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.472 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.472 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.473 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.473 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.396s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.473 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.396s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:31.474 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.474 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.474 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3936s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:31.474 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3936s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:31.475 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.475 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3914s ago] ('1.2.840.11111.4.2.2', None, 'T2 coronal', 2, '1.2.840.11111.4.2')
2026-02-18 16:11:31.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3914s ago] ('1.2.840.11111.4.2.2', None, 'T2 coronal', 2, '1.2.840.11111.4.2')
2026-02-18 16:11:31.476 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.477 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3932s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:31.489 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3932s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:31.490 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.490 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.495 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.495 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4526s ago] ('PAT005',)
2026-02-18 16:11:31.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4526s ago] ('PAT005',)
2026-02-18 16:11:31.498 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.498 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.498 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4522s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.498 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4522s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.500 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.500 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4516s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 16:11:31.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4516s ago] ('2024-05-10', '1.2.840.11111.5.1', 'PAT005', None)
2026-02-18 16:11:31.501 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.501 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.514 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.514 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.514 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.515 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.515 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4513s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.515 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4513s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.515 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.516 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4427s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4427s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.520 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.521 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4402s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:31.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4402s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:31.522 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.522 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4379s ago] ('1.2.840.11111.5.1.1', None, 'T1 axial', 1, '1.2.840.11111.5.1')
2026-02-18 16:11:31.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4379s ago] ('1.2.840.11111.5.1.1', None, 'T1 axial', 1, '1.2.840.11111.5.1')
2026-02-18 16:11:31.523 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.523 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.535 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.535 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.536 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.536 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.536 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4396s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:31.536 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4396s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:31.537 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.537 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.540 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.540 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.540 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.541 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.464s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.464s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:31.542 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.542 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4616s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:31.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4616s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:31.543 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.543 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.543 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4593s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 16:11:31.544 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4593s ago] ('1.2.840.11111.5.1.2', None, 'FLAIR', 2, '1.2.840.11111.5.1')
2026-02-18 16:11:31.544 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.544 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4581s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:31.554 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4581s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:31.555 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.555 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.561 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.561 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.562 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.562 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.id AS patient_id, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:11:31.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5186s ago] ('PAT005',)
2026-02-18 16:11:31.562 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5186s ago] ('PAT005',)
2026-02-18 16:11:31.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.518s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.518s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.566 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.566 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO study (date, study_uid, patient_id, anon_uid) VALUES (?, ?, ?, ?)
2026-02-18 16:11:31.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5176s ago] ('2024-05-20', '1.2.840.11111.5.2', 'PAT005', None)
2026-02-18 16:11:31.566 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5176s ago] ('2024-05-20', '1.2.840.11111.5.2', 'PAT005', None)
2026-02-18 16:11:31.567 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.567 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.577 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.577 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.577 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.577 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.578 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5143s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.578 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5143s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.579 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.579 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.584 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.584 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.585 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.585 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.585 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5084s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.585 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5084s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5064s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:31.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5064s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:31.588 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.588 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5042s ago] ('1.2.840.11111.5.2.1', None, 'T2 coronal', 1, '1.2.840.11111.5.2')
2026-02-18 16:11:31.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5042s ago] ('1.2.840.11111.5.2.1', None, 'T2 coronal', 1, '1.2.840.11111.5.2')
2026-02-18 16:11:31.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.589 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.599 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.599 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.599 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.599 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.600 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5033s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:31.600 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5033s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:31.601 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.601 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5275s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5275s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.606 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.606 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.606 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5253s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:31.606 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5253s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:31.607 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.607 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.607 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5231s ago] ('1.2.840.11111.5.2.2', None, 'T1 axial', 2, '1.2.840.11111.5.2')
2026-02-18 16:11:31.607 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5231s ago] ('1.2.840.11111.5.2.2', None, 'T1 axial', 2, '1.2.840.11111.5.2')
2026-02-18 16:11:31.608 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.608 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.621 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.621 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.621 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.622 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.622 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5255s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:31.622 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5255s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:31.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.626 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.626 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.627 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.627 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date AS study_date, study.study_uid AS study_study_uid, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid = ?
2026-02-18 16:11:31.627 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5501s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.627 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5501s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:31.628 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.628 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5478s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:31.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5478s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:31.630 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.630 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO series (series_uid, anon_uid, series_description, series_number, study_uid) VALUES (?, ?, ?, ?, ?)
2026-02-18 16:11:31.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5456s ago] ('1.2.840.11111.5.2.3', None, 'DWI', 3, '1.2.840.11111.5.2')
2026-02-18 16:11:31.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5456s ago] ('1.2.840.11111.5.2.3', None, 'DWI', 3, '1.2.840.11111.5.2')
2026-02-18 16:11:31.631 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.631 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.646 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.646 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.647 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.647 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid, series.anon_uid, series.series_description, series.series_number, series.study_uid 
FROM series 
WHERE series.series_uid = ?
2026-02-18 16:11:31.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5509s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:31.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5509s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:31.648 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.649 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.656 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.656 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.657 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.657 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 16:11:31.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('doctor_review', '1.2.840.11111.1.1.1', '1.2.840.11111.1.1')
2026-02-18 16:11:31.659 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('doctor_review',)
2026-02-18 16:11:31.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('doctor_review',)
2026-02-18 16:11:31.662 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.662 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.662 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.661183', None, None)
2026-02-18 16:11:31.662 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.661183', None, None)
2026-02-18 16:11:31.663 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.664 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.676 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.676 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] (1,)
2026-02-18 16:11:31.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] (1,)
2026-02-18 16:11:31.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.683 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('doctor_review',)
2026-02-18 16:11:31.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('doctor_review',)
2026-02-18 16:11:31.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('PAT001',)
2026-02-18 16:11:31.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('PAT001',)
2026-02-18 16:11:31.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.688 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.688 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('1.2.840.11111.1.1.1',)
2026-02-18 16:11:31.689 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.689 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.693 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.693 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0363s ago] ('doctor_review', '1.2.840.11111.1.1.2', '1.2.840.11111.1.1')
2026-02-18 16:11:31.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.0363s ago] ('doctor_review', '1.2.840.11111.1.1.2', '1.2.840.11111.1.1')
2026-02-18 16:11:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03586s ago] ('doctor_review',)
2026-02-18 16:11:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03586s ago] ('doctor_review',)
2026-02-18 16:11:31.697 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.697 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03507s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.696883', None, None)
2026-02-18 16:11:31.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03507s ago] (None, 'pending', 'PAT001', '1.2.840.11111.1.1', '1.2.840.11111.1.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.696883', None, None)
2026-02-18 16:11:31.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.711 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.711 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.712 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03149s ago] (2,)
2026-02-18 16:11:31.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03149s ago] (2,)
2026-02-18 16:11:31.713 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.713 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.713 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03086s ago] ('doctor_review',)
2026-02-18 16:11:31.713 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03086s ago] ('doctor_review',)
2026-02-18 16:11:31.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03036s ago] ('PAT001',)
2026-02-18 16:11:31.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.03036s ago] ('PAT001',)
2026-02-18 16:11:31.716 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.716 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.716 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02978s ago] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.716 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02978s ago] ('1.2.840.11111.1.1',)
2026-02-18 16:11:31.717 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.717 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.717 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02941s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.717 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02941s ago] ('1.2.840.11111.1.1.2',)
2026-02-18 16:11:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.721 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.721 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.722 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.722 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.722 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06464s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 16:11:31.722 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06464s ago] ('doctor_review', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1')
2026-02-18 16:11:31.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06371s ago] ('doctor_review',)
2026-02-18 16:11:31.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06371s ago] ('doctor_review',)
2026-02-18 16:11:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06277s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.724550', None, None)
2026-02-18 16:11:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06277s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.724550', None, None)
2026-02-18 16:11:31.726 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.726 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.738 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.738 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.739 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.739 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05858s ago] (3,)
2026-02-18 16:11:31.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05858s ago] (3,)
2026-02-18 16:11:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05793s ago] ('doctor_review',)
2026-02-18 16:11:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05793s ago] ('doctor_review',)
2026-02-18 16:11:31.741 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.742 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.742 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05742s ago] ('PAT002',)
2026-02-18 16:11:31.742 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05742s ago] ('PAT002',)
2026-02-18 16:11:31.743 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.743 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.743 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05696s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.743 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05696s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.744 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.744 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.744 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05666s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.744 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05666s ago] ('1.2.840.11111.2.1.1',)
2026-02-18 16:11:31.745 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.745 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09186s ago] ('doctor_review', '1.2.840.11111.2.1.2', '1.2.840.11111.2.1')
2026-02-18 16:11:31.749 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09186s ago] ('doctor_review', '1.2.840.11111.2.1.2', '1.2.840.11111.2.1')
2026-02-18 16:11:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09089s ago] ('doctor_review',)
2026-02-18 16:11:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.09089s ago] ('doctor_review',)
2026-02-18 16:11:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08979s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.751668', None, None)
2026-02-18 16:11:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08979s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.1', '1.2.840.11111.2.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.751668', None, None)
2026-02-18 16:11:31.753 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.753 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08208s ago] (4,)
2026-02-18 16:11:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08208s ago] (4,)
2026-02-18 16:11:31.763 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.763 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.764 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08125s ago] ('doctor_review',)
2026-02-18 16:11:31.764 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08125s ago] ('doctor_review',)
2026-02-18 16:11:31.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08054s ago] ('PAT002',)
2026-02-18 16:11:31.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08054s ago] ('PAT002',)
2026-02-18 16:11:31.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07988s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.766 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07988s ago] ('1.2.840.11111.2.1',)
2026-02-18 16:11:31.767 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.767 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07943s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07943s ago] ('1.2.840.11111.2.1.2',)
2026-02-18 16:11:31.768 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.768 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.773 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.773 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1164s ago] ('doctor_review', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2')
2026-02-18 16:11:31.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1164s ago] ('doctor_review', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2')
2026-02-18 16:11:31.775 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.776 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1163s ago] ('doctor_review',)
2026-02-18 16:11:31.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1163s ago] ('doctor_review',)
2026-02-18 16:11:31.777 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.778 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1158s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.777407', None, None)
2026-02-18 16:11:31.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1158s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.777407', None, None)
2026-02-18 16:11:31.779 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.779 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1122s ago] (5,)
2026-02-18 16:11:31.792 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1122s ago] (5,)
2026-02-18 16:11:31.794 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.794 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1115s ago] ('doctor_review',)
2026-02-18 16:11:31.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1115s ago] ('doctor_review',)
2026-02-18 16:11:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1109s ago] ('PAT002',)
2026-02-18 16:11:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1109s ago] ('PAT002',)
2026-02-18 16:11:31.796 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.796 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.796 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1104s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.797 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1104s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.797 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.11s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.11s ago] ('1.2.840.11111.2.2.1',)
2026-02-18 16:11:31.799 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.799 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.145s ago] ('doctor_review', '1.2.840.11111.2.2.2', '1.2.840.11111.2.2')
2026-02-18 16:11:31.802 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.145s ago] ('doctor_review', '1.2.840.11111.2.2.2', '1.2.840.11111.2.2')
2026-02-18 16:11:31.803 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.803 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1439s ago] ('doctor_review',)
2026-02-18 16:11:31.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1439s ago] ('doctor_review',)
2026-02-18 16:11:31.805 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.805 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1429s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.804761', None, None)
2026-02-18 16:11:31.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1429s ago] (None, 'pending', 'PAT002', '1.2.840.11111.2.2', '1.2.840.11111.2.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.804761', None, None)
2026-02-18 16:11:31.806 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.806 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1372s ago] (6,)
2026-02-18 16:11:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1372s ago] (6,)
2026-02-18 16:11:31.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.819 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1369s ago] ('doctor_review',)
2026-02-18 16:11:31.819 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1369s ago] ('doctor_review',)
2026-02-18 16:11:31.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1363s ago] ('PAT002',)
2026-02-18 16:11:31.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1363s ago] ('PAT002',)
2026-02-18 16:11:31.822 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.822 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.822 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1357s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.822 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1357s ago] ('1.2.840.11111.2.2',)
2026-02-18 16:11:31.823 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.823 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1353s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.823 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1353s ago] ('1.2.840.11111.2.2.2',)
2026-02-18 16:11:31.824 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.824 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.827 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.827 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.828 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.828 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.828 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1711s ago] ('doctor_review', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1')
2026-02-18 16:11:31.828 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1711s ago] ('doctor_review', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1')
2026-02-18 16:11:31.830 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.830 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.830 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1705s ago] ('doctor_review',)
2026-02-18 16:11:31.830 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1705s ago] ('doctor_review',)
2026-02-18 16:11:31.832 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.832 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.832 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1698s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.831617', None, None)
2026-02-18 16:11:31.832 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1698s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.831617', None, None)
2026-02-18 16:11:31.833 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.833 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.845 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.845 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.846 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.846 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.846 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1656s ago] (7,)
2026-02-18 16:11:31.846 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1656s ago] (7,)
2026-02-18 16:11:31.847 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.847 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.847 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.165s ago] ('doctor_review',)
2026-02-18 16:11:31.847 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.165s ago] ('doctor_review',)
2026-02-18 16:11:31.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1646s ago] ('PAT003',)
2026-02-18 16:11:31.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1646s ago] ('PAT003',)
2026-02-18 16:11:31.850 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.850 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1641s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1641s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.851 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.851 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.852 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1639s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.852 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1639s ago] ('1.2.840.11111.3.1.1',)
2026-02-18 16:11:31.853 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.853 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.857 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.857 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1995s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 16:11:31.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1995s ago] ('doctor_review', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1')
2026-02-18 16:11:31.858 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.858 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.858 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1988s ago] ('doctor_review',)
2026-02-18 16:11:31.858 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1988s ago] ('doctor_review',)
2026-02-18 16:11:31.860 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.860 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.860 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1977s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.859579', None, None)
2026-02-18 16:11:31.860 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1977s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.859579', None, None)
2026-02-18 16:11:31.861 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.861 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.873 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.874 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.874 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.874 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1941s ago] (8,)
2026-02-18 16:11:31.874 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1941s ago] (8,)
2026-02-18 16:11:31.876 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.876 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1939s ago] ('doctor_review',)
2026-02-18 16:11:31.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1939s ago] ('doctor_review',)
2026-02-18 16:11:31.878 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.878 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.878 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1941s ago] ('PAT003',)
2026-02-18 16:11:31.878 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1941s ago] ('PAT003',)
2026-02-18 16:11:31.880 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.880 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.880 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1937s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.880 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1937s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.881 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1935s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.881 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.1935s ago] ('1.2.840.11111.3.1.2',)
2026-02-18 16:11:31.882 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.882 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.885 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.886 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.886 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.886 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.886 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2288s ago] ('doctor_review', '1.2.840.11111.3.1.3', '1.2.840.11111.3.1')
2026-02-18 16:11:31.886 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2288s ago] ('doctor_review', '1.2.840.11111.3.1.3', '1.2.840.11111.3.1')
2026-02-18 16:11:31.887 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.887 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.887 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2278s ago] ('doctor_review',)
2026-02-18 16:11:31.887 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2278s ago] ('doctor_review',)
2026-02-18 16:11:31.889 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.889 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.889 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2267s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.888618', None, None)
2026-02-18 16:11:31.889 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2267s ago] (None, 'pending', 'PAT003', '1.2.840.11111.3.1', '1.2.840.11111.3.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.888618', None, None)
2026-02-18 16:11:31.890 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.890 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.902 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.902 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2226s ago] (9,)
2026-02-18 16:11:31.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2226s ago] (9,)
2026-02-18 16:11:31.904 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.904 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2219s ago] ('doctor_review',)
2026-02-18 16:11:31.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2219s ago] ('doctor_review',)
2026-02-18 16:11:31.905 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.905 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2213s ago] ('PAT003',)
2026-02-18 16:11:31.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2213s ago] ('PAT003',)
2026-02-18 16:11:31.907 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.907 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.907 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2207s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.907 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2207s ago] ('1.2.840.11111.3.1',)
2026-02-18 16:11:31.908 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.908 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2204s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2204s ago] ('1.2.840.11111.3.1.3',)
2026-02-18 16:11:31.909 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.909 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.912 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.912 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.913 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.913 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.913 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2556s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 16:11:31.913 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2556s ago] ('doctor_review', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1')
2026-02-18 16:11:31.914 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.914 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.914 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2548s ago] ('doctor_review',)
2026-02-18 16:11:31.914 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2548s ago] ('doctor_review',)
2026-02-18 16:11:31.916 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.916 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.916 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2539s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.915604', None, None)
2026-02-18 16:11:31.916 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2539s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.915604', None, None)
2026-02-18 16:11:31.917 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.917 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.929 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.929 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.929 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.929 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.930 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2495s ago] (10,)
2026-02-18 16:11:31.930 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2495s ago] (10,)
2026-02-18 16:11:31.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2487s ago] ('doctor_review',)
2026-02-18 16:11:31.931 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2487s ago] ('doctor_review',)
2026-02-18 16:11:31.932 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.932 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.248s ago] ('PAT004',)
2026-02-18 16:11:31.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.248s ago] ('PAT004',)
2026-02-18 16:11:31.933 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.933 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.933 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2474s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.934 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2474s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.935 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.935 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.935 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2471s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.935 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2471s ago] ('1.2.840.11111.4.1.1',)
2026-02-18 16:11:31.936 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.936 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.940 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.940 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2837s ago] ('doctor_review', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1')
2026-02-18 16:11:31.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2837s ago] ('doctor_review', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1')
2026-02-18 16:11:31.942 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.942 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.942 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2828s ago] ('doctor_review',)
2026-02-18 16:11:31.942 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2828s ago] ('doctor_review',)
2026-02-18 16:11:31.944 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.944 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2818s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.943578', None, None)
2026-02-18 16:11:31.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2818s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.943578', None, None)
2026-02-18 16:11:31.945 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.945 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.957 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.957 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.957 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.957 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.958 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2774s ago] (11,)
2026-02-18 16:11:31.958 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2774s ago] (11,)
2026-02-18 16:11:31.959 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.959 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.959 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2766s ago] ('doctor_review',)
2026-02-18 16:11:31.959 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2766s ago] ('doctor_review',)
2026-02-18 16:11:31.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.960 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.960 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2759s ago] ('PAT004',)
2026-02-18 16:11:31.960 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2759s ago] ('PAT004',)
2026-02-18 16:11:31.961 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.961 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2752s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.961 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2752s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.962 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2747s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.962 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.2747s ago] ('1.2.840.11111.4.1.2',)
2026-02-18 16:11:31.963 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.964 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.967 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.967 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.967 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.967 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.967 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3102s ago] ('doctor_review', '1.2.840.11111.4.1.3', '1.2.840.11111.4.1')
2026-02-18 16:11:31.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3102s ago] ('doctor_review', '1.2.840.11111.4.1.3', '1.2.840.11111.4.1')
2026-02-18 16:11:31.969 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.969 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.969 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3099s ago] ('doctor_review',)
2026-02-18 16:11:31.969 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3099s ago] ('doctor_review',)
2026-02-18 16:11:31.972 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.972 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.973 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3104s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.971678', None, None)
2026-02-18 16:11:31.973 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3104s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.1', '1.2.840.11111.4.1.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.971678', None, None)
2026-02-18 16:11:31.974 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.974 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.984 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:31.985 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3046s ago] (12,)
2026-02-18 16:11:31.985 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3046s ago] (12,)
2026-02-18 16:11:31.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:31.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3041s ago] ('doctor_review',)
2026-02-18 16:11:31.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3041s ago] ('doctor_review',)
2026-02-18 16:11:31.988 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.988 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:31.988 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.304s ago] ('PAT004',)
2026-02-18 16:11:31.988 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.304s ago] ('PAT004',)
2026-02-18 16:11:31.989 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.989 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:31.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3034s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.989 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3034s ago] ('1.2.840.11111.4.1',)
2026-02-18 16:11:31.990 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.990 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:31.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3029s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.991 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3029s ago] ('1.2.840.11111.4.1.3',)
2026-02-18 16:11:31.992 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.992 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:31.995 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.995 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:31.996 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.996 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:31.996 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3385s ago] ('doctor_review', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2')
2026-02-18 16:11:31.996 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3385s ago] ('doctor_review', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2')
2026-02-18 16:11:31.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:31.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3377s ago] ('doctor_review',)
2026-02-18 16:11:31.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3377s ago] ('doctor_review',)
2026-02-18 16:11:31.999 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.999 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:31.999 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3369s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.2', '1.2.840.11111.4.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.998556', None, None)
2026-02-18 16:11:31.999 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3369s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.2', '1.2.840.11111.4.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:31.998556', None, None)
2026-02-18 16:11:32.000 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.000 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.012 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.012 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.013 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3327s ago] (13,)
2026-02-18 16:11:32.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3327s ago] (13,)
2026-02-18 16:11:32.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.332s ago] ('doctor_review',)
2026-02-18 16:11:32.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.332s ago] ('doctor_review',)
2026-02-18 16:11:32.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3314s ago] ('PAT004',)
2026-02-18 16:11:32.016 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3314s ago] ('PAT004',)
2026-02-18 16:11:32.017 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.017 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.017 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3311s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:32.017 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3311s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:32.018 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.018 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.019 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3309s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:32.019 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3309s ago] ('1.2.840.11111.4.2.1',)
2026-02-18 16:11:32.020 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.020 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3661s ago] ('doctor_review', '1.2.840.11111.4.2.2', '1.2.840.11111.4.2')
2026-02-18 16:11:32.023 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3661s ago] ('doctor_review', '1.2.840.11111.4.2.2', '1.2.840.11111.4.2')
2026-02-18 16:11:32.024 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.024 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.024 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3651s ago] ('doctor_review',)
2026-02-18 16:11:32.025 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3651s ago] ('doctor_review',)
2026-02-18 16:11:32.026 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.026 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.026 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.364s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.2', '1.2.840.11111.4.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.025877', None, None)
2026-02-18 16:11:32.026 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.364s ago] (None, 'pending', 'PAT004', '1.2.840.11111.4.2', '1.2.840.11111.4.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.025877', None, None)
2026-02-18 16:11:32.027 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.027 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3602s ago] (14,)
2026-02-18 16:11:32.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3602s ago] (14,)
2026-02-18 16:11:32.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3595s ago] ('doctor_review',)
2026-02-18 16:11:32.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3595s ago] ('doctor_review',)
2026-02-18 16:11:32.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3591s ago] ('PAT004',)
2026-02-18 16:11:32.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3591s ago] ('PAT004',)
2026-02-18 16:11:32.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.359s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:32.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.359s ago] ('1.2.840.11111.4.2',)
2026-02-18 16:11:32.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3591s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:32.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3591s ago] ('1.2.840.11111.4.2.2',)
2026-02-18 16:11:32.048 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.048 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.053 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.053 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.053 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3962s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 16:11:32.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3962s ago] ('doctor_review', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1')
2026-02-18 16:11:32.055 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.055 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.055 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3955s ago] ('doctor_review',)
2026-02-18 16:11:32.055 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3955s ago] ('doctor_review',)
2026-02-18 16:11:32.056 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.056 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.056 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3944s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.056310', None, None)
2026-02-18 16:11:32.057 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3944s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.056310', None, None)
2026-02-18 16:11:32.057 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.057 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.070 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.070 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.070 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.070 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.071 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3904s ago] (15,)
2026-02-18 16:11:32.071 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3904s ago] (15,)
2026-02-18 16:11:32.072 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.072 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3898s ago] ('doctor_review',)
2026-02-18 16:11:32.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3898s ago] ('doctor_review',)
2026-02-18 16:11:32.073 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.073 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.074 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3893s ago] ('PAT005',)
2026-02-18 16:11:32.074 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3893s ago] ('PAT005',)
2026-02-18 16:11:32.075 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.075 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3886s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:32.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3886s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:32.076 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.076 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.076 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3881s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:32.076 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.3881s ago] ('1.2.840.11111.5.1.1',)
2026-02-18 16:11:32.077 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.077 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.080 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.080 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.081 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4237s ago] ('doctor_review', '1.2.840.11111.5.1.2', '1.2.840.11111.5.1')
2026-02-18 16:11:32.081 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4237s ago] ('doctor_review', '1.2.840.11111.5.1.2', '1.2.840.11111.5.1')
2026-02-18 16:11:32.082 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.082 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.082 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4228s ago] ('doctor_review',)
2026-02-18 16:11:32.082 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4228s ago] ('doctor_review',)
2026-02-18 16:11:32.084 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.084 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4217s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.083562', None, None)
2026-02-18 16:11:32.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4217s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.1', '1.2.840.11111.5.1.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.083562', None, None)
2026-02-18 16:11:32.085 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.085 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.097 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.097 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4177s ago] (16,)
2026-02-18 16:11:32.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4177s ago] (16,)
2026-02-18 16:11:32.099 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.099 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.099 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.417s ago] ('doctor_review',)
2026-02-18 16:11:32.099 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.417s ago] ('doctor_review',)
2026-02-18 16:11:32.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.100 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4164s ago] ('PAT005',)
2026-02-18 16:11:32.101 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4164s ago] ('PAT005',)
2026-02-18 16:11:32.102 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.102 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.416s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:32.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.416s ago] ('1.2.840.11111.5.1',)
2026-02-18 16:11:32.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.103 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4157s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:32.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4157s ago] ('1.2.840.11111.5.1.2',)
2026-02-18 16:11:32.105 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.105 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4511s ago] ('doctor_review', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.108 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4511s ago] ('doctor_review', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.109 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4503s ago] ('doctor_review',)
2026-02-18 16:11:32.110 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4503s ago] ('doctor_review',)
2026-02-18 16:11:32.111 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.111 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4492s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.111139', None, None)
2026-02-18 16:11:32.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4492s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.1', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.111139', None, None)
2026-02-18 16:11:32.112 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.112 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4451s ago] (17,)
2026-02-18 16:11:32.125 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4451s ago] (17,)
2026-02-18 16:11:32.127 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.127 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4444s ago] ('doctor_review',)
2026-02-18 16:11:32.127 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4444s ago] ('doctor_review',)
2026-02-18 16:11:32.128 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.128 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4439s ago] ('PAT005',)
2026-02-18 16:11:32.128 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4439s ago] ('PAT005',)
2026-02-18 16:11:32.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4432s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4432s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.130 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.130 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4427s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:32.130 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4427s ago] ('1.2.840.11111.5.2.1',)
2026-02-18 16:11:32.131 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.132 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.135 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.135 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.136 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.136 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.136 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4785s ago] ('doctor_review', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2')
2026-02-18 16:11:32.136 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4785s ago] ('doctor_review', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2')
2026-02-18 16:11:32.137 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.137 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.137 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4775s ago] ('doctor_review',)
2026-02-18 16:11:32.137 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4775s ago] ('doctor_review',)
2026-02-18 16:11:32.138 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.138 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4765s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.138415', None, None)
2026-02-18 16:11:32.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4765s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.2', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.138415', None, None)
2026-02-18 16:11:32.139 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.139 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4721s ago] (18,)
2026-02-18 16:11:32.152 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4721s ago] (18,)
2026-02-18 16:11:32.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4714s ago] ('doctor_review',)
2026-02-18 16:11:32.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4714s ago] ('doctor_review',)
2026-02-18 16:11:32.155 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.155 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4709s ago] ('PAT005',)
2026-02-18 16:11:32.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4709s ago] ('PAT005',)
2026-02-18 16:11:32.156 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.156 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.156 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4704s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.157 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4704s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.158 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.158 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4706s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:32.158 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.4706s ago] ('1.2.840.11111.5.2.2',)
2026-02-18 16:11:32.160 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.160 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.164 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.164 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(record.id) AS count_1 
FROM record JOIN recordtype ON recordtype.name = record.record_type_name 
WHERE recordtype.name = ? AND record.series_uid = ? AND record.study_uid = ?
2026-02-18 16:11:32.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5076s ago] ('doctor_review', '1.2.840.11111.5.2.3', '1.2.840.11111.5.2')
2026-02-18 16:11:32.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5076s ago] ('doctor_review', '1.2.840.11111.5.2.3', '1.2.840.11111.5.2')
2026-02-18 16:11:32.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.167 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.name AS recordtype_name, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:11:32.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5074s ago] ('doctor_review',)
2026-02-18 16:11:32.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5074s ago] ('doctor_review',)
2026-02-18 16:11:32.169 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.169 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO record (context_info, status, patient_id, study_uid, series_uid, record_type_name, user_id, study_anon_uid, series_anon_uid, clarinet_storage_path, files, data, created_at, started_at, finished_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, changed_at
2026-02-18 16:11:32.169 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5068s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.168508', None, None)
2026-02-18 16:11:32.169 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5068s ago] (None, 'pending', 'PAT005', '1.2.840.11111.5.2', '1.2.840.11111.5.2.3', 'doctor_review', None, None, None, None, 'null', '{}', '2026-02-18 13:11:32.168508', None, None)
2026-02-18 16:11:32.170 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.170 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.183 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.183 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.183 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.184 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-18 16:11:32.184 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5036s ago] (19,)
2026-02-18 16:11:32.184 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5036s ago] (19,)
2026-02-18 16:11:32.185 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.185 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.185 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5031s ago] ('doctor_review',)
2026-02-18 16:11:32.185 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5031s ago] ('doctor_review',)
2026-02-18 16:11:32.187 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.187 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-18 16:11:32.187 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5026s ago] ('PAT005',)
2026-02-18 16:11:32.187 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5026s ago] ('PAT005',)
2026-02-18 16:11:32.188 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.188 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-18 16:11:32.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5022s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5022s ago] ('1.2.840.11111.5.2',)
2026-02-18 16:11:32.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-18 16:11:32.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5019s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:32.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5019s ago] ('1.2.840.11111.5.2.3',)
2026-02-18 16:11:32.190 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.191 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.194 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.194 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.195 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] (100, 0)
2026-02-18 16:11:32.195 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] (100, 0)
2026-02-18 16:11:32.196 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.197 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.197 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.199 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.199 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.199 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.199 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.201 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.201 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.205 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.205 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.206 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.206 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.206 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] (100, 0)
2026-02-18 16:11:32.206 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] (100, 0)
2026-02-18 16:11:32.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.208 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.208 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.208 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00030s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.217 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.217 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:11:32.218 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.218 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:11:32.218 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00034s] (100, 0)
2026-02-18 16:11:32.218 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00034s] (100, 0)
2026-02-18 16:11:32.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:11:32.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5386s ago] ('doctor_review',)
2026-02-18 16:11:32.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5386s ago] ('doctor_review',)
2026-02-18 16:11:32.222 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.222 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:11:32.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5383s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.223 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5383s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:11:32.224 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.224 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.224 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5378s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.224 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5378s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:11:32.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:11:32.225 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5376s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:11:32.225 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5376s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:11:32.227 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:11:32.227 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.630 |                   INFO     |                   src.api.app:create_app:177 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-18 16:16:58.631 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [445157]
2026-02-18 16:16:58.631 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [445157]
2026-02-18 16:16:58.631 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:16:58.631 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:16:58.631 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 16:16:58.639 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.642 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.643 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:16:58.643 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:16:58.643 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.644 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:16:58.644 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:16:58.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.645 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:16:58.645 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:16:58.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.646 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:16:58.646 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.647 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.648 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:16:58.648 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:16:58.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.649 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:16:58.649 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:16:58.649 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.649 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.650 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:16:58.650 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:16:58.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:16:58.651 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.651 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.652 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 16:16:58.652 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 16:16:58.654 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.654 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.683 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('doctor',)
2026-02-18 16:16:58.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('doctor',)
2026-02-18 16:16:58.684 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-18 16:16:58.685 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.685 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003191s ago] ('auto',)
2026-02-18 16:16:58.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003191s ago] ('auto',)
2026-02-18 16:16:58.686 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-18 16:16:58.687 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.687 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.688 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005396s ago] ('admin',)
2026-02-18 16:16:58.688 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005396s ago] ('admin',)
2026-02-18 16:16:58.688 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-18 16:16:58.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007119s ago] ('expert',)
2026-02-18 16:16:58.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007119s ago] ('expert',)
2026-02-18 16:16:58.690 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-18 16:16:58.690 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.690 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:16:58.691 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008471s ago] ('ordinator',)
2026-02-18 16:16:58.691 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008471s ago] ('ordinator',)
2026-02-18 16:16:58.691 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-18 16:16:58.692 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.692 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.692 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 16:16:58.693 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 16:16:58.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-18 16:16:58.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-18 16:16:58.699 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-18 16:16:58.699 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.699 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003257s ago] ('ai_analysis',)
2026-02-18 16:16:58.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003257s ago] ('ai_analysis',)
2026-02-18 16:16:58.702 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-18 16:16:58.703 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.703 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.704 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.704 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.705 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.705 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:16:58.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007127s ago] ('doctor_review',)
2026-02-18 16:16:58.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.007127s ago] ('doctor_review',)
2026-02-18 16:16:58.706 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-18 16:16:58.706 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.706 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.708 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:16:58.709 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:16:58.709 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ()
2026-02-18 16:16:58.709 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ()
2026-02-18 16:16:58.710 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.710 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-18 16:16:58.730 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-18 16:16:58.731 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 16:16:58.731 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 16:16:58.731 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 16:16:58.731 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 16:16:58.732 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.732 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:16:58.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:16:58.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:16:58.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('2026-02-18 13:16:58.731852',)
2026-02-18 16:16:58.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('2026-02-18 13:16:58.731852',)
2026-02-18 16:16:58.734 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:16:58.735 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:16:58.735 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:16:58.735 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:16:58.736 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:16:58.736 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:20:36.991 |                   INFO     |                   src.api.app:create_app:177 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-18 16:20:36.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [447283]
2026-02-18 16:20:36.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [447283]
2026-02-18 16:20:36.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:20:36.992 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:20:36.992 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 16:20:37.001 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 16:20:37.004 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.004 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.004 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:20:37.004 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:20:37.004 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:20:37.006 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.007 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.008 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:20:37.008 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:20:37.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:20:37.009 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.011 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:20:37.011 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:20:37.011 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.011 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:20:37.012 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.012 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.012 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 16:20:37.012 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 16:20:37.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.041 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 16:20:37.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 16:20:37.043 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-18 16:20:37.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00226s ago] ('auto',)
2026-02-18 16:20:37.044 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00226s ago] ('auto',)
2026-02-18 16:20:37.044 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-18 16:20:37.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003735s ago] ('admin',)
2026-02-18 16:20:37.045 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003735s ago] ('admin',)
2026-02-18 16:20:37.046 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-18 16:20:37.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004832s ago] ('expert',)
2026-02-18 16:20:37.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004832s ago] ('expert',)
2026-02-18 16:20:37.047 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-18 16:20:37.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.047 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:20:37.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005973s ago] ('ordinator',)
2026-02-18 16:20:37.047 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005973s ago] ('ordinator',)
2026-02-18 16:20:37.048 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-18 16:20:37.048 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.048 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.049 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 16:20:37.049 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 16:20:37.053 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.053 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.054 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.055 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.055 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-18 16:20:37.055 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-18 16:20:37.056 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-18 16:20:37.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.056 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.057 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.057 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.058 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.058 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003335s ago] ('ai_analysis',)
2026-02-18 16:20:37.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003335s ago] ('ai_analysis',)
2026-02-18 16:20:37.058 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-18 16:20:37.059 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.059 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00595s ago] ('doctor_review',)
2026-02-18 16:20:37.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00595s ago] ('doctor_review',)
2026-02-18 16:20:37.061 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-18 16:20:37.061 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.061 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.063 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:20:37.063 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:20:37.063 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ()
2026-02-18 16:20:37.063 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ()
2026-02-18 16:20:37.064 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.064 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:37.083 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-18 16:20:37.083 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-18 16:20:37.083 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-18 16:20:37.083 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-18 16:20:37.083 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-18 16:20:37.084 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-18 16:20:37.084 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 16:20:37.084 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 16:20:37.084 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 16:20:37.084 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 16:20:37.085 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.085 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('2026-02-18 13:20:37.084727',)
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('2026-02-18 13:20:37.084727',)
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:20:37.087 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:20:37.088 |                   ERROR    |                   src.utils.logger:emit:40 -                   [Errno 98] error while attempting to bind on address ('127.0.0.1', 8000): [errno 98] address already in use
2026-02-18 16:20:37.088 |                   ERROR    |                   src.utils.logger:emit:40 -                   [Errno 98] error while attempting to bind on address ('127.0.0.1', 8000): [errno 98] address already in use
2026-02-18 16:20:37.088 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 16:20:37.088 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application shutdown.
2026-02-18 16:20:37.088 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-18 16:20:37.089 |                   INFO     |                   src.api.app:lifespan:106 -                   Session cleanup service stopped
2026-02-18 16:20:37.092 |                   INFO     |                   src.api.app:lifespan:112 -                   RecordFlow client closed
2026-02-18 16:20:37.092 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-18 16:20:37.092 |                   INFO     |                   src.api.app:lifespan:118 -                   Application shutdown
2026-02-18 16:20:37.092 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 16:20:37.092 |                   INFO     |                   src.utils.logger:emit:40 -                   Application shutdown complete.
2026-02-18 16:20:37.093 |                   ERROR    |                   src.utils.logger:emit:40 -                   an error occurred during closing of asynchronous generator <async_generator object DatabaseManager.get_async_session_context at 0x7727b8d6f440>
asyncgen: <async_generator object DatabaseManager.get_async_session_context at 0x7727b8d6f440>
Traceback (most recent call last):

  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 164, in startup
    server = await loop.create_server(
                        <function BaseEventLoop.create_server at 0x7727bdfe16f0>
                    <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 1627, in create_server
    raise OSError(err.errno, msg) from None
                              "error while attempting to bind on address ('127.0.0.1', 8000): [errno 98] address already in use"

OSError: [Errno 98] error while attempting to bind on address ('127.0.0.1', 8000): [errno 98] address already in use


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 204, in run
    return runner.run(main)
                     <coroutine object Server.serve at 0x7727bdb1bb50>
                  <function Runner.run at 0x7727bdfe3b60>
            <asyncio.runners.Runner object at 0x7727bd9dc830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/runners.py", line 127, in run
    return self._loop.run_until_complete(task)
                                       <Task finished name='Task-1' coro=<Server.serve() done, defined at /home/nest/Projects/clarinet/.venv/lib/python3.14/site-pac...
                     <function BaseEventLoop.run_until_complete at 0x7727bdfe0040>
                <_UnixSelectorEventLoop running=True closed=False debug=False>
            <asyncio.runners.Runner object at 0x7727bd9dc830>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
         <function BaseEventLoop.run_forever at 0x7727bdfd7ed0>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
         <function BaseEventLoop._run_once at 0x7727bdfe2090>
     <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/base_events.py", line 2046, in _run_once
    handle._run()
           <function Handle._run at 0x7727bdf564b0>
     <Handle Task.task_wakeup()>
  File "/home/linuxbrew/.linuxbrew/opt/python@3.14/lib/python3.14/asyncio/events.py", line 94, in _run
    self._context.run(self._callback, *self._args)
                                        <member '_args' of 'Handle' objects>
                                    <Handle Task.task_wakeup()>
                         <member '_callback' of 'Handle' objects>
                     <Handle Task.task_wakeup()>
         <member '_context' of 'Handle' objects>
     <Handle Task.task_wakeup()>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
                     None
               <function Server._serve at 0x7727bdb01380>
           <uvicorn.server.Server object at 0x7727bd9dc590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 86, in _serve
    await self.startup(sockets=sockets)
                              None
               <function Server.startup at 0x7727bdb014e0>
           <uvicorn.server.Server object at 0x7727bd9dc590>
  File "/home/nest/Projects/clarinet/.venv/lib/python3.14/site-packages/uvicorn/server.py", line 174, in startup
    sys.exit(1)
        <built-in function exit>
     <module 'sys' (built-in)>

SystemExit: 1


During handling of the above exception, another exception occurred:


RuntimeError: aclose(): asynchronous generator is already running
2026-02-18 16:20:56.367 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.367 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.369 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:20:56.369 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:20:56.369 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('admin@clarinet.ru',)
2026-02-18 16:20:56.369 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('admin@clarinet.ru',)
2026-02-18 16:20:56.430 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:20:56.430 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:20:56.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:20:56.429160')
2026-02-18 16:20:56.430 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:20:56.429160')
2026-02-18 16:20:56.432 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:20:56.432 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:20:56.432 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('951a6c9c-9a3c-4e04-9385-e5e17770976d', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:20:56.431317', '2026-02-19 13:20:56.431188', '2026-02-18 13:20:56.431331', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:20:56.433 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('951a6c9c-9a3c-4e04-9385-e5e17770976d', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:20:56.431317', '2026-02-19 13:20:56.431188', '2026-02-18 13:20:56.431331', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:20:56.433 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:56.434 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:56.447 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:20:56.447 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:20:56.455 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.455 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.456 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:20:56.456 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:20:56.456 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('951a6c9c-9a3c-4e04-9385-e5e17770976d', '2026-02-18 13:20:56.454988')
2026-02-18 16:20:56.456 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('951a6c9c-9a3c-4e04-9385-e5e17770976d', '2026-02-18 13:20:56.454988')
2026-02-18 16:20:56.458 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:20:56.458 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:20:56.458 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('2026-02-18 13:20:56.457212', '951a6c9c-9a3c-4e04-9385-e5e17770976d')
2026-02-18 16:20:56.458 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('2026-02-18 13:20:56.457212', '951a6c9c-9a3c-4e04-9385-e5e17770976d')
2026-02-18 16:20:56.459 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:56.459 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:56.468 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.468 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:20:56.469 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:20:56.469 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:20:56.469 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:20:56.469 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:20:56.474 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:20:56.474 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:10.668 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:10.668 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:10.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:21:10.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:21:10.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.3s ago] ('admin@clarinet.ru',)
2026-02-18 16:21:10.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.3s ago] ('admin@clarinet.ru',)
2026-02-18 16:21:10.725 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:21:10.725 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:21:15.808 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.808 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.808 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:21:15.809 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:21:15.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.44s ago] ('admin@clarinet.ru',)
2026-02-18 16:21:15.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.44s ago] ('admin@clarinet.ru',)
2026-02-18 16:21:15.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:21:15.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:21:15.865 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.44s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:21:15.864778')
2026-02-18 16:21:15.865 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.44s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:21:15.864778')
2026-02-18 16:21:15.866 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:21:15.867 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:21:15.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:21:15.866543', '2026-02-19 13:21:15.866408', '2026-02-18 13:21:15.866558', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:21:15.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:21:15.866543', '2026-02-19 13:21:15.866408', '2026-02-18 13:21:15.866558', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:21:15.867 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:15.867 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:15.878 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:21:15.878 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:21:15.882 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.883 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:21:15.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:21:15.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5', '2026-02-18 13:21:15.882093')
2026-02-18 16:21:15.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5', '2026-02-18 13:21:15.882093')
2026-02-18 16:21:15.884 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:21:15.884 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:21:15.885 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('2026-02-18 13:21:15.884613', '30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5')
2026-02-18 16:21:15.885 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('2026-02-18 13:21:15.884613', '30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5')
2026-02-18 16:21:15.885 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:15.885 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:15.897 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.898 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:15.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:21:15.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:21:15.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:21:15.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 19.43s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:21:15.899 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:15.899 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.383 |                   INFO     |                   src.api.app:create_app:177 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-18 16:21:36.384 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [448010]
2026-02-18 16:21:36.384 |                   INFO     |                   src.utils.logger:emit:40 -                   Started server process [448010]
2026-02-18 16:21:36.384 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:21:36.384 |                   INFO     |                   src.utils.logger:emit:40 -                   Waiting for application startup.
2026-02-18 16:21:36.384 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-18 16:21:36.394 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-18 16:21:36.397 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.397 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.398 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:21:36.398 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-18 16:21:36.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.398 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.399 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:21:36.399 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-18 16:21:36.399 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.399 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.400 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:21:36.400 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-18 16:21:36.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.401 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:21:36.401 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-18 16:21:36.401 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.401 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.401 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.402 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.403 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:21:36.403 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-18 16:21:36.403 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.403 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.404 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:21:36.404 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-18 16:21:36.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.405 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:21:36.405 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-18 16:21:36.405 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.405 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-18 16:21:36.405 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.406 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.406 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-18 16:21:36.406 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-18 16:21:36.407 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.407 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.438 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.439 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.439 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 16:21:36.439 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('doctor',)
2026-02-18 16:21:36.440 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-18 16:21:36.440 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.440 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002215s ago] ('auto',)
2026-02-18 16:21:36.441 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002215s ago] ('auto',)
2026-02-18 16:21:36.441 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-18 16:21:36.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.442 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.442 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003717s ago] ('admin',)
2026-02-18 16:21:36.442 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003717s ago] ('admin',)
2026-02-18 16:21:36.443 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-18 16:21:36.443 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.443 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.443 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004827s ago] ('expert',)
2026-02-18 16:21:36.443 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004827s ago] ('expert',)
2026-02-18 16:21:36.444 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-18 16:21:36.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-18 16:21:36.444 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006176s ago] ('ordinator',)
2026-02-18 16:21:36.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006176s ago] ('ordinator',)
2026-02-18 16:21:36.445 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-18 16:21:36.445 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.445 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.446 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-18 16:21:36.446 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-18 16:21:36.451 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.451 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.453 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.453 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('expert_check',)
2026-02-18 16:21:36.453 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('expert_check',)
2026-02-18 16:21:36.454 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-18 16:21:36.455 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.455 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.456 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.456 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.457 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.457 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.457 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004117s ago] ('ai_analysis',)
2026-02-18 16:21:36.457 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004117s ago] ('ai_analysis',)
2026-02-18 16:21:36.458 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-18 16:21:36.458 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.458 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006755s ago] ('doctor_review',)
2026-02-18 16:21:36.459 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006755s ago] ('doctor_review',)
2026-02-18 16:21:36.460 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-18 16:21:36.460 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.460 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.461 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.461 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:21:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-18 16:21:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ()
2026-02-18 16:21:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00023s] ()
2026-02-18 16:21:36.463 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.463 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:21:36.481 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-18 16:21:36.481 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-18 16:21:36.481 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-18 16:21:36.482 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-18 16:21:36.482 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-18 16:21:36.482 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-18 16:21:36.482 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-18 16:21:36.482 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-18 16:21:36.482 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-18 16:21:36.482 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-18 16:21:36.483 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.483 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('2026-02-18 13:21:36.482896',)
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00028s] ('2026-02-18 13:21:36.482896',)
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:21:36.485 |                   INFO     |                   src.utils.logger:emit:40 -                   Application startup complete.
2026-02-18 16:21:36.486 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:21:36.486 |                   INFO     |                   src.utils.logger:emit:40 -                   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-18 16:21:36.486 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:21:36.486 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:23:47.875 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:23:47.875 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:23:47.877 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:23:47.877 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:23:47.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('adm@fdfs',)
2026-02-18 16:23:47.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('adm@fdfs',)
2026-02-18 16:23:47.933 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:23:47.933 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:24:00.460 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.461 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.461 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:24:00.461 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:24:00.461 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.58s ago] ('admin@clarinet.ru',)
2026-02-18 16:24:00.461 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.58s ago] ('admin@clarinet.ru',)
2026-02-18 16:24:00.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:24:00.522 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:24:00.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:24:00.518574')
2026-02-18 16:24:00.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:24:00.518574')
2026-02-18 16:24:00.525 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:24:00.525 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:24:00.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('34604e25-f1b5-4955-b37a-50639989da76', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:24:00.523598', '2026-02-19 13:24:00.523451', '2026-02-18 13:24:00.523615', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:24:00.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('34604e25-f1b5-4955-b37a-50639989da76', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:24:00.523598', '2026-02-19 13:24:00.523451', '2026-02-18 13:24:00.523615', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:24:00.526 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:24:00.526 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:24:00.535 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:24:00.535 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:24:00.539 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.539 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.540 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:24:00.540 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:24:00.540 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('34604e25-f1b5-4955-b37a-50639989da76', '2026-02-18 13:24:00.539570')
2026-02-18 16:24:00.540 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('34604e25-f1b5-4955-b37a-50639989da76', '2026-02-18 13:24:00.539570')
2026-02-18 16:24:00.542 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:24:00.542 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:24:00.543 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('2026-02-18 13:24:00.541825', '34604e25-f1b5-4955-b37a-50639989da76')
2026-02-18 16:24:00.543 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00024s] ('2026-02-18 13:24:00.541825', '34604e25-f1b5-4955-b37a-50639989da76')
2026-02-18 16:24:00.543 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:24:00.543 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:24:00.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.556 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:24:00.556 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:24:00.556 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:24:00.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:24:00.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:24:00.561 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:24:00.561 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.589 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.589 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.590 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:35:31.590 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:35:31.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 703.7s ago] ('admin@clarinet.ru',)
2026-02-18 16:35:31.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 703.7s ago] ('admin@clarinet.ru',)
2026-02-18 16:35:31.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.652 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:35:31.651463')
2026-02-18 16:35:31.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:35:31.651463')
2026-02-18 16:35:31.653 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.653 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:35:31.653211', '2026-02-19 13:35:31.653096', '2026-02-18 13:35:31.653224', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:35:31.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:35:31.653211', '2026-02-19 13:35:31.653096', '2026-02-18 13:35:31.653224', 'python-httpx/0.28.1', '127.0.0.1')
2026-02-18 16:35:31.654 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.654 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.675 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:35:31.675 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', '2026-02-18 13:35:31.679132')
2026-02-18 16:35:31.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', '2026-02-18 13:35:31.679132')
2026-02-18 16:35:31.681 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:35:31.681 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:35:31.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('2026-02-18 13:35:31.680644', '5751094d-8123-4f32-9b2b-2b9895f3612a')
2026-02-18 16:35:31.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('2026-02-18 13:35:31.680644', '5751094d-8123-4f32-9b2b-2b9895f3612a')
2026-02-18 16:35:31.682 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.682 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.691 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.691 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:35:31.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:35:31.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:35:31.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:35:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.695 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', '2026-02-18 13:35:31.703095')
2026-02-18 16:35:31.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('5751094d-8123-4f32-9b2b-2b9895f3612a', '2026-02-18 13:35:31.703095')
2026-02-18 16:35:31.704 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:35:31.705 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:35:31.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('2026-02-18 13:35:31.704727', '5751094d-8123-4f32-9b2b-2b9895f3612a')
2026-02-18 16:35:31.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('2026-02-18 13:35:31.704727', '5751094d-8123-4f32-9b2b-2b9895f3612a')
2026-02-18 16:35:31.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:35:31.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 691.2s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:35:31.719 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.719 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.724 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.724 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('PAT001',)
2026-02-18 16:35:31.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('PAT001',)
2026-02-18 16:35:31.726 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.727 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.729 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.729 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.729 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.729 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004619s ago] ('PAT002',)
2026-02-18 16:35:31.730 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004619s ago] ('PAT002',)
2026-02-18 16:35:31.731 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.731 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.733 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.733 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.733 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.733 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.734 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008469s ago] ('PAT003',)
2026-02-18 16:35:31.735 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008469s ago] ('PAT003',)
2026-02-18 16:35:31.736 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.736 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.740 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.741 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.741 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.741 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01591s ago] ('PAT004',)
2026-02-18 16:35:31.741 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01591s ago] ('PAT004',)
2026-02-18 16:35:31.742 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.742 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient 
WHERE patient.id = ?
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02122s ago] ('PAT005',)
2026-02-18 16:35:31.746 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02122s ago] ('PAT005',)
2026-02-18 16:35:31.747 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.747 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 16:35:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.750 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.751 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.name, patient.anon_name, patient.id, patient.auto_id 
FROM patient
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] (100, 0)
2026-02-18 16:35:31.752 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] (100, 0)
2026-02-18 16:35:31.754 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.755 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.patient_id AS study_patient_id, study.date AS study_date, study.study_uid AS study_study_uid, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.patient_id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.755 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.755 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00032s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00042s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.762 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00042s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.764 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.764 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.768 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.768 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] (100, 0)
2026-02-18 16:35:31.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] (100, 0)
2026-02-18 16:35:31.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.793 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.793 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.795 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00033s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.797 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.797 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.800 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.800 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:35:31.806 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:35:31.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00063s] (100, 0)
2026-02-18 16:35:31.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00063s] (100, 0)
2026-02-18 16:35:31.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:35:31.810 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:35:31.810 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('doctor_review',)
2026-02-18 16:35:31.811 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00044s] ('doctor_review',)
2026-02-18 16:35:31.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:35:31.813 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.813 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:35:31.815 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.815 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.815 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.815 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00040s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:35:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:35:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:35:31.817 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:35:31.820 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:35:31.820 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.104 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.104 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.105 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:36:14.105 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:36:14.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 746.2s ago] ('admin@clarinet.ru',)
2026-02-18 16:36:14.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 746.2s ago] ('admin@clarinet.ru',)
2026-02-18 16:36:14.163 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:36:14.163 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:36:14.163 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.162798')
2026-02-18 16:36:14.163 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.162798')
2026-02-18 16:36:14.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:36:14.165 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:36:14.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.164456', 1, 0)
2026-02-18 16:36:14.165 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.164456', 1, 0)
2026-02-18 16:36:14.166 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:36:14.167 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:36:14.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3',)
2026-02-18 16:36:14.167 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ('0ac025d7-83d7-40fb-9be4-5171aea4c9c3',)
2026-02-18 16:36:14.167 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-18 16:36:14.168 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:36:14.168 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:36:14.168 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('82acad97-5fb1-4d6b-8051-fa09beae9660', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.168037', '2026-02-19 13:36:14.167936', '2026-02-18 13:36:14.168050', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:36:14.168 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('82acad97-5fb1-4d6b-8051-fa09beae9660', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:36:14.168037', '2026-02-19 13:36:14.167936', '2026-02-18 13:36:14.168050', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:36:14.169 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.169 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.179 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:36:14.179 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:36:14.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.185 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:36:14.186 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:36:14.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('82acad97-5fb1-4d6b-8051-fa09beae9660', '2026-02-18 13:36:14.185294')
2026-02-18 16:36:14.186 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('82acad97-5fb1-4d6b-8051-fa09beae9660', '2026-02-18 13:36:14.185294')
2026-02-18 16:36:14.188 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:36:14.188 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:36:14.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('2026-02-18 13:36:14.187791', '82acad97-5fb1-4d6b-8051-fa09beae9660')
2026-02-18 16:36:14.188 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('2026-02-18 13:36:14.187791', '82acad97-5fb1-4d6b-8051-fa09beae9660')
2026-02-18 16:36:14.189 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.189 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.201 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.202 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:36:14.202 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:36:14.202 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:36:14.202 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:36:14.202 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 733.6s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:36:14.203 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:36:14.203 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:44:13.597 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:44:13.597 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:44:13.598 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:44:13.598 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:44:13.598 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1226s ago] ('admin@clarinet.ru',)
2026-02-18 16:44:13.598 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1226s ago] ('admin@clarinet.ru',)
2026-02-18 16:44:13.665 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:44:13.665 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:44:13.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1213s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.664736')
2026-02-18 16:44:13.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1213s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.664736')
2026-02-18 16:44:13.667 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:44:13.667 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:44:13.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 479.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.667111', 1, 0)
2026-02-18 16:44:13.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 479.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.667111', 1, 0)
2026-02-18 16:44:13.669 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:44:13.669 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:44:13.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 479.5s ago] ('951a6c9c-9a3c-4e04-9385-e5e17770976d',)
2026-02-18 16:44:13.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 479.5s ago] ('951a6c9c-9a3c-4e04-9385-e5e17770976d',)
2026-02-18 16:44:13.670 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-18 16:44:13.671 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.671 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1213s ago] ('48a23dae-6d76-43c0-bac5-e1fd805e1397', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.670839', '2026-02-19 13:44:13.670728', '2026-02-18 13:44:13.670852', 'curl/8.5.0', '127.0.0.1')
2026-02-18 16:44:13.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1213s ago] ('48a23dae-6d76-43c0-bac5-e1fd805e1397', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:44:13.670839', '2026-02-19 13:44:13.670728', '2026-02-18 13:44:13.670852', 'curl/8.5.0', '127.0.0.1')
2026-02-18 16:44:13.672 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:44:13.672 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:44:13.682 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:44:13.682 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] (100, 0)
2026-02-18 16:44:13.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] (100, 0)
2026-02-18 16:44:13.694 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:44:13.694 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-18 16:44:13.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('doctor_review',)
2026-02-18 16:44:13.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('doctor_review',)
2026-02-18 16:44:13.696 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:44:13.696 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-18 16:44:13.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:44:13.696 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-18 16:44:13.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:44:13.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-18 16:44:13.699 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.699 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:44:13.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:44:13.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 521.9s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-18 16:44:13.701 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:44:13.701 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.189 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.190 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:57:05.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-18 16:57:05.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1997s ago] ('admin@clarinet.ru',)
2026-02-18 16:57:05.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1997s ago] ('admin@clarinet.ru',)
2026-02-18 16:57:05.249 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:57:05.250 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-18 16:57:05.250 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.249545')
2026-02-18 16:57:05.250 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.249545')
2026-02-18 16:57:05.251 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:57:05.251 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-18 16:57:05.251 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1251s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.251102', 1, 0)
2026-02-18 16:57:05.251 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1251s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.251102', 1, 0)
2026-02-18 16:57:05.252 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:57:05.253 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-18 16:57:05.253 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1251s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5',)
2026-02-18 16:57:05.253 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1251s ago] ('30a52fb4-c5d9-4aa0-a078-e971ac7b1ce5',)
2026-02-18 16:57:05.253 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-18 16:57:05.254 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:57:05.254 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-18 16:57:05.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('1784c9d3-71f1-42d1-96b5-909fa0353b36', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.253978', '2026-02-19 13:57:05.253882', '2026-02-18 13:57:05.253990', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:57:05.254 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('1784c9d3-71f1-42d1-96b5-909fa0353b36', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-18 13:57:05.253978', '2026-02-19 13:57:05.253882', '2026-02-18 13:57:05.253990', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-18 16:57:05.255 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.255 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.267 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-18 16:57:05.267 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-18 16:57:05.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.272 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:57:05.272 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-18 16:57:05.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('1784c9d3-71f1-42d1-96b5-909fa0353b36', '2026-02-18 13:57:05.272184')
2026-02-18 16:57:05.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('1784c9d3-71f1-42d1-96b5-909fa0353b36', '2026-02-18 13:57:05.272184')
2026-02-18 16:57:05.274 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:57:05.274 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-18 16:57:05.274 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('2026-02-18 13:57:05.273798', '1784c9d3-71f1-42d1-96b5-909fa0353b36')
2026-02-18 16:57:05.274 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('2026-02-18 13:57:05.273798', '1784c9d3-71f1-42d1-96b5-909fa0353b36')
2026-02-18 16:57:05.275 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.275 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.290 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.290 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 16:57:05.290 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:57:05.290 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-18 16:57:05.290 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:57:05.291 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1985s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-18 16:57:05.291 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 16:57:05.292 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-18 17:21:36.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 17:21:36.489 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 17:21:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 17:21:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 17:21:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-18 14:21:36.488921',)
2026-02-18 17:21:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-18 14:21:36.488921',)
2026-02-18 17:21:36.492 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 17:21:36.492 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 18:21:36.494 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 18:21:36.495 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 18:21:36.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 18:21:36.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 18:21:36.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7200s ago] ('2026-02-18 15:21:36.494324',)
2026-02-18 18:21:36.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7200s ago] ('2026-02-18 15:21:36.494324',)
2026-02-18 18:21:36.498 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 18:21:36.498 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 20:52:05.951 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 20:52:05.953 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 20:52:05.955 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 20:52:05.956 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 20:52:05.956 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.08e+04s ago] ('2026-02-18 17:52:05.941043',)
2026-02-18 20:52:05.957 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.08e+04s ago] ('2026-02-18 17:52:05.941043',)
2026-02-18 20:52:05.963 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 20:52:05.963 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 21:52:07.893 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 21:52:07.894 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 21:52:07.902 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 21:52:07.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 21:52:07.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.44e+04s ago] ('2026-02-18 18:52:07.892928',)
2026-02-18 21:52:07.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.44e+04s ago] ('2026-02-18 18:52:07.892928',)
2026-02-18 21:52:07.906 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 21:52:07.906 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 22:58:02.524 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 22:58:02.525 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-18 22:58:02.527 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 22:58:02.527 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-18 22:58:02.527 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.8e+04s ago] ('2026-02-18 19:58:02.516490',)
2026-02-18 22:58:02.528 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.8e+04s ago] ('2026-02-18 19:58:02.516490',)
2026-02-18 22:58:02.532 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-18 22:58:02.532 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 11:01:59.224 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 11:01:59.226 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 11:01:59.227 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 11:01:59.228 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 11:01:59.229 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.16e+04s ago] ('2026-02-19 08:01:59.220865',)
2026-02-19 11:01:59.229 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.16e+04s ago] ('2026-02-19 08:01:59.220865',)
2026-02-19 11:01:59.237 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 11:01:59.237 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 12:05:59.158 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 12:05:59.159 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 12:05:59.171 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 12:05:59.171 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 12:05:59.173 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.52e+04s ago] ('2026-02-19 09:05:59.132270',)
2026-02-19 12:05:59.173 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.52e+04s ago] ('2026-02-19 09:05:59.132270',)
2026-02-19 12:05:59.185 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 12:05:59.185 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 13:05:59.193 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:05:59.194 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:05:59.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 13:05:59.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 13:05:59.195 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.88e+04s ago] ('2026-02-19 10:05:59.191076',)
2026-02-19 13:05:59.195 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 2.88e+04s ago] ('2026-02-19 10:05:59.191076',)
2026-02-19 13:05:59.200 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 13:05:59.200 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 13:12:51.798 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-19 13:12:51.807 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-19 13:12:51.810 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-19 13:12:51.900 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-19 13:12:51.900 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-19 13:12:51.900 |                   INFO     |                   src.cli.main:run_with_frontend:292 -                   Press Ctrl+C to stop both servers
2026-02-19 13:12:51.946 |                   INFO     |                   src.cli.main:run_backend:206 -                   Starting backend server at http://127.0.0.1:8000
2026-02-19 13:12:52.493 |                   INFO     |                   src.api.app:create_app:177 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-19 13:12:52.494 |                   INFO     |                   src.cli.main:run_frontend_watch:220 -                   Starting frontend watch mode...
2026-02-19 13:12:52.495 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-19 13:12:52.512 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-19 13:12:52.513 |                   INFO     |                   src.cli.main:run_frontend_watch:252 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 13:12:52.518 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.519 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 13:12:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 13:12:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.520 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 13:12:52.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 13:12:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 13:12:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.522 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 13:12:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 13:12:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.523 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 13:12:52.524 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.524 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.524 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-19 13:12:52.524 |                   INFO     |                   src.api.app:lifespan:45 -                   Database initialized with async support
2026-02-19 13:12:52.525 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.525 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.555 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('doctor',)
2026-02-19 13:12:52.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('doctor',)
2026-02-19 13:12:52.556 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-19 13:12:52.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.557 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002519s ago] ('auto',)
2026-02-19 13:12:52.557 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002519s ago] ('auto',)
2026-02-19 13:12:52.558 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-19 13:12:52.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.558 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004153s ago] ('admin',)
2026-02-19 13:12:52.559 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004153s ago] ('admin',)
2026-02-19 13:12:52.559 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-19 13:12:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005415s ago] ('expert',)
2026-02-19 13:12:52.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005415s ago] ('expert',)
2026-02-19 13:12:52.560 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-19 13:12:52.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.561 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 13:12:52.561 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00657s ago] ('ordinator',)
2026-02-19 13:12:52.561 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00657s ago] ('ordinator',)
2026-02-19 13:12:52.561 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-19 13:12:52.562 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.562 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.562 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-19 13:12:52.562 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-19 13:12:52.567 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.567 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.569 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.569 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.569 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-19 13:12:52.569 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00027s] ('expert_check',)
2026-02-19 13:12:52.571 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-19 13:12:52.571 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.571 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.572 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.572 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.573 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.573 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.573 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004073s ago] ('ai_analysis',)
2026-02-19 13:12:52.573 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004073s ago] ('ai_analysis',)
2026-02-19 13:12:52.574 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-19 13:12:52.574 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.574 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00765s ago] ('doctor_review',)
2026-02-19 13:12:52.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00765s ago] ('doctor_review',)
2026-02-19 13:12:52.577 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-19 13:12:52.577 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.577 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.578 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.578 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 13:12:52.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 13:12:52.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ()
2026-02-19 13:12:52.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00029s] ()
2026-02-19 13:12:52.581 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.581 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:12:52.608 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-19 13:12:52.609 |                   INFO     |                   src.api.app:lifespan:88 -                   RecordFlow engine initialized
2026-02-19 13:12:52.609 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-19 13:12:52.609 |                   INFO     |                   src.api.app:lifespan:96 -                   Session cleanup service started
2026-02-19 13:12:52.609 |                   INFO     |                   src.api.app:lifespan:98 -                   Application startup complete
2026-02-19 13:12:52.610 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.610 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:12:52.612 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 13:12:52.612 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 13:12:52.612 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-19 10:12:52.609851',)
2026-02-19 13:12:52.612 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-19 10:12:52.609851',)
2026-02-19 13:12:52.613 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 13:12:52.614 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 13:13:07.874 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:07.874 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:07.876 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 13:13:07.876 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 13:13:07.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('admin@clarinet.ru',)
2026-02-19 13:13:07.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00038s] ('admin@clarinet.ru',)
2026-02-19 13:13:07.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 13:13:07.937 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 13:13:07.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.936038')
2026-02-19 13:13:07.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.936038')
2026-02-19 13:13:07.939 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 13:13:07.939 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 13:13:07.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.938672', 1, 0)
2026-02-19 13:13:07.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00045s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.938672', 1, 0)
2026-02-19 13:13:07.947 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 13:13:07.947 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 13:13:07.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('34604e25-f1b5-4955-b37a-50639989da76',)
2026-02-19 13:13:07.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('34604e25-f1b5-4955-b37a-50639989da76',)
2026-02-19 13:13:07.949 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-19 13:13:07.951 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 13:13:07.951 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 13:13:07.952 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.949894', '2026-02-20 10:13:07.949689', '2026-02-19 10:13:07.949909', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 13:13:07.952 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00039s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 10:13:07.949894', '2026-02-20 10:13:07.949689', '2026-02-19 10:13:07.949909', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 13:13:07.953 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:13:07.953 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:13:07.972 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 13:13:07.972 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 13:13:07.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:07.978 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:07.979 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 13:13:07.979 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 13:13:07.980 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61', '2026-02-19 10:13:07.978231')
2026-02-19 13:13:07.980 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61', '2026-02-19 10:13:07.978231')
2026-02-19 13:13:07.982 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 13:13:07.982 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 13:13:07.982 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-19 10:13:07.980940', '687bcd09-fa24-4f6d-88e0-7af9d07e1f61')
2026-02-19 13:13:07.982 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ('2026-02-19 10:13:07.980940', '687bcd09-fa24-4f6d-88e0-7af9d07e1f61')
2026-02-19 13:13:07.983 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:13:07.983 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:13:08.002 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:08.002 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 13:13:08.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 13:13:08.003 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 13:13:08.003 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 13:13:08.003 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 13:13:08.009 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 13:13:08.009 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 14:12:52.615 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 14:12:52.616 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 14:12:52.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 14:12:52.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 14:12:52.616 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-19 11:12:52.615206',)
2026-02-19 14:12:52.616 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-19 11:12:52.615206',)
2026-02-19 14:12:52.618 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 14:12:52.618 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 18:11:47.022 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:11:47.030 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:11:47.032 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 18:11:47.032 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 18:11:47.032 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7200s ago] ('2026-02-19 15:11:47.021668',)
2026-02-19 18:11:47.033 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7200s ago] ('2026-02-19 15:11:47.021668',)
2026-02-19 18:11:47.035 |                   INFO     |                   src.services.session_cleanup:_perform_cleanup:83 -                   Found 4 expired sessions to clean
2026-02-19 18:11:47.040 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (SELECT anon_1.token 
FROM (SELECT access_token.token AS token 
FROM access_token 
WHERE access_token.expires_at <= ?
 LIMIT ? OFFSET ?) AS anon_1) RETURNING token
2026-02-19 18:11:47.040 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (SELECT anon_1.token 
FROM (SELECT access_token.token AS token 
FROM access_token 
WHERE access_token.expires_at <= ?
 LIMIT ? OFFSET ?) AS anon_1) RETURNING token
2026-02-19 18:11:47.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('2026-02-19 15:11:47.035830', 1000, 0)
2026-02-19 18:11:47.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('2026-02-19 15:11:47.035830', 1000, 0)
2026-02-19 18:11:47.044 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:11:47.044 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:11:47.056 |                   INFO     |                   src.services.session_cleanup:_perform_cleanup:115 -                   Cleanup completed: removed 4 sessions
2026-02-19 18:11:47.058 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:11:47.058 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:11:47.059 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.created_at < ?
2026-02-19 18:11:47.059 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.created_at < ?
2026-02-19 18:11:47.059 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('2026-01-20 15:11:47.056995',)
2026-02-19 18:11:47.060 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ('2026-01-20 15:11:47.056995',)
2026-02-19 18:11:47.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:11:47.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.599 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.600 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.601 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 18:42:45.601 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 18:42:45.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9042s ago] ('admin@clarinet.ru',)
2026-02-19 18:42:45.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9042s ago] ('admin@clarinet.ru',)
2026-02-19 18:42:45.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 18:42:45.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 18:42:45.728 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 15:42:45.726567')
2026-02-19 18:42:45.728 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 15:42:45.726567')
2026-02-19 18:42:45.732 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 18:42:45.732 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 18:42:45.732 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('d84d588e-61d0-4408-baf4-980619626704', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 15:42:45.730892', '2026-02-20 15:42:45.730434', '2026-02-19 15:42:45.730921', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 18:42:45.732 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('d84d588e-61d0-4408-baf4-980619626704', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 15:42:45.730892', '2026-02-20 15:42:45.730434', '2026-02-19 15:42:45.730921', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 18:42:45.737 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.737 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.749 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 18:42:45.749 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 18:42:45.761 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.761 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.763 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 18:42:45.764 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 18:42:45.764 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('d84d588e-61d0-4408-baf4-980619626704', '2026-02-19 15:42:45.760732')
2026-02-19 18:42:45.764 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('d84d588e-61d0-4408-baf4-980619626704', '2026-02-19 15:42:45.760732')
2026-02-19 18:42:45.767 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 18:42:45.767 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 18:42:45.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('2026-02-19 15:42:45.766792', 'd84d588e-61d0-4408-baf4-980619626704')
2026-02-19 18:42:45.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('2026-02-19 15:42:45.766792', 'd84d588e-61d0-4408-baf4-980619626704')
2026-02-19 18:42:45.770 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.770 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.783 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.783 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 18:42:45.784 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 18:42:45.784 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 18:42:45.784 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 18:42:45.785 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9043s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 18:42:45.792 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 18:42:45.793 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 19:06:26.850 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Incorrect arity
     /home/nest/Projects/clarinet/src/frontend/src/store.gleam:143:3
      
143     Model(
144       route: router.Home,
145       user: None,
146       loading: False,
     
167       modal_content: NoModal,
168     )
     ^ Expected 25 arguments, got 24

This call accepts these additional labelled arguments:

  - admin_stats


2026-02-19 19:06:29.037 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Incorrect arity
     /home/nest/Projects/clarinet/src/frontend/src/store.gleam:143:3
      
143     Model(
144       route: router.Home,
145       user: None,
146       loading: False,
     
167       modal_content: NoModal,
168     )
     ^ Expected 25 arguments, got 24

This call accepts these additional labelled arguments:

  - admin_stats


2026-02-19 19:06:31.228 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Incorrect arity
     /home/nest/Projects/clarinet/src/frontend/src/store.gleam:146:3
      
146     Model(
147       route: router.Home,
148       user: None,
149       loading: False,
     
170       modal_content: NoModal,
171     )
     ^ Expected 25 arguments, got 24

This call accepts these additional labelled arguments:

  - admin_stats


2026-02-19 19:06:33.418 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Incorrect arity
     /home/nest/Projects/clarinet/src/frontend/src/store.gleam:146:3
      
146     Model(
147       route: router.Home,
148       user: None,
149       loading: False,
     
170       modal_content: NoModal,
171     )
     ^ Expected 25 arguments, got 24

This call accepts these additional labelled arguments:

  - admin_stats


2026-02-19 19:06:42.198 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:26:3
     
26     case route {
27       Home -> "/"
28       Login -> "/login"
29       Register -> "/register"
    
39       NotFound -> "/404"
40     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard

error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:78:3
     
78     case route {
79       Home -> "Dashboard"
80       Login -> "Login"
81       Register -> "Register"
    
91       NotFound -> "Page Not Found"
92     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:44.371 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:26:3
     
26     case route {
27       Home -> "/"
28       Login -> "/login"
29       Register -> "/register"
    
39       NotFound -> "/404"
40     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard

error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:78:3
     
78     case route {
79       Home -> "Dashboard"
80       Login -> "Login"
81       Register -> "Register"
    
91       NotFound -> "Page Not Found"
92     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:46.542 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:79:3
     
79     case route {
80       Home -> "Dashboard"
81       Login -> "Login"
82       Register -> "Register"
    
92       NotFound -> "Page Not Found"
93     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:48.722 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:79:3
     
79     case route {
80       Home -> "Dashboard"
81       Login -> "Login"
82       Register -> "Register"
    
92       NotFound -> "Page Not Found"
93     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:50.901 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:79:3
     
79     case route {
80       Home -> "Dashboard"
81       Login -> "Login"
82       Register -> "Register"
    
92       NotFound -> "Page Not Found"
93     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:53.073 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:80:3
     
80     case route {
81       Home -> "Dashboard"
82       Login -> "Login"
83       Register -> "Register"
    
93       NotFound -> "Page Not Found"
94     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:55.246 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
error: Inexhaustive patterns
    /home/nest/Projects/clarinet/src/frontend/src/router.gleam:80:3
     
80     case route {
81       Home -> "Dashboard"
82       Login -> "Login"
83       Register -> "Register"
    
93       NotFound -> "Page Not Found"
94     }
    ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    AdminDashboard


2026-02-19 19:06:57.444 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:06:59.659 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:01.875 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:04.068 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:06.268 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:08.477 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:10.675 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:12.859 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:15.048 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:17.249 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:19.443 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:21.638 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:23.829 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:26.021 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:28.206 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:30.391 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:32.595 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:34.800 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:36.993 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:39.184 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:41.369 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:43.574 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:45.773 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:47.983 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:50.194 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:25:1
   
25  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:312:17
      
312      let content = case model.route {
     ^
313       router.Home -> home.view(model)
314       router.Login -> login.view(model)
315       router.Register -> register.view(model)
     
324       router.NotFound -> html.div([], [html.text("404 - Page not found")])
325     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:52.381 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:26:1
   
26  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:313:17
      
313      let content = case model.route {
     ^
314       router.Home -> home.view(model)
315       router.Login -> login.view(model)
316       router.Register -> register.view(model)
     
325       router.NotFound -> html.div([], [html.text("404 - Page not found")])
326     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:54.578 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:26:1
   
26  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:313:17
      
313      let content = case model.route {
     ^
314       router.Home -> home.view(model)
315       router.Login -> login.view(model)
316       router.Register -> register.view(model)
     
325       router.NotFound -> html.div([], [html.text("404 - Page not found")])
326     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:56.775 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:314:17
      
314      let content = case model.route {
     ^
315       router.Home -> home.view(model)
316       router.Login -> login.view(model)
317       router.Register -> register.view(model)
     
326       router.NotFound -> html.div([], [html.text("404 - Page not found")])
327     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:07:58.977 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:314:17
      
314      let content = case model.route {
     ^
315       router.Home -> home.view(model)
316       router.Login -> login.view(model)
317       router.Register -> register.view(model)
     
326       router.NotFound -> html.div([], [html.text("404 - Page not found")])
327     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:08:01.177 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:314:17
      
314      let content = case model.route {
     ^
315       router.Home -> home.view(model)
316       router.Login -> login.view(model)
317       router.Register -> register.view(model)
     
326       router.NotFound -> html.div([], [html.text("404 - Page not found")])
327     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:08:03.384 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/main.gleam:2:1
  
2  import api/admin
   ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:314:17
      
314      let content = case model.route {
     ^
315       router.Home -> home.view(model)
316       router.Login -> login.view(model)
317       router.Register -> register.view(model)
     
326       router.NotFound -> html.div([], [html.text("404 - Page not found")])
327     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:08:05.576 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:339:17
      
339      let content = case model.route {
     ^
340       router.Home -> home.view(model)
341       router.Login -> login.view(model)
342       router.Register -> register.view(model)
     
351       router.NotFound -> html.div([], [html.text("404 - Page not found")])
352     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:08:07.768 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:339:17
      
339      let content = case model.route {
     ^
340       router.Home -> home.view(model)
341       router.Login -> login.view(model)
342       router.Register -> register.view(model)
     
351       router.NotFound -> html.div([], [html.text("404 - Page not found")])
352     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:08:09.962 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/types.gleam:2:22
  
2  import gleam/option.{type Option}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
    /home/nest/Projects/clarinet/src/frontend/src/api/http_client.gleam:12:29
   
12  import gleam/http/response.{type Response}
                                ^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/models.gleam:3:44
  
3    type DicomQueryLevel, type RecordStatus, type UserRole as UserRoleEnum,
                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/api/admin.gleam:5:1
  
5  import gleam/dict
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/src/api/auth.gleam:9:22
  
9  import gleam/option.{type Option, None, Some}
                        ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/utils/dom.gleam:2:1
  
2  import gleam/dynamic
   ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:4:23
  
4  import gleam/dynamic.{type Dynamic}
                         ^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:34:5
   
34      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:41:5
   
41      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:48:5
   
48      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:58:5
   
58      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:67:5
   
67      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:74:5
   
74      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
    /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:90:5
   
90      _ -> should.fail()
        ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:161:5
    
161      Error(_) -> should.fail()
         ^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:165:5
    
165      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:171:5
    
171      Ok(_) -> should.fail()
         ^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:252:5
    
252      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:259:5
    
259      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
     /home/nest/Projects/clarinet/src/frontend/test/http_client_test.gleam:266:5
    
266      _ -> should.fail()
         ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

  Compiling clarinet_frontend
warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:12:1
   
12  import gleam/result
    ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/store.gleam:14:1
   
14  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:2:1
  
2  import api/models
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   /home/nest/Projects/clarinet/src/frontend/src/components/layout.gleam:3:1
  
3  import gleam/list
   ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:21:1
   
21  import pages/admin as admin_page
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
    /home/nest/Projects/clarinet/src/frontend/src/main.gleam:27:1
   
27  import utils/dom
    ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

error: Inexhaustive patterns
     /home/nest/Projects/clarinet/src/frontend/src/main.gleam:339:17
      
339      let content = case model.route {
     ^
340       router.Home -> home.view(model)
341       router.Login -> login.view(model)
342       router.Register -> register.view(model)
     
351       router.NotFound -> html.div([], [html.text("404 - Page not found")])
352     }
     ^

This case expression does not have a pattern for all possible values. If it
is run on one of the values without a pattern then it will crash.

The missing patterns are:

    router.AdminDashboard


2026-02-19 19:11:47.924 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 19:11:47.925 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 19:11:47.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 19:11:47.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 19:11:47.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.08e+04s ago] ('2026-02-19 16:11:47.923186',)
2026-02-19 19:11:47.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1.08e+04s ago] ('2026-02-19 16:11:47.923186',)
2026-02-19 19:11:47.934 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 19:11:47.934 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:02:36.920 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-19 20:02:36.922 |                   INFO     |                   src.api.app:lifespan:106 -                   Session cleanup service stopped
2026-02-19 20:02:36.924 |                   INFO     |                   src.api.app:lifespan:112 -                   RecordFlow client closed
2026-02-19 20:02:36.932 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-19 20:02:36.935 |                   INFO     |                   src.api.app:lifespan:118 -                   Application shutdown
2026-02-19 20:02:36.940 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-19 20:03:13.524 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-19 20:04:33.046 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-19 20:04:33.047 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-19 20:04:33.051 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-19 20:04:33.218 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-19 20:04:33.218 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-19 20:04:33.218 |                   INFO     |                   src.cli.main:run_with_frontend:292 -                   Press Ctrl+C to stop both servers
2026-02-19 20:04:33.312 |                   INFO     |                   src.cli.main:run_backend:206 -                   Starting backend server at http://127.0.0.1:8000
2026-02-19 20:04:34.445 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-19 20:04:34.447 |                   INFO     |                   src.cli.main:run_frontend_watch:220 -                   Starting frontend watch mode...
2026-02-19 20:04:34.448 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-19 20:04:34.474 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-19 20:04:34.476 |                   INFO     |                   src.cli.main:run_frontend_watch:252 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-19 20:04:34.482 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.483 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.483 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 20:04:34.484 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 20:04:34.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.487 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 20:04:34.488 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 20:04:34.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.491 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 20:04:34.491 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 20:04:34.492 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.492 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.494 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 20:04:34.494 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 20:04:34.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.497 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 20:04:34.497 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 20:04:34.497 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.497 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.499 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 20:04:34.499 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 20:04:34.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.502 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 20:04:34.502 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 20:04:34.503 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.503 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.505 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 20:04:34.505 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 20:04:34.506 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.506 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.508 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 20:04:34.508 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 20:04:34.509 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.509 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:04:34.511 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.512 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.513 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-19 20:04:34.513 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-19 20:04:34.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.575 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.575 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.575 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('doctor',)
2026-02-19 20:04:34.575 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('doctor',)
2026-02-19 20:04:34.578 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-19 20:04:34.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.579 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005107s ago] ('auto',)
2026-02-19 20:04:34.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005107s ago] ('auto',)
2026-02-19 20:04:34.582 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-19 20:04:34.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00936s ago] ('admin',)
2026-02-19 20:04:34.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00936s ago] ('admin',)
2026-02-19 20:04:34.586 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-19 20:04:34.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01282s ago] ('expert',)
2026-02-19 20:04:34.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01282s ago] ('expert',)
2026-02-19 20:04:34.589 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-19 20:04:34.590 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.590 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:04:34.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01611s ago] ('ordinator',)
2026-02-19 20:04:34.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01611s ago] ('ordinator',)
2026-02-19 20:04:34.593 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-19 20:04:34.594 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.594 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.595 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-19 20:04:34.595 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-19 20:04:34.607 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.607 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('expert_check',)
2026-02-19 20:04:34.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('expert_check',)
2026-02-19 20:04:34.614 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-19 20:04:34.614 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.614 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.618 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.619 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009735s ago] ('ai_analysis',)
2026-02-19 20:04:34.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009735s ago] ('ai_analysis',)
2026-02-19 20:04:34.622 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-19 20:04:34.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.627 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.627 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.627 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.628 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:04:34.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01791s ago] ('doctor_review',)
2026-02-19 20:04:34.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01791s ago] ('doctor_review',)
2026-02-19 20:04:34.630 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-19 20:04:34.630 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.630 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.632 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.632 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.634 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 20:04:34.634 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 20:04:34.634 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ()
2026-02-19 20:04:34.635 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ()
2026-02-19 20:04:34.637 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.637 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:34.686 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-19 20:04:34.686 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-19 20:04:34.686 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-19 20:04:34.687 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-19 20:04:34.687 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-19 20:04:34.687 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-19 20:04:34.687 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-19 20:04:34.687 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-19 20:04:34.687 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-19 20:04:34.687 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-19 20:04:34.689 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.689 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:34.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 20:04:34.694 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 20:04:34.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('2026-02-19 17:04:34.688634',)
2026-02-19 20:04:34.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('2026-02-19 17:04:34.688634',)
2026-02-19 20:04:34.698 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:04:34.698 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:04:50.769 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.769 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.772 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:04:50.773 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:04:50.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00109s] ('admin@clarinet.ru',)
2026-02-19 20:04:50.773 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00109s] ('admin@clarinet.ru',)
2026-02-19 20:04:50.905 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:04:50.906 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:04:50.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00091s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:04:50.903387')
2026-02-19 20:04:50.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00091s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:04:50.903387')
2026-02-19 20:04:50.912 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:04:50.912 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:04:50.912 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:04:50.909340', '2026-02-20 17:04:50.909092', '2026-02-19 17:04:50.909386', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:04:50.912 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:04:50.909340', '2026-02-20 17:04:50.909092', '2026-02-19 17:04:50.909386', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:04:50.925 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:50.926 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:50.938 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:04:50.939 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:04:50.965 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.965 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.967 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:04:50.967 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:04:50.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e', '2026-02-19 17:04:50.964668')
2026-02-19 20:04:50.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e', '2026-02-19 17:04:50.964668')
2026-02-19 20:04:50.973 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:04:50.973 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-19 17:04:50.971182', 'bd39cec8-772c-4c0f-806f-e60f4e7b3d1e')
2026-02-19 20:04:50.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-19 17:04:50.971182', 'bd39cec8-772c-4c0f-806f-e60f4e7b3d1e')
2026-02-19 20:04:50.976 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:50.976 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.989 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:04:50.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:04:50.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:04:50.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:04:50.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:04:51.006 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:04:51.006 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:25:40.773 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-19 20:25:40.781 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-19 20:25:40.782 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-19 20:25:40.784 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-19 20:25:40.784 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-19 20:25:40.785 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-19 20:26:16.330 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-19 20:26:19.252 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-19 20:26:19.253 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-19 20:26:19.256 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-19 20:26:19.425 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-19 20:26:19.426 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-19 20:26:19.426 |                   INFO     |                   src.cli.main:run_with_frontend:292 -                   Press Ctrl+C to stop both servers
2026-02-19 20:26:19.506 |                   INFO     |                   src.cli.main:run_backend:206 -                   Starting backend server at http://127.0.0.1:8000
2026-02-19 20:26:20.636 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-19 20:26:20.637 |                   INFO     |                   src.cli.main:run_frontend_watch:220 -                   Starting frontend watch mode...
2026-02-19 20:26:20.638 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-19 20:26:20.665 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-19 20:26:20.668 |                   INFO     |                   src.cli.main:run_frontend_watch:252 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-19 20:26:20.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.675 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.676 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 20:26:20.676 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-19 20:26:20.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.680 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 20:26:20.680 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-19 20:26:20.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.683 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 20:26:20.683 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-19 20:26:20.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.685 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 20:26:20.686 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-19 20:26:20.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.688 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 20:26:20.688 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-19 20:26:20.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.691 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 20:26:20.691 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-19 20:26:20.691 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.694 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 20:26:20.694 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-19 20:26:20.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.696 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 20:26:20.697 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-19 20:26:20.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.699 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 20:26:20.699 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-19 20:26:20.700 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.700 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-19 20:26:20.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.702 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.704 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-19 20:26:20.704 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-19 20:26:20.706 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.706 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.762 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('doctor',)
2026-02-19 20:26:20.763 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('doctor',)
2026-02-19 20:26:20.765 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-19 20:26:20.766 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.767 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005037s ago] ('auto',)
2026-02-19 20:26:20.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005037s ago] ('auto',)
2026-02-19 20:26:20.770 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-19 20:26:20.771 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.771 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009156s ago] ('admin',)
2026-02-19 20:26:20.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009156s ago] ('admin',)
2026-02-19 20:26:20.773 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-19 20:26:20.774 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.774 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01283s ago] ('expert',)
2026-02-19 20:26:20.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01283s ago] ('expert',)
2026-02-19 20:26:20.777 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-19 20:26:20.778 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.778 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-19 20:26:20.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01635s ago] ('ordinator',)
2026-02-19 20:26:20.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01635s ago] ('ordinator',)
2026-02-19 20:26:20.780 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-19 20:26:20.781 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.781 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.783 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-19 20:26:20.783 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-19 20:26:20.794 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.794 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.798 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('expert_check',)
2026-02-19 20:26:20.798 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] ('expert_check',)
2026-02-19 20:26:20.801 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-19 20:26:20.802 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.802 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.806 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.806 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.807 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.807 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009773s ago] ('ai_analysis',)
2026-02-19 20:26:20.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009773s ago] ('ai_analysis',)
2026-02-19 20:26:20.810 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-19 20:26:20.810 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.810 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.815 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.815 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.816 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.816 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-19 20:26:20.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01855s ago] ('doctor_review',)
2026-02-19 20:26:20.816 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01855s ago] ('doctor_review',)
2026-02-19 20:26:20.819 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-19 20:26:20.820 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.820 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.822 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.822 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.824 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 20:26:20.824 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-19 20:26:20.825 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ()
2026-02-19 20:26:20.825 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ()
2026-02-19 20:26:20.828 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.828 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:20.879 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-19 20:26:20.880 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-19 20:26:20.880 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-19 20:26:20.880 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-19 20:26:20.881 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-19 20:26:20.881 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-19 20:26:20.881 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-19 20:26:20.881 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-19 20:26:20.881 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-19 20:26:20.881 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-19 20:26:20.883 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.883 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:20.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 20:26:20.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-19 20:26:20.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00082s] ('2026-02-19 17:26:20.882452',)
2026-02-19 20:26:20.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00082s] ('2026-02-19 17:26:20.882452',)
2026-02-19 20:26:20.892 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:26:20.893 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:26:32.543 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.543 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.546 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:26:32.546 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:26:32.547 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00132s] ('admin@clarinet.ru',)
2026-02-19 20:26:32.547 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00132s] ('admin@clarinet.ru',)
2026-02-19 20:26:32.645 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:26:32.645 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:26:32.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:26:32.644065')
2026-02-19 20:26:32.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:26:32.644065')
2026-02-19 20:26:32.652 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:26:32.653 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:26:32.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00091s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:26:32.649076', '2026-02-20 17:26:32.648765', '2026-02-19 17:26:32.649104', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:26:32.653 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00091s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:26:32.649076', '2026-02-20 17:26:32.648765', '2026-02-19 17:26:32.649104', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:26:32.658 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:32.658 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:32.670 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:26:32.670 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:26:32.687 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.687 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:26:32.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:26:32.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00052s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5', '2026-02-19 17:26:32.686764')
2026-02-19 20:26:32.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00052s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5', '2026-02-19 17:26:32.686764')
2026-02-19 20:26:32.694 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:26:32.695 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:26:32.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('2026-02-19 17:26:32.692602', '85da43a6-bc1b-4653-9adc-786cfe69b6d5')
2026-02-19 20:26:32.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00071s] ('2026-02-19 17:26:32.692602', '85da43a6-bc1b-4653-9adc-786cfe69b6d5')
2026-02-19 20:26:32.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:32.698 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:32.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:26:32.712 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:26:32.712 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:26:32.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:26:32.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00058s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:26:32.724 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:26:32.725 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.373 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.374 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.375 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:27:30.375 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:27:30.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('admin@clarinet.ru',)
2026-02-19 20:27:30.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('admin@clarinet.ru',)
2026-02-19 20:27:30.487 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:27:30.487 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:27:30.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.84s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:27:30.486471')
2026-02-19 20:27:30.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.84s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:27:30.486471')
2026-02-19 20:27:30.492 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:27:30.493 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:27:30.493 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.84s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:27:30.491300', '2026-02-20 17:27:30.490971', '2026-02-19 17:27:30.491330', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:27:30.493 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.84s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:27:30.491300', '2026-02-20 17:27:30.490971', '2026-02-19 17:27:30.491330', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:27:30.497 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.497 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.509 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:27:30.509 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:27:30.520 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.520 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.521 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:27:30.521 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:27:30.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e', '2026-02-19 17:27:30.519068')
2026-02-19 20:27:30.521 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e', '2026-02-19 17:27:30.519068')
2026-02-19 20:27:30.525 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:27:30.525 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:27:30.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('2026-02-19 17:27:30.524419', '0d869f41-ac60-4655-9a74-1c8ed6f27b2e')
2026-02-19 20:27:30.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('2026-02-19 17:27:30.524419', '0d869f41-ac60-4655-9a74-1c8ed6f27b2e')
2026-02-19 20:27:30.527 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.527 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.539 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.539 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:27:30.540 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:27:30.540 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:27:30.540 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:27:30.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 57.83s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:27:30.551 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:27:30.551 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:40:08.182 |                   ERROR    |                   src.cli.main:run_frontend_watch:268 -                   Frontend build failed: error: File IO failure

An error occurred while trying to read this file:

    /home/nest/Projects/clarinet/src/frontend/build/packages/houdini/gleam.toml

The error message from the file IO library was:

    No such file or directory (os error 2)



2026-02-19 20:41:04.947 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:04.947 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:04.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:41:04.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:41:04.949 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.4s ago] ('admin@clarinet.ru',)
2026-02-19 20:41:04.949 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.4s ago] ('admin@clarinet.ru',)
2026-02-19 20:41:05.095 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:41:05.095 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:41:05.096 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.094567')
2026-02-19 20:41:05.096 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.094567')
2026-02-19 20:41:05.105 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:41:05.105 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:41:05.105 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00095s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.100224', 1, 0)
2026-02-19 20:41:05.106 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00095s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.100224', 1, 0)
2026-02-19 20:41:05.119 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:41:05.119 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:41:05.120 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00228s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61',)
2026-02-19 20:41:05.120 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00228s] ('687bcd09-fa24-4f6d-88e0-7af9d07e1f61',)
2026-02-19 20:41:05.123 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-19 20:41:05.125 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:41:05.125 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:41:05.126 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('781785e8-bb97-4509-bb25-dc8624270e02', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.124445', '2026-02-20 17:41:05.123990', '2026-02-19 17:41:05.124478', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:41:05.126 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('781785e8-bb97-4509-bb25-dc8624270e02', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:41:05.124445', '2026-02-20 17:41:05.123990', '2026-02-19 17:41:05.124478', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:41:05.129 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:41:05.129 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:41:05.142 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:41:05.143 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:41:05.152 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:05.153 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:05.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:41:05.154 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:41:05.154 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('781785e8-bb97-4509-bb25-dc8624270e02', '2026-02-19 17:41:05.152036')
2026-02-19 20:41:05.155 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('781785e8-bb97-4509-bb25-dc8624270e02', '2026-02-19 17:41:05.152036')
2026-02-19 20:41:05.163 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:41:05.163 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:41:05.164 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('2026-02-19 17:41:05.162571', '781785e8-bb97-4509-bb25-dc8624270e02')
2026-02-19 20:41:05.164 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('2026-02-19 17:41:05.162571', '781785e8-bb97-4509-bb25-dc8624270e02')
2026-02-19 20:41:05.166 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:41:05.166 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:41:05.179 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:05.179 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:41:05.180 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:41:05.180 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:41:05.181 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:41:05.181 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 872.5s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:41:05.188 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:41:05.188 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.341 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.342 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.342 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:42:27.342 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:42:27.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('admin@clarinet.ru',)
2026-02-19 20:42:27.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('admin@clarinet.ru',)
2026-02-19 20:42:27.482 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:42:27.483 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:42:27.483 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.482177')
2026-02-19 20:42:27.483 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.482177')
2026-02-19 20:42:27.487 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:42:27.488 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:42:27.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 82.38s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.485997', 1, 0)
2026-02-19 20:42:27.488 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 82.38s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.485997', 1, 0)
2026-02-19 20:42:27.491 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:42:27.491 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:42:27.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 82.37s ago] ('d84d588e-61d0-4408-baf4-980619626704',)
2026-02-19 20:42:27.492 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 82.37s ago] ('d84d588e-61d0-4408-baf4-980619626704',)
2026-02-19 20:42:27.494 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-19 20:42:27.495 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:42:27.495 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:42:27.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.494910', '2026-02-20 17:42:27.494657', '2026-02-19 17:42:27.494942', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:42:27.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.8s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:42:27.494910', '2026-02-20 17:42:27.494657', '2026-02-19 17:42:27.494942', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:42:27.498 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.498 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.513 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:42:27.514 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:42:27.542 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.543 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.544 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:42:27.544 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:42:27.545 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b', '2026-02-19 17:42:27.542372')
2026-02-19 20:42:27.545 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b', '2026-02-19 17:42:27.542372')
2026-02-19 20:42:27.548 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:42:27.548 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:42:27.549 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('2026-02-19 17:42:27.548004', '51bf832e-54d9-4dfa-af28-bb389f74070b')
2026-02-19 20:42:27.549 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('2026-02-19 17:42:27.548004', '51bf832e-54d9-4dfa-af28-bb389f74070b')
2026-02-19 20:42:27.552 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.552 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.564 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.564 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:42:27.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:42:27.565 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:42:27.565 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:42:27.565 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 954.9s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:42:27.568 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:42:27.568 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:34.366 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:34.367 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:34.368 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:43:34.368 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:43:34.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1022s ago] ('admin@clarinet.ru',)
2026-02-19 20:43:34.368 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1022s ago] ('admin@clarinet.ru',)
2026-02-19 20:43:34.507 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:43:34.507 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-19 20:43:50.773 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:50.773 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:50.774 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:43:50.774 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-19 20:43:50.774 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('admin@clarinet.ru',)
2026-02-19 20:43:50.775 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('admin@clarinet.ru',)
2026-02-19 20:43:50.975 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:43:50.975 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-19 20:43:50.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.974152')
2026-02-19 20:43:50.976 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.974152')
2026-02-19 20:43:50.979 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:43:50.980 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-19 20:43:50.980 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 165.9s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.978989', 1, 0)
2026-02-19 20:43:50.980 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 165.9s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.978989', 1, 0)
2026-02-19 20:43:50.984 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:43:50.984 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-19 20:43:50.984 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 165.9s ago] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e',)
2026-02-19 20:43:50.985 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 165.9s ago] ('bd39cec8-772c-4c0f-806f-e60f4e7b3d1e',)
2026-02-19 20:43:50.995 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-19 20:43:50.996 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:50.997 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:50.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.995860', '2026-02-20 17:43:50.995534', '2026-02-19 17:43:50.995917', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:43:50.997 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1038s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-19 17:43:50.995860', '2026-02-20 17:43:50.995534', '2026-02-19 17:43:50.995917', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-19 20:43:50.999 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:50.999 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.011 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-19 20:43:51.012 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-19 20:43:51.351 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.351 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.351 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:43:51.352 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:43:51.352 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:43:51.350606')
2026-02-19 20:43:51.352 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:43:51.350606')
2026-02-19 20:43:51.355 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:43:51.356 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:43:51.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('2026-02-19 17:43:51.354959', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:43:51.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('2026-02-19 17:43:51.354959', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:43:51.358 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.358 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.379 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.379 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.380 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:43:51.380 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:43:51.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:43:51.381 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1039s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:43:51.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.387 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.944 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.944 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.946 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.946 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] (100, 0)
2026-02-19 20:43:51.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] (100, 0)
2026-02-19 20:43:51.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.952 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.966 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.967 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.967 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00152s] (100, 0)
2026-02-19 20:43:51.968 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00152s] (100, 0)
2026-02-19 20:43:51.971 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.972 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:43:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:43:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (100, 0)
2026-02-19 20:43:51.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (100, 0)
2026-02-19 20:43:51.982 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.983 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:51.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:51.991 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:51.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00128s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:43:51.992 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00128s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:43:51.998 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:43:51.998 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:43:51.999 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00191s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:43:51.999 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00191s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:43:52.009 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:52.010 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:52.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00144s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:43:52.010 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00144s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:43:52.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:52.015 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:43:52.015 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00117s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:43:52.015 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00117s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:43:52.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:43:52.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:43:52.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00106s] ('doctor_review',)
2026-02-19 20:43:52.022 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00106s] ('doctor_review',)
2026-02-19 20:43:52.029 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:52.030 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:52.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:43:52.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:43:52.037 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:43:52.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:43:52.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:43:52.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:03.638 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:03.638 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:03.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:44:03.639 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:44:03.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.66s ago] (100, 0)
2026-02-19 20:44:03.640 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.66s ago] (100, 0)
2026-02-19 20:44:03.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:03.646 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:03.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.65s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:03.646 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.65s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:03.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:03.651 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:03.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.64s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:03.652 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.64s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:03.658 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:03.658 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:04.205 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:04.206 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:04.206 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:44:04.207 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-19 20:44:04.207 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.23s ago] (100, 0)
2026-02-19 20:44:04.207 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.23s ago] (100, 0)
2026-02-19 20:44:04.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:04.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:04.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.22s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:04.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.22s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:04.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:04.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:04.225 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.21s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:04.226 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 12.21s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:04.229 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:04.229 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:05.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:05.697 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:44:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:44:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.73s ago] (100, 0)
2026-02-19 20:44:05.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.73s ago] (100, 0)
2026-02-19 20:44:05.705 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:05.705 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:05.705 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.71s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:05.706 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.71s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:05.710 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:05.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:05.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.7s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:44:05.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.7s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:44:05.716 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:44:05.717 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:44:05.717 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.7s ago] ('doctor_review',)
2026-02-19 20:44:05.717 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.7s ago] ('doctor_review',)
2026-02-19 20:44:05.722 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:05.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:05.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.69s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:05.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 13.69s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:05.731 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:05.731 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:06.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:06.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:06.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:44:06.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-19 20:44:06.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.31s ago] (100, 0)
2026-02-19 20:44:06.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.31s ago] (100, 0)
2026-02-19 20:44:06.287 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:06.288 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:06.288 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.3s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:06.289 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.3s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-19 20:44:06.293 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:06.293 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-19 20:44:06.293 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.28s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:44:06.293 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.28s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-19 20:44:06.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:44:06.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-19 20:44:06.298 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.28s ago] ('doctor_review',)
2026-02-19 20:44:06.298 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.28s ago] ('doctor_review',)
2026-02-19 20:44:06.303 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:06.303 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-19 20:44:06.303 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.27s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:06.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.27s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-19 20:44:06.308 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:06.309 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:06.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:06.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:06.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:44:06.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:44:06.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.76s ago] (100, 0)
2026-02-19 20:44:06.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 14.76s ago] (100, 0)
2026-02-19 20:44:06.707 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:06.707 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:07.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:07.272 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:07.272 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:44:07.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-19 20:44:07.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 15.33s ago] (100, 0)
2026-02-19 20:44:07.273 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 15.33s ago] (100, 0)
2026-02-19 20:44:07.277 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:07.277 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.073 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.073 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.074 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:44:08.074 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:44:08.074 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:44:08.072358')
2026-02-19 20:44:08.075 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:44:08.072358')
2026-02-19 20:44:08.079 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:44:08.079 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:44:08.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('2026-02-19 17:44:08.077770', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:44:08.080 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('2026-02-19 17:44:08.077770', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:44:08.084 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.084 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.098 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.098 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.099 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:44:08.099 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:44:08.100 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:44:08.100 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1055s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:44:08.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-19 20:44:08.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-19 20:44:08.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ()
2026-02-19 20:44:08.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ()
2026-02-19 20:44:08.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-19 20:44:08.110 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-19 20:44:08.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00134s] ()
2026-02-19 20:44:08.111 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00134s] ()
2026-02-19 20:44:08.116 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-19 20:44:08.117 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-19 20:44:08.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00119s] ()
2026-02-19 20:44:08.117 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00119s] ()
2026-02-19 20:44:08.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-19 20:44:08.123 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-19 20:44:08.123 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00113s] ()
2026-02-19 20:44:08.124 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00113s] ()
2026-02-19 20:44:08.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-19 20:44:08.129 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-19 20:44:08.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ()
2026-02-19 20:44:08.129 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ()
2026-02-19 20:44:08.134 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.134 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.647 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.647 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:44:08.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-19 20:44:08.648 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:44:08.647000')
2026-02-19 20:44:08.649 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('8973e2ec-f34d-4f82-9ae8-84ead6114b09', '2026-02-19 17:44:08.647000')
2026-02-19 20:44:08.653 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:44:08.654 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-19 20:44:08.654 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('2026-02-19 17:44:08.652463', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:44:08.654 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('2026-02-19 17:44:08.652463', '8973e2ec-f34d-4f82-9ae8-84ead6114b09')
2026-02-19 20:44:08.657 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.657 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.670 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.670 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-19 20:44:08.671 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:44:08.671 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-19 20:44:08.672 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:44:08.672 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 1056s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-19 20:44:08.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-19 20:44:08.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-19 20:44:08.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5722s ago] ()
2026-02-19 20:44:08.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5722s ago] ()
2026-02-19 20:44:08.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-19 20:44:08.679 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-19 20:44:08.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5696s ago] ()
2026-02-19 20:44:08.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5696s ago] ()
2026-02-19 20:44:08.681 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-19 20:44:08.681 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-19 20:44:08.682 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5657s ago] ()
2026-02-19 20:44:08.682 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5657s ago] ()
2026-02-19 20:44:08.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-19 20:44:08.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-19 20:44:08.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5619s ago] ()
2026-02-19 20:44:08.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5619s ago] ()
2026-02-19 20:44:08.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-19 20:44:08.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-19 20:44:08.687 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5583s ago] ()
2026-02-19 20:44:08.687 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.5583s ago] ()
2026-02-19 20:44:08.689 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-19 20:44:08.689 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 13:17:50.058 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 13:17:50.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 13:17:50.065 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 13:17:50.065 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 13:17:50.067 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-20 10:17:50.051960',)
2026-02-20 13:17:50.068 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 3600s ago] ('2026-02-20 10:17:50.051960',)
2026-02-20 13:17:50.081 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 13:17:50.081 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 13:52:25.182 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 13:52:25.186 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 13:52:25.187 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 13:52:25.197 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 13:52:25.198 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 13:52:25.201 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-20 14:00:18.399 |                   INFO     |                   src.cli.main:signal_handler:281 -                   
Shutting down servers...
2026-02-20 14:05:11.132 |                   INFO     |                   src.cli.main:run_server:95 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 14:05:11.133 |                   INFO     |                   src.cli.main:run_with_frontend:165 -                   Frontend not built. Building now...
2026-02-20 14:05:11.136 |                   INFO     |                   src.cli.main:run_with_frontend:188 -                   Building frontend...
2026-02-20 14:05:11.409 |                   INFO     |                   src.cli.main:run_with_frontend:192 -                   Frontend built successfully
2026-02-20 14:05:11.409 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 14:05:11.409 |                   INFO     |                   src.cli.main:run_with_frontend:292 -                   Press Ctrl+C to stop both servers
2026-02-20 14:05:11.469 |                   INFO     |                   src.cli.main:run_backend:205 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 14:05:12.106 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 14:05:12.107 |                   INFO     |                   src.cli.main:run_frontend_watch:219 -                   Starting frontend watch mode...
2026-02-20 14:05:12.108 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 14:05:12.127 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 14:05:12.128 |                   INFO     |                   src.cli.main:run_frontend_watch:251 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 14:05:12.133 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.133 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.133 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:05:12.133 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:05:12.133 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.134 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.136 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:05:12.136 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:05:12.136 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.136 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.137 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:05:12.138 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:05:12.138 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.138 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.139 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:05:12.139 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:05:12.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.139 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.140 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:05:12.140 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:05:12.140 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.140 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.141 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:05:12.141 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:05:12.142 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.142 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.143 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:05:12.143 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:05:12.143 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.143 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.144 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:05:12.144 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:05:12.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.146 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:05:12.146 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:05:12.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.146 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:05:12.148 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.148 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.148 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 14:05:12.148 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 14:05:12.149 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.149 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.190 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('doctor',)
2026-02-20 14:05:12.191 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00046s] ('doctor',)
2026-02-20 14:05:12.192 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 14:05:12.193 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.193 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003245s ago] ('auto',)
2026-02-20 14:05:12.193 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003245s ago] ('auto',)
2026-02-20 14:05:12.195 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 14:05:12.195 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.196 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005762s ago] ('admin',)
2026-02-20 14:05:12.196 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005762s ago] ('admin',)
2026-02-20 14:05:12.197 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 14:05:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008063s ago] ('expert',)
2026-02-20 14:05:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.008063s ago] ('expert',)
2026-02-20 14:05:12.199 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 14:05:12.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.200 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:05:12.200 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01001s ago] ('ordinator',)
2026-02-20 14:05:12.200 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01001s ago] ('ordinator',)
2026-02-20 14:05:12.201 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 14:05:12.201 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.201 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.202 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 14:05:12.202 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 14:05:12.208 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.208 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('expert_check',)
2026-02-20 14:05:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00037s] ('expert_check',)
2026-02-20 14:05:12.212 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 14:05:12.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.212 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.215 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.215 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.216 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.216 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.216 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006494s ago] ('ai_analysis',)
2026-02-20 14:05:12.216 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006494s ago] ('ai_analysis',)
2026-02-20 14:05:12.218 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 14:05:12.218 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.218 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01179s ago] ('doctor_review',)
2026-02-20 14:05:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01179s ago] ('doctor_review',)
2026-02-20 14:05:12.223 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 14:05:12.223 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.223 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:05:12.225 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:05:12.226 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ()
2026-02-20 14:05:12.226 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00026s] ()
2026-02-20 14:05:12.227 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.227 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:05:12.259 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 14:05:12.260 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 14:05:12.260 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 14:05:12.260 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 14:05:12.261 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 14:05:12.262 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.262 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:05:12.265 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:05:12.265 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:05:12.265 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('2026-02-20 11:05:12.261600',)
2026-02-20 14:05:12.265 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ('2026-02-20 11:05:12.261600',)
2026-02-20 14:05:12.268 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:05:12.268 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:05:15.298 |                   INFO     |                   src.cli.main:signal_handler:282 -                   Shutting down servers...
2026-02-20 14:05:15.298 |                   INFO     |                   src.cli.main:run_with_frontend:301 -                   Servers stopped
2026-02-20 14:05:15.298 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 14:05:15.298 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 14:05:15.304 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 14:05:15.305 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 14:05:15.305 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 14:14:34.794 |                   INFO     |                   src.cli.main:run_server:95 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 14:14:34.796 |                   INFO     |                   src.cli.main:run_with_frontend:165 -                   Frontend not built. Building now...
2026-02-20 14:14:34.801 |                   INFO     |                   src.cli.main:run_with_frontend:188 -                   Building frontend...
2026-02-20 14:14:35.169 |                   INFO     |                   src.cli.main:run_with_frontend:192 -                   Frontend built successfully
2026-02-20 14:14:35.250 |                   INFO     |                   src.cli.main:run_with_frontend:289 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 14:14:35.250 |                   INFO     |                   src.cli.main:run_with_frontend:290 -                   Press Ctrl+C to stop both servers
2026-02-20 14:14:35.251 |                   INFO     |                   src.cli.main:run_backend:213 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 14:14:36.422 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 14:14:36.423 |                   INFO     |                   src.cli.main:run_frontend_watch:218 -                   Starting frontend watch mode...
2026-02-20 14:14:36.425 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 14:14:36.452 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 14:14:36.454 |                   INFO     |                   src.cli.main:run_frontend_watch:250 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 14:14:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.462 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.463 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:14:36.463 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:14:36.463 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.464 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.467 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:14:36.467 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:14:36.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.470 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:14:36.470 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:14:36.471 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.471 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.473 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:14:36.473 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:14:36.473 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.473 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.475 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:14:36.475 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:14:36.475 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.477 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:14:36.477 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:14:36.478 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.478 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.479 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:14:36.479 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:14:36.480 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.480 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.481 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:14:36.481 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:14:36.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.483 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:14:36.483 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:14:36.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.484 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:14:36.486 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.487 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.488 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 14:14:36.488 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 14:14:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.490 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.552 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.552 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.553 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00075s] ('doctor',)
2026-02-20 14:14:36.553 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00075s] ('doctor',)
2026-02-20 14:14:36.556 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 14:14:36.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.558 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.559 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006989s ago] ('auto',)
2026-02-20 14:14:36.559 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006989s ago] ('auto',)
2026-02-20 14:14:36.562 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 14:14:36.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.564 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01228s ago] ('admin',)
2026-02-20 14:14:36.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01228s ago] ('admin',)
2026-02-20 14:14:36.566 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 14:14:36.567 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.568 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.568 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01601s ago] ('expert',)
2026-02-20 14:14:36.568 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01601s ago] ('expert',)
2026-02-20 14:14:36.570 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 14:14:36.571 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.571 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:14:36.571 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01968s ago] ('ordinator',)
2026-02-20 14:14:36.572 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01968s ago] ('ordinator',)
2026-02-20 14:14:36.574 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 14:14:36.574 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.574 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.576 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 14:14:36.576 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 14:14:36.588 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.588 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.591 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.591 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.592 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('expert_check',)
2026-02-20 14:14:36.592 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00062s] ('expert_check',)
2026-02-20 14:14:36.595 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 14:14:36.595 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.596 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.600 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.600 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009575s ago] ('ai_analysis',)
2026-02-20 14:14:36.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009575s ago] ('ai_analysis',)
2026-02-20 14:14:36.603 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 14:14:36.604 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.604 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.610 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.610 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.611 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.611 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:14:36.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02029s ago] ('doctor_review',)
2026-02-20 14:14:36.612 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.02029s ago] ('doctor_review',)
2026-02-20 14:14:36.614 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 14:14:36.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.617 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.617 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:14:36.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:14:36.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ()
2026-02-20 14:14:36.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ()
2026-02-20 14:14:36.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.623 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:14:36.673 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 14:14:36.674 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 14:14:36.675 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 14:14:36.675 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 14:14:36.675 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 14:14:36.675 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 14:14:36.675 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 14:14:36.675 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 14:14:36.676 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 14:14:36.676 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 14:14:36.677 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.677 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:14:36.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:14:36.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:14:36.682 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ('2026-02-20 11:14:36.676899',)
2026-02-20 14:14:36.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ('2026-02-20 11:14:36.676899',)
2026-02-20 14:14:36.687 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:14:36.687 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:14:38.994 |                   INFO     |                   src.cli.main:signal_handler:281 -                   Shutting down servers...
2026-02-20 14:14:38.995 |                   INFO     |                   src.cli.main:run_with_frontend:299 -                   Servers stopped
2026-02-20 14:14:38.995 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 14:14:38.995 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 14:14:39.011 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 14:14:39.013 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 14:14:39.013 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 14:15:32.173 |                   INFO     |                   src.cli.main:run_server:95 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 14:15:32.174 |                   INFO     |                   src.cli.main:run_with_frontend:165 -                   Frontend not built. Building now...
2026-02-20 14:15:32.178 |                   INFO     |                   src.cli.main:run_with_frontend:188 -                   Building frontend...
2026-02-20 14:15:32.340 |                   INFO     |                   src.cli.main:run_with_frontend:192 -                   Frontend built successfully
2026-02-20 14:15:32.422 |                   INFO     |                   src.cli.main:run_with_frontend:289 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 14:15:32.422 |                   INFO     |                   src.cli.main:run_with_frontend:290 -                   Press Ctrl+C to stop both servers
2026-02-20 14:15:32.423 |                   INFO     |                   src.cli.main:run_backend:213 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 14:15:33.552 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 14:15:33.554 |                   INFO     |                   src.cli.main:run_frontend_watch:218 -                   Starting frontend watch mode...
2026-02-20 14:15:33.555 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 14:15:33.577 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 14:15:33.579 |                   INFO     |                   src.cli.main:run_frontend_watch:250 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 14:15:33.585 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.585 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.586 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:15:33.586 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:15:33.586 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.590 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:15:33.590 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:15:33.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.593 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:15:33.593 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:15:33.593 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.593 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.595 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:15:33.596 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:15:33.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.598 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:15:33.598 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:15:33.598 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.599 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.600 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:15:33.601 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:15:33.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.603 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:15:33.604 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:15:33.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.606 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:15:33.606 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:15:33.606 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.606 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.608 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:15:33.608 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:15:33.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:15:33.611 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.611 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.612 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 14:15:33.612 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 14:15:33.614 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.614 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('doctor',)
2026-02-20 14:15:33.680 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ('doctor',)
2026-02-20 14:15:33.683 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 14:15:33.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00518s ago] ('auto',)
2026-02-20 14:15:33.685 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.00518s ago] ('auto',)
2026-02-20 14:15:33.687 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 14:15:33.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009604s ago] ('admin',)
2026-02-20 14:15:33.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009604s ago] ('admin',)
2026-02-20 14:15:33.692 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 14:15:33.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.693 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01391s ago] ('expert',)
2026-02-20 14:15:33.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01391s ago] ('expert',)
2026-02-20 14:15:33.696 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 14:15:33.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:15:33.697 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01776s ago] ('ordinator',)
2026-02-20 14:15:33.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01776s ago] ('ordinator',)
2026-02-20 14:15:33.700 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 14:15:33.700 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.700 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.702 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 14:15:33.702 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 14:15:33.714 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.715 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('expert_check',)
2026-02-20 14:15:33.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ('expert_check',)
2026-02-20 14:15:33.721 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 14:15:33.722 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.722 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.726 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.726 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.727 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009479s ago] ('ai_analysis',)
2026-02-20 14:15:33.728 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009479s ago] ('ai_analysis',)
2026-02-20 14:15:33.730 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 14:15:33.730 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.731 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.735 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.735 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.736 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.736 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:15:33.736 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01806s ago] ('doctor_review',)
2026-02-20 14:15:33.736 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01806s ago] ('doctor_review',)
2026-02-20 14:15:33.739 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 14:15:33.739 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.739 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.742 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.742 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.744 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:15:33.745 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:15:33.745 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ()
2026-02-20 14:15:33.745 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ()
2026-02-20 14:15:33.748 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.748 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:15:33.793 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 14:15:33.794 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 14:15:33.794 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 14:15:33.795 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 14:15:33.795 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 14:15:33.795 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 14:15:33.795 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 14:15:33.795 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 14:15:33.795 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 14:15:33.795 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 14:15:33.797 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.797 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:15:33.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:15:33.803 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:15:33.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('2026-02-20 11:15:33.796734',)
2026-02-20 14:15:33.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('2026-02-20 11:15:33.796734',)
2026-02-20 14:15:33.808 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:15:33.808 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:15:36.775 |                   INFO     |                   src.cli.main:signal_handler:281 -                   Shutting down servers...
2026-02-20 14:15:36.776 |                   INFO     |                   src.cli.main:run_with_frontend:299 -                   Servers stopped
2026-02-20 14:15:36.776 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 14:15:36.776 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 14:15:36.791 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 14:15:36.793 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 14:15:36.793 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 14:38:43.754 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 14:38:43.755 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-20 14:38:43.759 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-20 14:38:43.982 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-20 14:38:44.029 |                   INFO     |                   src.cli.main:run_with_frontend:290 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 14:38:44.029 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Press Ctrl+C to stop both servers
2026-02-20 14:38:44.029 |                   INFO     |                   src.cli.main:run_backend:214 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 14:38:44.599 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 14:38:44.600 |                   INFO     |                   src.cli.main:run_frontend_watch:219 -                   Starting frontend watch mode...
2026-02-20 14:38:44.601 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 14:38:44.619 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 14:38:44.621 |                   INFO     |                   src.cli.main:run_frontend_watch:251 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 14:38:44.625 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.626 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.626 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:38:44.626 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 14:38:44.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.626 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.628 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:38:44.628 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 14:38:44.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.629 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:38:44.629 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 14:38:44.629 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.629 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:38:44.630 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 14:38:44.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.631 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:38:44.631 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 14:38:44.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.632 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:38:44.632 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 14:38:44.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.633 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:38:44.633 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 14:38:44.633 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.633 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.634 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:38:44.634 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 14:38:44.634 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.634 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 14:38:44.635 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.635 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.635 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 14:38:44.636 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 14:38:44.637 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.637 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.673 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00043s] ('doctor',)
2026-02-20 14:38:44.673 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00043s] ('doctor',)
2026-02-20 14:38:44.674 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 14:38:44.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002757s ago] ('auto',)
2026-02-20 14:38:44.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.002757s ago] ('auto',)
2026-02-20 14:38:44.676 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 14:38:44.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.676 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004028s ago] ('admin',)
2026-02-20 14:38:44.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.004028s ago] ('admin',)
2026-02-20 14:38:44.677 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 14:38:44.677 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.677 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.677 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005163s ago] ('expert',)
2026-02-20 14:38:44.677 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.005163s ago] ('expert',)
2026-02-20 14:38:44.678 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 14:38:44.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 14:38:44.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006177s ago] ('ordinator',)
2026-02-20 14:38:44.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006177s ago] ('ordinator',)
2026-02-20 14:38:44.679 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 14:38:44.679 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.679 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.679 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 14:38:44.680 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 14:38:44.684 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.684 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('expert_check',)
2026-02-20 14:38:44.686 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00031s] ('expert_check',)
2026-02-20 14:38:44.687 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 14:38:44.688 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.688 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.689 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.689 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.690 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003646s ago] ('ai_analysis',)
2026-02-20 14:38:44.690 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.003646s ago] ('ai_analysis',)
2026-02-20 14:38:44.690 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 14:38:44.690 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.690 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006201s ago] ('doctor_review',)
2026-02-20 14:38:44.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006201s ago] ('doctor_review',)
2026-02-20 14:38:44.693 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 14:38:44.693 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.693 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.694 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.694 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:38:44.695 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 14:38:44.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ()
2026-02-20 14:38:44.695 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00025s] ()
2026-02-20 14:38:44.696 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.696 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 14:38:44.728 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 14:38:44.729 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 14:38:44.729 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 14:38:44.729 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 14:38:44.729 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 14:38:44.730 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.730 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 14:38:44.732 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:38:44.732 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 14:38:44.733 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('2026-02-20 11:38:44.730239',)
2026-02-20 14:38:44.733 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00036s] ('2026-02-20 11:38:44.730239',)
2026-02-20 14:38:44.735 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:38:44.735 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 14:38:46.799 |                   INFO     |                   src.cli.main:signal_handler:282 -                   Shutting down servers...
2026-02-20 14:38:46.945 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 14:38:46.945 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 14:38:46.959 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 14:38:46.960 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 14:38:46.960 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 14:38:46.961 |                   INFO     |                   src.cli.main:run_with_frontend:308 -                   Servers stopped
2026-02-20 14:38:46.961 |                   INFO     |                   src.cli.main:signal_handler:282 -                   Shutting down servers...
2026-02-20 20:08:13.362 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 20:08:13.363 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-20 20:08:13.366 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-20 20:08:13.532 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-20 20:08:13.616 |                   INFO     |                   src.cli.main:run_with_frontend:290 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 20:08:13.617 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Press Ctrl+C to stop both servers
2026-02-20 20:08:13.617 |                   INFO     |                   src.cli.main:run_backend:214 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 20:08:14.732 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 20:08:14.734 |                   INFO     |                   src.cli.main:run_frontend_watch:219 -                   Starting frontend watch mode...
2026-02-20 20:08:14.736 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 20:08:14.764 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 20:08:14.766 |                   INFO     |                   src.cli.main:run_frontend_watch:251 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 20:08:14.774 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.774 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.775 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 20:08:14.775 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 20:08:14.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.776 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.780 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 20:08:14.780 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 20:08:14.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 20:08:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 20:08:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.783 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.785 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 20:08:14.785 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 20:08:14.786 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.786 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.788 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 20:08:14.788 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 20:08:14.789 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.789 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.791 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 20:08:14.791 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 20:08:14.791 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.792 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.794 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 20:08:14.794 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 20:08:14.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.796 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 20:08:14.797 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 20:08:14.797 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.797 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.799 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 20:08:14.799 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 20:08:14.800 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.800 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:08:14.803 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.803 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.804 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 20:08:14.805 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 20:08:14.807 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.807 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.866 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ('doctor',)
2026-02-20 20:08:14.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ('doctor',)
2026-02-20 20:08:14.870 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 20:08:14.871 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.871 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006449s ago] ('auto',)
2026-02-20 20:08:14.872 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006449s ago] ('auto',)
2026-02-20 20:08:14.874 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 20:08:14.875 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.875 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.875 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01001s ago] ('admin',)
2026-02-20 20:08:14.875 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01001s ago] ('admin',)
2026-02-20 20:08:14.877 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 20:08:14.878 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.878 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.878 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01325s ago] ('expert',)
2026-02-20 20:08:14.879 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01325s ago] ('expert',)
2026-02-20 20:08:14.880 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 20:08:14.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:08:14.882 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01646s ago] ('ordinator',)
2026-02-20 20:08:14.882 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01646s ago] ('ordinator',)
2026-02-20 20:08:14.884 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 20:08:14.884 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.885 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.886 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 20:08:14.886 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 20:08:14.897 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.897 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.901 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('expert_check',)
2026-02-20 20:08:14.901 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] ('expert_check',)
2026-02-20 20:08:14.904 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 20:08:14.904 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.904 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.909 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.909 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.909 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.909 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.910 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009285s ago] ('ai_analysis',)
2026-02-20 20:08:14.910 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009285s ago] ('ai_analysis',)
2026-02-20 20:08:14.912 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 20:08:14.912 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.912 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.916 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.917 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.917 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.917 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:08:14.918 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01721s ago] ('doctor_review',)
2026-02-20 20:08:14.918 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01721s ago] ('doctor_review',)
2026-02-20 20:08:14.920 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 20:08:14.920 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.920 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.923 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.923 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.925 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 20:08:14.926 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 20:08:14.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ()
2026-02-20 20:08:14.926 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00057s] ()
2026-02-20 20:08:14.929 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.929 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:14.977 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 20:08:14.978 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 20:08:14.978 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 20:08:14.978 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 20:08:14.978 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 20:08:14.978 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 20:08:14.979 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 20:08:14.979 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 20:08:14.979 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 20:08:14.979 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 20:08:14.981 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.981 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:14.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 20:08:14.985 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 20:08:14.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] ('2026-02-20 17:08:14.980388',)
2026-02-20 20:08:14.986 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00092s] ('2026-02-20 17:08:14.980388',)
2026-02-20 20:08:14.990 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 20:08:14.990 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 20:08:46.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.580 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:08:46.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:08:46.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] ('admin@clarinet.ru',)
2026-02-20 20:08:46.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] ('admin@clarinet.ru',)
2026-02-20 20:08:46.700 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:08:46.700 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:08:46.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.698314')
2026-02-20 20:08:46.701 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00090s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.698314')
2026-02-20 20:08:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.704706', 1, 0)
2026-02-20 20:08:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.704706', 1, 0)
2026-02-20 20:08:46.722 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:08:46.723 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:08:46.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00118s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5',)
2026-02-20 20:08:46.723 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00118s] ('85da43a6-bc1b-4653-9adc-786cfe69b6d5',)
2026-02-20 20:08:46.726 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-20 20:08:46.730 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.730 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.730 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.726917', '2026-02-21 17:08:46.726589', '2026-02-20 17:08:46.726948', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:08:46.730 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:08:46.726917', '2026-02-21 17:08:46.726589', '2026-02-20 17:08:46.726948', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:08:46.733 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.733 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.745 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-20 20:08:46.745 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-20 20:08:46.758 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.758 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.761 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:46.761 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:46.761 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:46.757684')
2026-02-20 20:08:46.761 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00073s] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:46.757684')
2026-02-20 20:08:46.767 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:46.767 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:46.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-20 17:08:46.764707', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:46.767 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00072s] ('2026-02-20 17:08:46.764707', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.770 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.782 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.783 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.785 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:46.785 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:46.785 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:46.785 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00076s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.802 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.829 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.829 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.852 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] (100, 0)
2026-02-20 20:08:46.853 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] (100, 0)
2026-02-20 20:08:46.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.861 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.862 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00149s] (100, 0)
2026-02-20 20:08:46.862 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00149s] (100, 0)
2026-02-20 20:08:46.864 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.864 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:46.866 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.866 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:46.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] (100, 0)
2026-02-20 20:08:46.867 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] (100, 0)
2026-02-20 20:08:46.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:46.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:46.927 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:46.928 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:46.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.932 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00125s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:46.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00125s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:46.934 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.935 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.942 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.943 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.943 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00127s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:46.943 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00127s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:46.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:46.948 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:46.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00081s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:46.948 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00081s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:46.956 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.956 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:46.956 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00120s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:46.957 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00120s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:46.968 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.968 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.976 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:46.977 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:46.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00122s] ('doctor_review',)
2026-02-20 20:08:46.977 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00122s] ('doctor_review',)
2026-02-20 20:08:46.984 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:46.984 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:52.346 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:52.347 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:52.348 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:52.348 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:52.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.488s ago] (100, 0)
2026-02-20 20:08:52.348 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.488s ago] (100, 0)
2026-02-20 20:08:52.353 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.423s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:52.354 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.423s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:52.359 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:52.359 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:52.360 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.412s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:52.360 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.412s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:52.364 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:52.365 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:52.374 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:52.374 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:52.375 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:52.375 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:52.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.515s ago] (100, 0)
2026-02-20 20:08:52.376 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.515s ago] (100, 0)
2026-02-20 20:08:52.379 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:52.380 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:52.380 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.449s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:52.380 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.449s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:52.386 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.44s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:52.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.44s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:52.392 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:52.392 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:54.276 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:54.276 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:54.277 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:54.277 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:54.277 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.417s ago] (100, 0)
2026-02-20 20:08:54.278 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.417s ago] (100, 0)
2026-02-20 20:08:54.283 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:54.283 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:54.283 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.353s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:54.284 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.353s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:54.288 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:54.289 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:54.289 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.341s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:54.289 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.341s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:54.293 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:54.293 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:54.302 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:54.302 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:54.302 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:54.303 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:08:54.303 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.442s ago] (100, 0)
2026-02-20 20:08:54.303 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.442s ago] (100, 0)
2026-02-20 20:08:54.307 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:54.307 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:54.308 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.377s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:54.308 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.377s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:54.313 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:54.313 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:54.314 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.366s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:54.314 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 7.366s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:54.317 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:54.317 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:55.295 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:55.296 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:55.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:55.297 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:55.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.445s ago] (100, 0)
2026-02-20 20:08:55.297 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.445s ago] (100, 0)
2026-02-20 20:08:55.303 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:55.304 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:55.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.377s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:55.304 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.377s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:55.308 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.309 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.309 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.367s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:55.309 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.367s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:55.314 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.315 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.315 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.36s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:55.316 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.36s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:55.321 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:55.321 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:55.322 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.346s ago] ('doctor_review',)
2026-02-20 20:08:55.322 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.346s ago] ('doctor_review',)
2026-02-20 20:08:55.327 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:55.327 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:55.339 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:55.339 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:55.340 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:55.340 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:55.341 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.489s ago] (100, 0)
2026-02-20 20:08:55.341 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.489s ago] (100, 0)
2026-02-20 20:08:55.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:55.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:55.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.419s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:55.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.419s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:55.351 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.351 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.352 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.409s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:55.352 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.409s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:55.356 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.356 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:55.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.401s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:55.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.401s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:55.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:55.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:55.361 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.386s ago] ('doctor_review',)
2026-02-20 20:08:55.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.386s ago] ('doctor_review',)
2026-02-20 20:08:55.366 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:55.366 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:56.336 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:56.336 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:56.337 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:56.338 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:56.338 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.486s ago] (100, 0)
2026-02-20 20:08:56.338 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.486s ago] (100, 0)
2026-02-20 20:08:56.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:56.345 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:56.345 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.419s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:56.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.419s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:56.350 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.350 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.350 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.408s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:56.351 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.408s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:56.356 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.356 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.356 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.401s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:56.357 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.401s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:56.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:56.362 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:56.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.386s ago] ('doctor_review',)
2026-02-20 20:08:56.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.386s ago] ('doctor_review',)
2026-02-20 20:08:56.367 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:56.367 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:56.377 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:56.377 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:56.378 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:56.378 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:08:56.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.527s ago] (100, 0)
2026-02-20 20:08:56.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.527s ago] (100, 0)
2026-02-20 20:08:56.383 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:56.383 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:08:56.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.456s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:56.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.456s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:08:56.386 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.386 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.445s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:56.387 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.445s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:08:56.390 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.390 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:08:56.391 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.435s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:56.391 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.435s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:08:56.395 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:56.395 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:08:56.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.42s ago] ('doctor_review',)
2026-02-20 20:08:56.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 9.42s ago] ('doctor_review',)
2026-02-20 20:08:56.401 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:56.401 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:57.143 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.144 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.144 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:57.144 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:57.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 10.28s ago] (100, 0)
2026-02-20 20:08:57.145 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 10.28s ago] (100, 0)
2026-02-20 20:08:57.149 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:57.149 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:57.159 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.159 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.160 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:57.160 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:08:57.160 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 10.29s ago] (100, 0)
2026-02-20 20:08:57.160 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 10.29s ago] (100, 0)
2026-02-20 20:08:57.164 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:57.164 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:57.999 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.999 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:57.999 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:58.000 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:58.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.24s ago] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:57.998400')
2026-02-20 20:08:58.000 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.24s ago] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:57.998400')
2026-02-20 20:08:58.004 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:58.005 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:58.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.24s ago] ('2026-02-20 17:08:58.003501', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:58.005 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.24s ago] ('2026-02-20 17:08:58.003501', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:58.008 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.008 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.028 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.029 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:58.030 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:58.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.25s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:58.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.25s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:58.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:08:58.037 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:08:58.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00118s] ()
2026-02-20 20:08:58.038 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00118s] ()
2026-02-20 20:08:58.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:08:58.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:08:58.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ()
2026-02-20 20:08:58.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ()
2026-02-20 20:08:58.045 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:08:58.046 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:08:58.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ()
2026-02-20 20:08:58.046 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00053s] ()
2026-02-20 20:08:58.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:08:58.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:08:58.050 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ()
2026-02-20 20:08:58.050 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00050s] ()
2026-02-20 20:08:58.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:08:58.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:08:58.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ()
2026-02-20 20:08:58.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] ()
2026-02-20 20:08:58.057 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.057 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.066 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.067 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.067 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:58.068 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:08:58.068 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.31s ago] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:58.066317')
2026-02-20 20:08:58.068 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.31s ago] ('2f32cfb6-c74b-46cf-b4f0-b9b5341308e1', '2026-02-20 17:08:58.066317')
2026-02-20 20:08:58.072 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:58.072 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:08:58.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.31s ago] ('2026-02-20 17:08:58.071244', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:58.072 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.31s ago] ('2026-02-20 17:08:58.071244', '2f32cfb6-c74b-46cf-b4f0-b9b5341308e1')
2026-02-20 20:08:58.074 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.075 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.087 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.088 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:08:58.088 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:58.088 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:08:58.089 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.3s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:58.089 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.3s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:08:58.092 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:08:58.092 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:08:58.092 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05597s ago] ()
2026-02-20 20:08:58.093 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05597s ago] ()
2026-02-20 20:08:58.095 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:08:58.095 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:08:58.096 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05403s ago] ()
2026-02-20 20:08:58.096 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05403s ago] ()
2026-02-20 20:08:58.098 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:08:58.099 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:08:58.099 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05353s ago] ()
2026-02-20 20:08:58.099 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05353s ago] ()
2026-02-20 20:08:58.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:08:58.101 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:08:58.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05266s ago] ()
2026-02-20 20:08:58.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05266s ago] ()
2026-02-20 20:08:58.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:08:58.104 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:08:58.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05117s ago] ()
2026-02-20 20:08:58.104 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.05117s ago] ()
2026-02-20 20:08:58.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:08:58.107 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.237 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.237 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.238 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:09:21.238 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:09:21.239 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('admin@clarinet.ru',)
2026-02-20 20:09:21.239 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('admin@clarinet.ru',)
2026-02-20 20:09:21.357 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:09:21.358 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:09:21.358 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.356835')
2026-02-20 20:09:21.358 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.356835')
2026-02-20 20:09:21.362 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.362 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.363 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.361604', 1, 0)
2026-02-20 20:09:21.363 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.66s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.361604', 1, 0)
2026-02-20 20:09:21.366 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:09:21.367 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:09:21.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.65s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e',)
2026-02-20 20:09:21.367 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.65s ago] ('0d869f41-ac60-4655-9a74-1c8ed6f27b2e',)
2026-02-20 20:09:21.369 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-20 20:09:21.371 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.372 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.372 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.370289', '2026-02-21 17:09:21.369849', '2026-02-20 17:09:21.370339', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:09:21.372 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:09:21.370289', '2026-02-21 17:09:21.369849', '2026-02-20 17:09:21.370339', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:09:21.374 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.374 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.386 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-20 20:09:21.387 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-20 20:09:21.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.399 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:21.400 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:21.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:21.398380')
2026-02-20 20:09:21.400 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:21.398380')
2026-02-20 20:09:21.404 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:21.404 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:21.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('2026-02-20 17:09:21.403395', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:21.404 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('2026-02-20 17:09:21.403395', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:21.406 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.407 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.419 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.419 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.420 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:21.420 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:21.420 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:21.420 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.64s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:21.423 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.424 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.449 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.449 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.450 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.450 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.6s ago] (100, 0)
2026-02-20 20:09:21.451 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.6s ago] (100, 0)
2026-02-20 20:09:21.455 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.455 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.456 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.456 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.457 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.6s ago] (100, 0)
2026-02-20 20:09:21.457 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.6s ago] (100, 0)
2026-02-20 20:09:21.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.459 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:21.460 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.460 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:21.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.59s ago] (100, 0)
2026-02-20 20:09:21.460 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.59s ago] (100, 0)
2026-02-20 20:09:21.467 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:21.467 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:21.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:21.468 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:21.471 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.471 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.472 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:21.472 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:21.474 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.474 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.481 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.482 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.482 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:21.483 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:21.485 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:21.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:21.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:21.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:21.493 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.493 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:21.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:21.494 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.54s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:21.496 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.496 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.502 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:21.502 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:21.502 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.53s ago] ('doctor_review',)
2026-02-20 20:09:21.503 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 34.53s ago] ('doctor_review',)
2026-02-20 20:09:21.508 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:21.508 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.629 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.630 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:26.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:26.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.87s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:26.629383')
2026-02-20 20:09:26.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.87s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:26.629383')
2026-02-20 20:09:26.635 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:26.635 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:26.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.87s ago] ('2026-02-20 17:09:26.634380', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:26.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.87s ago] ('2026-02-20 17:09:26.634380', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:26.639 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.639 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:26.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:26.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.88s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:26.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.88s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:26.664 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:26.665 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:26.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:26.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:26.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.674 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:26.674 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:26.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.675 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.677 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:26.677 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:26.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:26.680 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:26.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.681 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.63s ago] ()
2026-02-20 20:09:26.683 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.684 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.696 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.696 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:26.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:26.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.94s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:26.695200')
2026-02-20 20:09:26.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.94s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:26.695200')
2026-02-20 20:09:26.702 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:26.702 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:26.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.94s ago] ('2026-02-20 17:09:26.701479', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:26.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.94s ago] ('2026-02-20 17:09:26.701479', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:26.704 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.717 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.718 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:26.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:26.719 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:26.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.93s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:26.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 39.93s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:26.723 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:26.724 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:26.724 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.724 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:26.727 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:26.728 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.728 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.731 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:26.731 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:26.731 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.731 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:26.734 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:26.735 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.735 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.738 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:26.738 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:26.738 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.739 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.69s ago] ()
2026-02-20 20:09:26.741 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:26.742 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:31.864 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:31.864 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:31.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:31.865 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:31.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45s ago] (100, 0)
2026-02-20 20:09:31.866 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45s ago] (100, 0)
2026-02-20 20:09:31.870 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:31.870 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:31.881 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:31.882 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:31.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:31.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:31.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.02s ago] (100, 0)
2026-02-20 20:09:31.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.02s ago] (100, 0)
2026-02-20 20:09:31.888 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:31.888 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:32.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:32.856 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:32.857 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:32.857 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:32.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.01s ago] (100, 0)
2026-02-20 20:09:32.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.01s ago] (100, 0)
2026-02-20 20:09:32.863 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:32.863 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:32.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.94s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:32.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.94s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:32.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:32.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:32.875 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.875 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.92s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:32.876 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.92s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:32.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:32.881 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:32.881 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.91s ago] ('doctor_review',)
2026-02-20 20:09:32.882 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.91s ago] ('doctor_review',)
2026-02-20 20:09:32.887 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:32.887 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:32.896 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:32.897 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:32.897 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:32.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:32.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.05s ago] (100, 0)
2026-02-20 20:09:32.898 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.05s ago] (100, 0)
2026-02-20 20:09:32.902 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:32.902 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:32.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.98s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:32.903 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.98s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:32.906 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.906 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.96s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:32.907 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.96s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:32.910 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.910 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:32.911 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.96s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:32.911 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.96s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:32.914 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:32.915 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:32.915 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.94s ago] ('doctor_review',)
2026-02-20 20:09:32.915 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 45.94s ago] ('doctor_review',)
2026-02-20 20:09:32.919 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:32.919 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:33.833 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:33.833 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:33.834 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:33.834 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:33.835 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.97s ago] (100, 0)
2026-02-20 20:09:33.835 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.97s ago] (100, 0)
2026-02-20 20:09:33.840 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:33.840 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:33.840 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.91s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:33.841 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.91s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:33.847 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:33.847 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:33.848 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.9s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:33.848 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.9s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:33.851 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:33.852 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:33.861 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:33.861 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:33.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:33.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:33.863 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 47s ago] (100, 0)
2026-02-20 20:09:33.863 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 47s ago] (100, 0)
2026-02-20 20:09:33.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:33.868 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:33.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.94s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:33.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.94s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:33.872 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:33.873 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:33.873 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.93s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:33.873 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 46.93s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:33.876 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:33.877 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.776 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.776 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.777 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.777 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.91s ago] (100, 0)
2026-02-20 20:09:35.778 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.91s ago] (100, 0)
2026-02-20 20:09:35.782 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.783 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.786 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.787 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.788 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.788 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.788 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] (100, 0)
2026-02-20 20:09:35.788 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] (100, 0)
2026-02-20 20:09:35.792 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.793 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.793 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.794 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] (100, 0)
2026-02-20 20:09:35.794 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] (100, 0)
2026-02-20 20:09:35.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.802 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.803 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.807 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.808 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.808 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.808 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] (100, 0)
2026-02-20 20:09:35.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] (100, 0)
2026-02-20 20:09:35.812 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.813 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.819 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.820 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.822 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.825 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.826 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.826 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.827 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.832 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.832 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.833 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:35.833 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.88s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:35.836 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.836 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:35.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:35.844 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.87s ago] ('doctor_review',)
2026-02-20 20:09:35.844 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.87s ago] ('doctor_review',)
2026-02-20 20:09:35.846 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.847 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.848 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.848 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.848 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.99s ago] (100, 0)
2026-02-20 20:09:35.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.99s ago] (100, 0)
2026-02-20 20:09:35.854 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.854 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.856 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.857 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.857 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.864 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.864 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.865 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.92s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.865 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.92s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.868 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.868 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:35.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.869 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:35.870 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 49.02s ago] (100, 0)
2026-02-20 20:09:35.870 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 49.02s ago] (100, 0)
2026-02-20 20:09:35.873 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.873 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.877 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.877 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:35.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.95s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.877 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.95s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:35.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.883 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.883 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.884 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.94s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:35.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.888 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:35.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:35.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.93s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:35.892 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:35.892 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:35.892 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.92s ago] ('doctor_review',)
2026-02-20 20:09:35.893 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 48.92s ago] ('doctor_review',)
2026-02-20 20:09:35.897 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:35.897 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:37.814 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:37.814 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:37.815 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:37.815 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:37.815 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.95s ago] (100, 0)
2026-02-20 20:09:37.815 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.95s ago] (100, 0)
2026-02-20 20:09:37.820 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:37.821 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:37.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.89s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:37.821 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.89s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:37.827 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:37.827 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:37.827 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:37.827 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.88s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:37.831 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:37.832 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:37.842 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:37.842 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:37.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:37.843 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:37.844 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.98s ago] (100, 0)
2026-02-20 20:09:37.844 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.98s ago] (100, 0)
2026-02-20 20:09:37.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:37.849 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:37.849 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.92s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:37.850 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.92s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:37.854 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:37.855 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:37.855 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.91s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:37.855 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 50.91s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:37.860 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:37.860 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:38.939 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.939 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.940 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.940 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.940 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.07s ago] (100, 0)
2026-02-20 20:09:38.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.07s ago] (100, 0)
2026-02-20 20:09:38.945 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:38.945 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:38.949 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.950 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.951 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.951 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.951 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.1s ago] (100, 0)
2026-02-20 20:09:38.951 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.1s ago] (100, 0)
2026-02-20 20:09:38.953 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.954 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.955 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.955 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.09s ago] (100, 0)
2026-02-20 20:09:38.955 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.09s ago] (100, 0)
2026-02-20 20:09:38.964 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:38.965 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:38.965 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:38.966 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:38.969 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.969 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.970 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:38.970 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:38.972 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.973 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:38.974 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.974 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:09:38.974 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.11s ago] (100, 0)
2026-02-20 20:09:38.975 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.11s ago] (100, 0)
2026-02-20 20:09:38.981 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.982 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.982 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:38.983 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:38.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:38.986 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:38.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:38.987 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:38.990 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:38.990 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:38.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.997 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:38.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:38.998 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.04s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:39.000 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.000 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.007 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:39.008 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:39.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.03s ago] ('doctor_review',)
2026-02-20 20:09:39.008 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.03s ago] ('doctor_review',)
2026-02-20 20:09:39.011 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:39.012 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:39.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:39.012 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:09:39.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.15s ago] (100, 0)
2026-02-20 20:09:39.013 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.15s ago] (100, 0)
2026-02-20 20:09:39.018 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.018 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.021 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.021 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.09s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:39.021 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.09s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:39.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:39.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:39.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.08s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:39.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.08s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:39.032 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:39.033 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:39.034 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:39.034 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:09:39.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.18s ago] (100, 0)
2026-02-20 20:09:39.034 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.18s ago] (100, 0)
2026-02-20 20:09:39.038 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.039 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.041 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:39.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:09:39.042 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.12s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:39.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.12s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:09:39.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.049 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.11s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:39.049 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.11s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:09:39.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.053 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:09:39.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.1s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:39.054 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.1s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:09:39.057 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:39.057 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:09:39.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.08s ago] ('doctor_review',)
2026-02-20 20:09:39.058 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 52.08s ago] ('doctor_review',)
2026-02-20 20:09:39.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:39.062 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.861 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.861 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.862 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:42.863 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:42.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.1s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:42.860757')
2026-02-20 20:09:42.864 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.1s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:42.860757')
2026-02-20 20:09:42.868 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:42.868 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:42.868 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.1s ago] ('2026-02-20 17:09:42.867155', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:42.869 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.1s ago] ('2026-02-20 17:09:42.867155', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:42.871 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.872 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.891 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.891 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.892 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:42.892 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:42.892 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.11s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:42.893 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.11s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:42.895 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:42.896 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:42.896 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.896 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:42.899 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:42.899 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.899 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:42.901 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:42.901 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.902 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.86s ago] ()
2026-02-20 20:09:42.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:42.904 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:42.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.85s ago] ()
2026-02-20 20:09:42.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.85s ago] ()
2026-02-20 20:09:42.906 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:42.906 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:42.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.85s ago] ()
2026-02-20 20:09:42.906 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.85s ago] ()
2026-02-20 20:09:42.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.908 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.916 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.917 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.917 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:42.918 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:09:42.918 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.16s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:42.916207')
2026-02-20 20:09:42.918 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.16s ago] ('5a561691-67cd-495d-81ab-552aa15ef564', '2026-02-20 17:09:42.916207')
2026-02-20 20:09:42.920 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:42.921 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:09:42.921 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.15s ago] ('2026-02-20 17:09:42.920302', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:42.921 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.15s ago] ('2026-02-20 17:09:42.920302', '5a561691-67cd-495d-81ab-552aa15ef564')
2026-02-20 20:09:42.923 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.923 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.935 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.936 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:09:42.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:42.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:09:42.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.15s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:42.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 56.15s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:09:42.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:42.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:09:42.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.944 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:42.944 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:09:42.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.944 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.947 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:42.947 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:09:42.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.947 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.950 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:42.950 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:09:42.950 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.950 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.953 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:42.954 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:09:42.958 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.958 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 44.9s ago] ()
2026-02-20 20:09:42.961 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:09:42.961 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:00.255 |                   INFO     |                   src.cli.main:signal_handler:282 -                   Shutting down servers...
2026-02-20 20:10:00.403 |                   INFO     |                   src.services.session_cleanup:stop:54 -                   Session cleanup service stopped
2026-02-20 20:10:00.404 |                   INFO     |                   src.api.app:lifespan:107 -                   Session cleanup service stopped
2026-02-20 20:10:00.404 |                   INFO     |                   src.api.app:lifespan:113 -                   RecordFlow client closed
2026-02-20 20:10:00.406 |                   INFO     |                   src.utils.db_manager:close:150 -                   Async database engine disposed
2026-02-20 20:10:00.406 |                   INFO     |                   src.api.app:lifespan:119 -                   Application shutdown
2026-02-20 20:10:00.407 |                   INFO     |                   src.cli.main:run_with_frontend:308 -                   Servers stopped
2026-02-20 20:10:00.408 |                   INFO     |                   src.cli.main:signal_handler:282 -                   Shutting down servers...
2026-02-20 20:10:28.301 |                   INFO     |                   src.cli.main:run_server:96 -                   Starting Clarinet server with frontend at http://127.0.0.1:8000
2026-02-20 20:10:28.303 |                   INFO     |                   src.cli.main:run_with_frontend:166 -                   Frontend not built. Building now...
2026-02-20 20:10:28.305 |                   INFO     |                   src.cli.main:run_with_frontend:189 -                   Building frontend...
2026-02-20 20:10:28.474 |                   INFO     |                   src.cli.main:run_with_frontend:193 -                   Frontend built successfully
2026-02-20 20:10:28.540 |                   INFO     |                   src.cli.main:run_with_frontend:290 -                   Starting Clarinet with frontend at http://127.0.0.1:8000
2026-02-20 20:10:28.540 |                   INFO     |                   src.cli.main:run_with_frontend:291 -                   Press Ctrl+C to stop both servers
2026-02-20 20:10:28.541 |                   INFO     |                   src.cli.main:run_backend:214 -                   Starting backend server at http://127.0.0.1:8000
2026-02-20 20:10:29.547 |                   INFO     |                   src.api.app:create_app:179 -                   Using static files from /home/nest/Projects/clarinet/dist
2026-02-20 20:10:29.549 |                   INFO     |                   src.cli.main:run_frontend_watch:219 -                   Starting frontend watch mode...
2026-02-20 20:10:29.550 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:92 -                   Creating database tables (async)...
2026-02-20 20:10:29.568 |                   INFO     |                   src.utils.db_manager:_create_async_engine:69 -                   Async database engine created: sqlite+aiosqlite:///clarinet_demo.db
2026-02-20 20:10:29.571 |                   INFO     |                   src.cli.main:run_frontend_watch:251 -                   'entr' not found. Using periodic rebuild (every 2 seconds)...
2026-02-20 20:10:29.575 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.575 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 20:10:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("access_token")
2026-02-20 20:10:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.576 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.579 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 20:10:29.579 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("patient")
2026-02-20 20:10:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.580 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.582 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 20:10:29.582 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("study")
2026-02-20 20:10:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.583 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.585 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 20:10:29.585 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("series")
2026-02-20 20:10:29.585 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.585 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.588 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 20:10:29.588 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userroleslink")
2026-02-20 20:10:29.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.590 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 20:10:29.591 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("user")
2026-02-20 20:10:29.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.591 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.593 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 20:10:29.593 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("userrole")
2026-02-20 20:10:29.594 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.594 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.596 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 20:10:29.596 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("recordtype")
2026-02-20 20:10:29.596 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.597 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.599 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 20:10:29.599 |                   INFO     |                   src.utils.logger:emit:40 -                   PRAGMA main.table_info("record")
2026-02-20 20:10:29.599 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.599 |                   INFO     |                   src.utils.logger:emit:40 -                   [raw sql] ()
2026-02-20 20:10:29.602 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.602 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.604 |                   INFO     |                   src.utils.db_manager:create_db_and_tables_async:95 -                   Database tables created (async)
2026-02-20 20:10:29.604 |                   INFO     |                   src.api.app:lifespan:46 -                   Database initialized with async support
2026-02-20 20:10:29.606 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.606 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('doctor',)
2026-02-20 20:10:29.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00069s] ('doctor',)
2026-02-20 20:10:29.662 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: doctor
2026-02-20 20:10:29.663 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.663 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.664 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006108s ago] ('auto',)
2026-02-20 20:10:29.664 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.006108s ago] ('auto',)
2026-02-20 20:10:29.666 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: auto
2026-02-20 20:10:29.667 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.667 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009699s ago] ('admin',)
2026-02-20 20:10:29.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.009699s ago] ('admin',)
2026-02-20 20:10:29.669 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: admin
2026-02-20 20:10:29.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.013s ago] ('expert',)
2026-02-20 20:10:29.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.013s ago] ('expert',)
2026-02-20 20:10:29.673 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: expert
2026-02-20 20:10:29.674 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.674 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT userrole.name 
FROM userrole 
WHERE userrole.name = ?
2026-02-20 20:10:29.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01657s ago] ('ordinator',)
2026-02-20 20:10:29.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01657s ago] ('ordinator',)
2026-02-20 20:10:29.676 |                   INFO     |                   src.utils.bootstrap:add_default_user_roles:38 -                   Role already exists: ordinator
2026-02-20 20:10:29.677 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.677 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.679 |                   INFO     |                   src.utils.bootstrap:filter_record_schemas:255 -                   Record type files found: ai_analysis.schema.json, expert_check.json, doctor_review.schema.json, ai_analysis.json, expert_check.schema.json, doctor_review.json
2026-02-20 20:10:29.679 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:276 -                   Found record type schemas: ['expert_check', 'ai_analysis', 'doctor_review']
2026-02-20 20:10:29.688 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.689 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.692 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.692 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ('expert_check',)
2026-02-20 20:10:29.693 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00089s] ('expert_check',)
2026-02-20 20:10:29.696 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: expert_check
2026-02-20 20:10:29.696 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.696 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.701 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01077s ago] ('ai_analysis',)
2026-02-20 20:10:29.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01077s ago] ('ai_analysis',)
2026-02-20 20:10:29.705 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: ai_analysis
2026-02-20 20:10:29.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.705 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.710 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.description, recordtype.label, recordtype.slicer_script, recordtype.slicer_result_validator, recordtype.name, recordtype.slicer_script_args, recordtype.slicer_result_validator_args, recordtype.max_users, recordtype.min_users, recordtype.level, recordtype.input_files, recordtype.output_files, recordtype.role_name, recordtype.data_schema 
FROM recordtype 
WHERE recordtype.name = ?
2026-02-20 20:10:29.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01958s ago] ('doctor_review',)
2026-02-20 20:10:29.711 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.01958s ago] ('doctor_review',)
2026-02-20 20:10:29.714 |                   INFO     |                   src.utils.bootstrap:create_demo_record_types_from_json:310 -                   Record type already exists: doctor_review
2026-02-20 20:10:29.714 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.715 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.716 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.717 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 20:10:29.719 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.is_superuser = 1
2026-02-20 20:10:29.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ()
2026-02-20 20:10:29.719 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00059s] ()
2026-02-20 20:10:29.722 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.722 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:29.760 |                   INFO     |                   src.services.recordflow.flow_loader:find_flow_files:120 -                   Found 1 flow files in .
2026-02-20 20:10:29.761 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: doctor_review
2026-02-20 20:10:29.761 |                   INFO     |                   src.services.recordflow.flow_loader:load_flows_from_file:67 -                   Loaded flow: ai_analysis
2026-02-20 20:10:29.761 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'doctor_review' on status 'finished'
2026-02-20 20:10:29.761 |                   INFO     |                   src.services.recordflow.engine:register_flow:61 -                   Registered flow for record type 'ai_analysis' on status 'finished'
2026-02-20 20:10:29.761 |                   INFO     |                   src.services.recordflow.flow_loader:load_and_register_flows:101 -                   Registered 2 flows from 1 files
2026-02-20 20:10:29.762 |                   INFO     |                   src.api.app:lifespan:89 -                   RecordFlow engine initialized
2026-02-20 20:10:29.762 |                   INFO     |                   src.services.session_cleanup:start:45 -                   Session cleanup service started
2026-02-20 20:10:29.762 |                   INFO     |                   src.api.app:lifespan:97 -                   Session cleanup service started
2026-02-20 20:10:29.762 |                   INFO     |                   src.api.app:lifespan:99 -                   Application startup complete
2026-02-20 20:10:29.763 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.763 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:29.767 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 20:10:29.767 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.expires_at <= ?
2026-02-20 20:10:29.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('2026-02-20 17:10:29.763052',)
2026-02-20 20:10:29.768 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00064s] ('2026-02-20 17:10:29.763052',)
2026-02-20 20:10:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 20:10:29.772 |                   INFO     |                   src.utils.logger:emit:40 -                   ROLLBACK
2026-02-20 20:10:41.392 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.392 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.395 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:10:41.395 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:10:41.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00083s] ('admin@clarinet.ru',)
2026-02-20 20:10:41.396 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00083s] ('admin@clarinet.ru',)
2026-02-20 20:10:41.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:10:41.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:10:41.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.484988')
2026-02-20 20:10:41.487 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.484988')
2026-02-20 20:10:41.492 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.492 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.493 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00093s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.490234', 1, 0)
2026-02-20 20:10:41.493 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00093s] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.490234', 1, 0)
2026-02-20 20:10:41.498 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:10:41.498 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:10:41.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('781785e8-bb97-4509-bb25-dc8624270e02',)
2026-02-20 20:10:41.499 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00080s] ('781785e8-bb97-4509-bb25-dc8624270e02',)
2026-02-20 20:10:41.501 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-20 20:10:41.505 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.505 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.505 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.501790', '2026-02-21 17:10:41.501501', '2026-02-20 17:10:41.501839', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:10:41.505 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00084s] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:10:41.501790', '2026-02-21 17:10:41.501501', '2026-02-20 17:10:41.501839', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:10:41.508 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.508 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.527 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-20 20:10:41.527 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-20 20:10:41.536 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.536 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.538 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:41.538 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:41.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:41.535763')
2026-02-20 20:10:41.538 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00065s] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:41.535763')
2026-02-20 20:10:41.544 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:41.544 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:41.544 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00075s] ('2026-02-20 17:10:41.541719', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:41.544 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00075s] ('2026-02-20 17:10:41.541719', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:41.546 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.547 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.558 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.558 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.559 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:41.560 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:41.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00055s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:41.560 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00055s] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:41.572 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.573 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.590 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.590 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.592 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.592 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.593 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] (100, 0)
2026-02-20 20:10:41.593 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00085s] (100, 0)
2026-02-20 20:10:41.595 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.596 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.616 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.616 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] (100, 0)
2026-02-20 20:10:41.617 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00086s] (100, 0)
2026-02-20 20:10:41.618 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.619 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:41.622 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.622 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:10:41.622 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] (100, 0)
2026-02-20 20:10:41.622 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00061s] (100, 0)
2026-02-20 20:10:41.661 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.661 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.666 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:41.666 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:41.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ('doctor_review',)
2026-02-20 20:10:41.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ('doctor_review',)
2026-02-20 20:10:41.670 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.671 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00097s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:41.671 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00097s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:41.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:41.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:41.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:41.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:41.683 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:41.683 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:41.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:41.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00088s] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:41.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.689 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00103s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:41.690 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00103s] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:41.691 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.692 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:41.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:41.699 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00096s] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:41.703 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:41.704 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.553 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.554 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.554 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.963s ago] (100, 0)
2026-02-20 20:10:46.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.963s ago] (100, 0)
2026-02-20 20:10:46.558 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.558 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.561 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.562 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.563 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.563 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.563 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.948s ago] (100, 0)
2026-02-20 20:10:46.564 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.948s ago] (100, 0)
2026-02-20 20:10:46.570 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.570 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.571 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:46.571 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:46.572 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.034s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:46.569851')
2026-02-20 20:10:46.572 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.034s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:46.569851')
2026-02-20 20:10:46.576 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.576 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.577 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.577 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.578 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.986s ago] (100, 0)
2026-02-20 20:10:46.578 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.986s ago] (100, 0)
2026-02-20 20:10:46.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:46.584 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:46.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.919s ago] ('doctor_review',)
2026-02-20 20:10:46.585 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.919s ago] ('doctor_review',)
2026-02-20 20:10:46.587 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:46.587 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:46.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.044s ago] ('2026-02-20 17:10:46.586662', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:46.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.044s ago] ('2026-02-20 17:10:46.586662', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:46.590 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.591 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.612 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:46.613 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:46.613 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.936s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:46.614 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.936s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:46.614 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.615 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.618 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.618 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:46.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:46.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.06s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:46.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.06s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:46.622 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.623 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.623 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.935s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:46.624 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.935s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:46.627 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:10:46.628 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:10:46.628 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00111s] ()
2026-02-20 20:10:46.629 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00111s] ()
2026-02-20 20:10:46.631 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.632 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.935s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:46.632 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.935s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:46.635 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:10:46.636 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:10:46.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ()
2026-02-20 20:10:46.636 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00070s] ()
2026-02-20 20:10:46.640 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.641 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.644 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:10:46.645 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:10:46.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ()
2026-02-20 20:10:46.645 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00067s] ()
2026-02-20 20:10:46.648 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.648 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.649 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.649 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:10:46.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.034s ago] (100, 0)
2026-02-20 20:10:46.650 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.034s ago] (100, 0)
2026-02-20 20:10:46.653 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:10:46.653 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:10:46.654 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ()
2026-02-20 20:10:46.654 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00098s] ()
2026-02-20 20:10:46.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:46.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:46.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.993s ago] ('doctor_review',)
2026-02-20 20:10:46.658 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.993s ago] ('doctor_review',)
2026-02-20 20:10:46.662 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:10:46.662 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:10:46.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ()
2026-02-20 20:10:46.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] ()
2026-02-20 20:10:46.665 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:46.666 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:10:46.666 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.989s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:46.667 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.989s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:10:46.668 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.669 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.672 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.984s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:46.673 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.984s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:10:46.677 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:10:46.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.98s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:46.678 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.98s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:10:46.681 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.681 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:46.682 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:46.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.145s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:46.681028')
2026-02-20 20:10:46.683 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.145s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:46.681028')
2026-02-20 20:10:46.687 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.688 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.689 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:46.690 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:46.690 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.146s ago] ('2026-02-20 17:10:46.688935', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:46.690 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.146s ago] ('2026-02-20 17:10:46.688935', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:46.694 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.694 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.707 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:46.708 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:46.708 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:46.708 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.149s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:46.708 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 5.149s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:46.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:10:46.711 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:10:46.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08422s ago] ()
2026-02-20 20:10:46.712 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.08422s ago] ()
2026-02-20 20:10:46.714 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:10:46.715 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:10:46.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07945s ago] ()
2026-02-20 20:10:46.715 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07945s ago] ()
2026-02-20 20:10:46.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:10:46.718 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:10:46.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07369s ago] ()
2026-02-20 20:10:46.718 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.07369s ago] ()
2026-02-20 20:10:46.721 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:10:46.721 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:10:46.721 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06852s ago] ()
2026-02-20 20:10:46.722 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06852s ago] ()
2026-02-20 20:10:46.724 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:10:46.724 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:10:46.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06303s ago] ()
2026-02-20 20:10:46.725 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 0.06303s ago] ()
2026-02-20 20:10:46.727 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:46.727 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.415 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.415 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.416 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:53.416 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:53.416 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.88s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:53.414924')
2026-02-20 20:10:53.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.88s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:53.414924')
2026-02-20 20:10:53.421 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:53.421 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:53.422 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.88s ago] ('2026-02-20 17:10:53.420330', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:53.422 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.88s ago] ('2026-02-20 17:10:53.420330', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:53.424 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.424 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.443 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.444 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:53.444 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:53.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.89s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:53.445 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.89s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:53.451 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.452 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] (1,)
2026-02-20 20:10:53.452 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00094s] (1,)
2026-02-20 20:10:53.457 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:10:53.457 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:10:53.458 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('ce9779f6a331431b89889d2d52bf5cfb', 1)
2026-02-20 20:10:53.458 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00068s] ('ce9779f6a331431b89889d2d52bf5cfb', 1)
2026-02-20 20:10:53.461 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.461 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.473 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.473 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:53.475 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.475 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (1,)
2026-02-20 20:10:53.476 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00079s] (1,)
2026-02-20 20:10:53.481 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.481 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:53.481 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] (1,)
2026-02-20 20:10:53.481 |                   INFO     |                   src.utils.logger:emit:40 -                   [generated in 0.00066s] (1,)
2026-02-20 20:10:53.485 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:53.486 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:53.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.82s ago] ('doctor_review',)
2026-02-20 20:10:53.486 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.82s ago] ('doctor_review',)
2026-02-20 20:10:53.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:10:53.490 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:10:53.490 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.81s ago] ('PAT001',)
2026-02-20 20:10:53.491 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.81s ago] ('PAT001',)
2026-02-20 20:10:53.495 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:10:53.496 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:10:53.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.81s ago] ('1.2.840.11111.1.1',)
2026-02-20 20:10:53.496 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.81s ago] ('1.2.840.11111.1.1',)
2026-02-20 20:10:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:10:53.499 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:10:53.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.8s ago] ('1.2.840.11111.1.1.1',)
2026-02-20 20:10:53.500 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 11.8s ago] ('1.2.840.11111.1.1.1',)
2026-02-20 20:10:53.503 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:53.504 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.305 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.306 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.306 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:58.307 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:10:58.307 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.77s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:58.305371')
2026-02-20 20:10:58.307 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.77s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:10:58.305371')
2026-02-20 20:10:58.311 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:58.311 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:10:58.311 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.77s ago] ('2026-02-20 17:10:58.310379', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:58.312 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.77s ago] ('2026-02-20 17:10:58.310379', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:10:58.314 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.314 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.334 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.334 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:58.335 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:10:58.335 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.78s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:58.335 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.78s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:10:58.338 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.339 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.339 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.888s ago] (3,)
2026-02-20 20:10:58.339 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.888s ago] (3,)
2026-02-20 20:10:58.342 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:10:58.342 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:10:58.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.885s ago] ('ce9779f6a331431b89889d2d52bf5cfb', 3)
2026-02-20 20:10:58.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.885s ago] ('ce9779f6a331431b89889d2d52bf5cfb', 3)
2026-02-20 20:10:58.345 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.345 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.360 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.360 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:10:58.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.361 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.361 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.886s ago] (3,)
2026-02-20 20:10:58.362 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.886s ago] (3,)
2026-02-20 20:10:58.365 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.366 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:10:58.366 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.885s ago] (3,)
2026-02-20 20:10:58.366 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 4.885s ago] (3,)
2026-02-20 20:10:58.370 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:58.370 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:10:58.370 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.7s ago] ('doctor_review',)
2026-02-20 20:10:58.371 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.7s ago] ('doctor_review',)
2026-02-20 20:10:58.374 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:10:58.374 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:10:58.375 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.7s ago] ('PAT002',)
2026-02-20 20:10:58.375 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.7s ago] ('PAT002',)
2026-02-20 20:10:58.378 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:10:58.378 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:10:58.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.69s ago] ('1.2.840.11111.2.1',)
2026-02-20 20:10:58.379 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.69s ago] ('1.2.840.11111.2.1',)
2026-02-20 20:10:58.382 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:10:58.382 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:10:58.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.69s ago] ('1.2.840.11111.2.1.1',)
2026-02-20 20:10:58.383 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 16.69s ago] ('1.2.840.11111.2.1.1',)
2026-02-20 20:10:58.386 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:10:58.386 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.631 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.632 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.632 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:01.632 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:01.633 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.1s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:01.631254')
2026-02-20 20:11:01.633 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.1s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:01.631254')
2026-02-20 20:11:01.636 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:01.637 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:01.637 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.09s ago] ('2026-02-20 17:11:01.635952', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:01.637 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.09s ago] ('2026-02-20 17:11:01.635952', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:01.639 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.639 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.659 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:01.660 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:01.660 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:01.661 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:01.664 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.664 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info AS record_context_info, record.status AS record_status, record.id AS record_id, record.patient_id AS record_patient_id, record.study_uid AS record_study_uid, record.series_uid AS record_series_uid, record.record_type_name AS record_record_type_name, record.user_id AS record_user_id, record.study_anon_uid AS record_study_anon_uid, record.series_anon_uid AS record_series_anon_uid, record.clarinet_storage_path AS record_clarinet_storage_path, record.files AS record_files, record.data AS record_data, record.created_at AS record_created_at, record.changed_at AS record_changed_at, record.started_at AS record_started_at, record.finished_at AS record_finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.214s ago] (6,)
2026-02-20 20:11:01.665 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.214s ago] (6,)
2026-02-20 20:11:01.668 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:11:01.668 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE record SET user_id=?, changed_at=CURRENT_TIMESTAMP WHERE record.id = ?
2026-02-20 20:11:01.668 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.211s ago] ('ce9779f6a331431b89889d2d52bf5cfb', 6)
2026-02-20 20:11:01.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.211s ago] ('ce9779f6a331431b89889d2d52bf5cfb', 6)
2026-02-20 20:11:01.671 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.671 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.683 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.683 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:01.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.684 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.209s ago] (6,)
2026-02-20 20:11:01.684 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.209s ago] (6,)
2026-02-20 20:11:01.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.688 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record 
WHERE record.id = ?
2026-02-20 20:11:01.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.208s ago] (6,)
2026-02-20 20:11:01.689 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 8.208s ago] (6,)
2026-02-20 20:11:01.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:01.693 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:01.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.03s ago] ('doctor_review',)
2026-02-20 20:11:01.694 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.03s ago] ('doctor_review',)
2026-02-20 20:11:01.697 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:11:01.698 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?)
2026-02-20 20:11:01.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.02s ago] ('PAT002',)
2026-02-20 20:11:01.698 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.02s ago] ('PAT002',)
2026-02-20 20:11:01.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:11:01.702 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?)
2026-02-20 20:11:01.702 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.01s ago] ('1.2.840.11111.2.2',)
2026-02-20 20:11:01.703 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.01s ago] ('1.2.840.11111.2.2',)
2026-02-20 20:11:01.706 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:11:01.706 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?)
2026-02-20 20:11:01.707 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.01s ago] ('1.2.840.11111.2.2.2',)
2026-02-20 20:11:01.707 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 20.01s ago] ('1.2.840.11111.2.2.2',)
2026-02-20 20:11:01.710 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:01.710 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:03.758 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:03.758 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:03.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:03.759 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:03.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.14s ago] (100, 0)
2026-02-20 20:11:03.760 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.14s ago] (100, 0)
2026-02-20 20:11:03.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:03.765 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:03.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.1s ago] ('doctor_review',)
2026-02-20 20:11:03.765 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.1s ago] ('doctor_review',)
2026-02-20 20:11:03.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:03.770 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:03.770 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:03.771 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:03.779 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.779 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:03.780 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:03.785 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.785 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.785 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:03.786 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.09s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:03.791 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:03.791 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:03.799 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:03.799 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:03.800 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:03.800 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:03.801 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.19s ago] (100, 0)
2026-02-20 20:11:03.801 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.19s ago] (100, 0)
2026-02-20 20:11:03.805 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:03.805 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:03.805 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.14s ago] ('doctor_review',)
2026-02-20 20:11:03.806 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.14s ago] ('doctor_review',)
2026-02-20 20:11:03.809 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:03.809 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:03.809 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.13s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:03.810 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.13s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:03.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.813 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.13s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:03.814 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.13s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:03.818 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.818 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:03.818 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.12s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:03.818 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.12s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:03.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:03.823 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.004 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.004 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.005 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.005 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.006 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] (100, 0)
2026-02-20 20:11:05.006 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] (100, 0)
2026-02-20 20:11:05.010 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.010 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.012 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.013 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.014 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] (100, 0)
2026-02-20 20:11:05.014 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] (100, 0)
2026-02-20 20:11:05.016 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.017 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.017 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.018 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.018 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] (100, 0)
2026-02-20 20:11:05.018 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] (100, 0)
2026-02-20 20:11:05.025 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:05.025 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:05.026 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('doctor_review',)
2026-02-20 20:11:05.026 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('doctor_review',)
2026-02-20 20:11:05.029 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.030 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.030 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.033 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.034 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.035 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.035 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.44s ago] (100, 0)
2026-02-20 20:11:05.035 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.44s ago] (100, 0)
2026-02-20 20:11:05.039 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.040 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.040 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.042 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.043 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.043 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.045 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.051 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.051 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.051 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.052 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.053 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.054 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.058 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.059 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.059 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:05.059 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.36s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:05.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.062 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.063 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.063 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.063 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.44s ago] (100, 0)
2026-02-20 20:11:05.063 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.44s ago] (100, 0)
2026-02-20 20:11:05.070 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.070 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.072 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.073 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.073 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.079 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.079 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.079 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.4s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.082 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.082 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:05.083 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.083 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:05.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.47s ago] (100, 0)
2026-02-20 20:11:05.084 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.47s ago] (100, 0)
2026-02-20 20:11:05.088 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.089 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.091 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:05.092 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:05.092 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.43s ago] ('doctor_review',)
2026-02-20 20:11:05.092 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.43s ago] ('doctor_review',)
2026-02-20 20:11:05.097 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.097 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:05.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.42s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.098 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.42s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:05.102 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.102 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.102 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.103 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:05.107 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.107 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:05.107 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:05.108 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.41s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:05.112 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:05.113 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.507 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.507 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.508 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.508 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.508 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.92s ago] (100, 0)
2026-02-20 20:11:09.508 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.92s ago] (100, 0)
2026-02-20 20:11:09.511 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.512 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.515 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.516 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.516 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.9s ago] (100, 0)
2026-02-20 20:11:09.517 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.9s ago] (100, 0)
2026-02-20 20:11:09.522 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.523 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.524 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:09.524 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:09.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.99s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:09.522155')
2026-02-20 20:11:09.525 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.99s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:09.522155')
2026-02-20 20:11:09.532 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:09.533 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:09.533 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.87s ago] ('doctor_review',)
2026-02-20 20:11:09.534 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.87s ago] ('doctor_review',)
2026-02-20 20:11:09.535 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.536 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.536 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.536 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.537 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] (100, 0)
2026-02-20 20:11:09.537 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] (100, 0)
2026-02-20 20:11:09.541 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:09.541 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:09.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28s ago] ('2026-02-20 17:11:09.540574', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:09.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28s ago] ('2026-02-20 17:11:09.540574', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:09.545 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:09.545 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:09.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.87s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:09.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.87s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:09.548 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.549 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.568 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.569 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.572 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.572 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.573 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:09.573 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:09.574 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.01s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:09.574 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.01s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:09.576 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.577 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.577 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.89s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:09.577 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.89s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:09.580 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:09.580 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:09.581 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.581 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.583 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.89s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:09.584 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.89s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:09.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:09.587 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:09.587 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.588 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.591 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.591 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.595 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:09.595 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:09.595 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.595 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.599 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.599 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.600 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:09.600 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.98s ago] (100, 0)
2026-02-20 20:11:09.601 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.98s ago] (100, 0)
2026-02-20 20:11:09.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:09.603 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:09.603 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.604 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.607 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:09.607 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:09.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] ('doctor_review',)
2026-02-20 20:11:09.608 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] ('doctor_review',)
2026-02-20 20:11:09.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:09.610 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:09.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.611 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 22.95s ago] ()
2026-02-20 20:11:09.613 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:09.613 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:09.614 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:09.614 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.94s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:09.616 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.616 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.619 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.619 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:09.620 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.93s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:09.624 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.625 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:09.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.93s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:09.625 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 27.93s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:09.628 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.629 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:09.630 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:09.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.09s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:09.628522')
2026-02-20 20:11:09.631 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.09s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:09.628522')
2026-02-20 20:11:09.635 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.636 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.637 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:09.638 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:09.639 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.1s ago] ('2026-02-20 17:11:09.637393', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:09.639 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.1s ago] ('2026-02-20 17:11:09.637393', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:09.642 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.642 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.658 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.658 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:09.659 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:09.659 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:09.659 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:09.659 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 28.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:09.662 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:09.662 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:09.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.04s ago] ()
2026-02-20 20:11:09.663 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.04s ago] ()
2026-02-20 20:11:09.666 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:09.666 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:09.666 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.03s ago] ()
2026-02-20 20:11:09.666 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.03s ago] ()
2026-02-20 20:11:09.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:09.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:09.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.03s ago] ()
2026-02-20 20:11:09.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.03s ago] ()
2026-02-20 20:11:09.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:09.672 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:09.673 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.02s ago] ()
2026-02-20 20:11:09.673 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.02s ago] ()
2026-02-20 20:11:09.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:09.675 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:09.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.01s ago] ()
2026-02-20 20:11:09.676 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 23.01s ago] ()
2026-02-20 20:11:09.678 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:09.678 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:10.886 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:10.886 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:10.887 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:10.887 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:10.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.27s ago] (100, 0)
2026-02-20 20:11:10.888 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.27s ago] (100, 0)
2026-02-20 20:11:10.893 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:10.893 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:10.894 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.23s ago] ('doctor_review',)
2026-02-20 20:11:10.894 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.23s ago] ('doctor_review',)
2026-02-20 20:11:10.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:10.898 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:10.899 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.22s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:10.899 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.22s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:10.903 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.904 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.22s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:10.904 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.22s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:10.908 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.908 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.21s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:10.908 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.21s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:10.914 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:10.914 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:10.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:10.922 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:10.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:10.923 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:10.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.31s ago] (100, 0)
2026-02-20 20:11:10.923 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.31s ago] (100, 0)
2026-02-20 20:11:10.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:10.927 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:10.928 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.26s ago] ('doctor_review',)
2026-02-20 20:11:10.928 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.26s ago] ('doctor_review',)
2026-02-20 20:11:10.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:10.931 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:10.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.25s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:10.932 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.25s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:10.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.936 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.936 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.25s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:10.937 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.25s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:10.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.941 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:10.941 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.24s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:10.942 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 29.24s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:10.946 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:10.947 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.188 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.188 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.189 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.6s ago] (100, 0)
2026-02-20 20:11:12.190 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.6s ago] (100, 0)
2026-02-20 20:11:12.194 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.194 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.197 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.197 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.58s ago] (100, 0)
2026-02-20 20:11:12.198 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.58s ago] (100, 0)
2026-02-20 20:11:12.202 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.202 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.202 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:12.203 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:12.203 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.67s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:12.201568')
2026-02-20 20:11:12.203 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.67s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:12.201568')
2026-02-20 20:11:12.209 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.54s ago] ('doctor_review',)
2026-02-20 20:11:12.210 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.54s ago] ('doctor_review',)
2026-02-20 20:11:12.214 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:12.214 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:12.214 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.67s ago] ('2026-02-20 17:11:12.213105', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:12.215 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.67s ago] ('2026-02-20 17:11:12.213105', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:12.217 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.218 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.218 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.218 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.219 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.63s ago] (100, 0)
2026-02-20 20:11:12.219 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.63s ago] (100, 0)
2026-02-20 20:11:12.221 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.222 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.55s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:12.224 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.55s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:12.243 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.244 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.245 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.245 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.246 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:12.246 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:12.246 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.69s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:12.247 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.69s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:12.251 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.252 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.252 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.56s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:12.252 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.56s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:12.254 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:12.254 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:12.255 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.255 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.258 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.259 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.259 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.56s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:12.259 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.56s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:12.261 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:12.261 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:12.262 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.262 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.266 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.267 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.269 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:12.269 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:12.269 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.270 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.63s ago] ()
2026-02-20 20:11:12.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:12.273 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:12.274 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.62s ago] ()
2026-02-20 20:11:12.274 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.62s ago] ()
2026-02-20 20:11:12.276 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.277 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.277 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.277 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:11:12.278 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.66s ago] (100, 0)
2026-02-20 20:11:12.278 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.66s ago] (100, 0)
2026-02-20 20:11:12.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:12.281 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:12.281 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.62s ago] ()
2026-02-20 20:11:12.282 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.62s ago] ()
2026-02-20 20:11:12.284 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:12.284 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:11:12.285 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.62s ago] ('doctor_review',)
2026-02-20 20:11:12.285 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.62s ago] ('doctor_review',)
2026-02-20 20:11:12.287 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.287 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.290 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:12.290 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:11:12.290 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:12.290 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:11:12.295 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.295 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.296 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:12.296 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:11:12.299 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.299 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:12.300 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:11:12.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.76s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:12.298904')
2026-02-20 20:11:12.301 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.76s ago] ('1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b', '2026-02-20 17:11:12.298904')
2026-02-20 20:11:12.304 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.305 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:11:12.305 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:12.305 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.61s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:11:12.307 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:12.308 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:11:12.308 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.76s ago] ('2026-02-20 17:11:12.307146', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:12.308 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.76s ago] ('2026-02-20 17:11:12.307146', '1ce8cc3d-4cf8-4a06-8480-8e8a3b49f25b')
2026-02-20 20:11:12.312 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.313 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.314 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.314 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.327 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.327 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:11:12.328 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:12.328 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:11:12.328 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.77s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:12.328 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 30.77s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:11:12.332 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:12.333 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM study
2026-02-20 20:11:12.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.71s ago] ()
2026-02-20 20:11:12.333 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.71s ago] ()
2026-02-20 20:11:12.336 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:12.336 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM record
2026-02-20 20:11:12.337 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.7s ago] ()
2026-02-20 20:11:12.337 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.7s ago] ()
2026-02-20 20:11:12.339 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:12.340 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM user
2026-02-20 20:11:12.340 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.7s ago] ()
2026-02-20 20:11:12.340 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.7s ago] ()
2026-02-20 20:11:12.343 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:12.343 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM patient
2026-02-20 20:11:12.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.69s ago] ()
2026-02-20 20:11:12.343 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.69s ago] ()
2026-02-20 20:11:12.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:12.346 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.status, count(*) AS count_1 
FROM record GROUP BY record.status
2026-02-20 20:11:12.346 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.68s ago] ()
2026-02-20 20:11:12.347 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 25.68s ago] ()
2026-02-20 20:11:12.349 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:11:12.349 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.415 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.415 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.416 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:14:12.416 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE lower(user.email) = lower(?)
2026-02-20 20:14:12.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('admin@clarinet.ru',)
2026-02-20 20:14:12.417 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('admin@clarinet.ru',)
2026-02-20 20:14:12.541 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:14:12.541 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT count(*) AS count_1 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ?
2026-02-20 20:14:12.541 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.540468')
2026-02-20 20:14:12.542 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.540468')
2026-02-20 20:14:12.546 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.546 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token 
FROM access_token 
WHERE access_token.user_id = ? AND access_token.expires_at > ? ORDER BY access_token.created_at
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.545133', 1, 0)
2026-02-20 20:14:12.546 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.545133', 1, 0)
2026-02-20 20:14:12.550 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:14:12.550 |                   INFO     |                   src.utils.logger:emit:40 -                   DELETE FROM access_token WHERE access_token.token IN (?)
2026-02-20 20:14:12.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b',)
2026-02-20 20:14:12.550 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('51bf832e-54d9-4dfa-af28-bb389f74070b',)
2026-02-20 20:14:12.552 |                   INFO     |                   src.api.auth_config:_enforce_session_limit:264 -                   Removed 1 old sessions for user ce9779f6-a331-431b-8988-9d2d52bf5cfb (limit: 5)
2026-02-20 20:14:12.554 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.554 |                   INFO     |                   src.utils.logger:emit:40 -                   INSERT INTO access_token (token, user_id, created_at, expires_at, last_accessed, user_agent, ip_address) VALUES (?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.554 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('04fc1926-2f00-4c64-8773-b44e14eba16a', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.553307', '2026-02-21 17:14:12.552975', '2026-02-20 17:14:12.553335', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:14:12.555 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('04fc1926-2f00-4c64-8773-b44e14eba16a', 'ce9779f6a331431b89889d2d52bf5cfb', '2026-02-20 17:14:12.553307', '2026-02-21 17:14:12.552975', '2026-02-20 17:14:12.553335', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36', '127.0.0.1')
2026-02-20 20:14:12.556 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.557 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.576 |                   INFO     |                   src.api.auth_config:write_token:120 -                   Session created for user ce9779f6-a331-431b-8988-9d2d52bf5cfb
2026-02-20 20:14:12.577 |                   INFO     |                   src.api.auth_config:on_after_login:53 -                   User ce9779f6-a331-431b-8988-9d2d52bf5cfb logged in.
2026-02-20 20:14:12.588 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.589 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:14:12.589 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT access_token.token, access_token.user_id, access_token.created_at, access_token.expires_at, access_token.last_accessed, access_token.user_agent, access_token.ip_address 
FROM access_token 
WHERE access_token.token = ? AND access_token.expires_at > ?
2026-02-20 20:14:12.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('04fc1926-2f00-4c64-8773-b44e14eba16a', '2026-02-20 17:14:12.587987')
2026-02-20 20:14:12.590 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('04fc1926-2f00-4c64-8773-b44e14eba16a', '2026-02-20 17:14:12.587987')
2026-02-20 20:14:12.593 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:14:12.593 |                   INFO     |                   src.utils.logger:emit:40 -                   UPDATE access_token SET last_accessed=? WHERE access_token.token = ?
2026-02-20 20:14:12.593 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('2026-02-20 17:14:12.592663', '04fc1926-2f00-4c64-8773-b44e14eba16a')
2026-02-20 20:14:12.594 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('2026-02-20 17:14:12.592663', '04fc1926-2f00-4c64-8773-b44e14eba16a')
2026-02-20 20:14:12.596 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.596 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.608 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.608 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.609 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:14:12.609 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user 
WHERE user.id = ?
2026-02-20 20:14:12.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:14:12.610 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211.1s ago] ('ce9779f6a331431b89889d2d52bf5cfb',)
2026-02-20 20:14:12.613 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.613 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.636 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.637 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.637 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.638 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified, user.id 
FROM user
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.638 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.638 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.641 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.642 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.643 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.643 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT record.context_info, record.status, record.id, record.patient_id, record.study_uid, record.series_uid, record.record_type_name, record.user_id, record.study_anon_uid, record.series_anon_uid, record.clarinet_storage_path, record.files, record.data, record.created_at, record.changed_at, record.started_at, record.finished_at 
FROM record
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.644 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.647 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.648 |                   INFO     |                   src.utils.logger:emit:40 -                   BEGIN (implicit)
2026-02-20 20:14:12.648 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.649 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.date, study.study_uid, study.patient_id, study.anon_uid 
FROM study
 LIMIT ? OFFSET ?
2026-02-20 20:14:12.649 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.649 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] (100, 0)
2026-02-20 20:14:12.654 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.655 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:14:12.658 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT recordtype.name AS recordtype_name, recordtype.description AS recordtype_description, recordtype.label AS recordtype_label, recordtype.slicer_script AS recordtype_slicer_script, recordtype.slicer_result_validator AS recordtype_slicer_result_validator, recordtype.slicer_script_args AS recordtype_slicer_script_args, recordtype.slicer_result_validator_args AS recordtype_slicer_result_validator_args, recordtype.max_users AS recordtype_max_users, recordtype.min_users AS recordtype_min_users, recordtype.level AS recordtype_level, recordtype.input_files AS recordtype_input_files, recordtype.output_files AS recordtype_output_files, recordtype.role_name AS recordtype_role_name, recordtype.data_schema AS recordtype_data_schema 
FROM recordtype 
WHERE recordtype.name IN (?)
2026-02-20 20:14:12.659 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('doctor_review',)
2026-02-20 20:14:12.659 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('doctor_review',)
2026-02-20 20:14:12.661 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.661 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.study_uid AS series_study_uid, series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number 
FROM series 
WHERE series.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.662 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:14:12.662 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:14:12.668 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:14:12.669 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:14:12.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:14:12.669 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:14:12.673 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:14:12.673 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT patient.id AS patient_id, patient.name AS patient_name, patient.anon_name AS patient_anon_name, patient.auto_id AS patient_auto_id 
FROM patient 
WHERE patient.id IN (?, ?, ?, ?, ?)
2026-02-20 20:14:12.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:14:12.674 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('PAT001', 'PAT002', 'PAT003', 'PAT004', 'PAT005')
2026-02-20 20:14:12.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.678 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT study.study_uid AS study_study_uid, study.date AS study_date, study.patient_id AS study_patient_id, study.anon_uid AS study_anon_uid 
FROM study 
WHERE study.study_uid IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:14:12.679 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1', '1.2.840.11111.2.1', '1.2.840.11111.2.2', '1.2.840.11111.3.1', '1.2.840.11111.4.1', '1.2.840.11111.4.2', '1.2.840.11111.5.1', '1.2.840.11111.5.2')
2026-02-20 20:14:12.680 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.681 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.686 |                   INFO     |                   src.utils.logger:emit:40 -                   SELECT series.series_uid AS series_series_uid, series.anon_uid AS series_anon_uid, series.series_description AS series_series_description, series.series_number AS series_series_number, series.study_uid AS series_study_uid 
FROM series 
WHERE series.series_uid IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-20 20:14:12.687 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:14:12.687 |                   INFO     |                   src.utils.logger:emit:40 -                   [cached since 211s ago] ('1.2.840.11111.1.1.1', '1.2.840.11111.1.1.2', '1.2.840.11111.2.1.1', '1.2.840.11111.2.1.2', '1.2.840.11111.2.2.1', '1.2.840.11111.2.2.2', '1.2.840.11111.3.1.1', '1.2.840.11111.3.1.2', '1.2.840.11111.3.1.3', '1.2.840.11111.4.1.1', '1.2.840.11111.4.1.2', '1.2.840.11111.4.1.3', '1.2.840.11111.4.2.1', '1.2.840.11111.4.2.2', '1.2.840.11111.5.1.1', '1.2.840.11111.5.1.2', '1.2.840.11111.5.2.1', '1.2.840.11111.5.2.2', '1.2.840.11111.5.2.3')
2026-02-20 20:14:12.692 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
2026-02-20 20:14:12.692 |                   INFO     |                   src.utils.logger:emit:40 -                   COMMIT
